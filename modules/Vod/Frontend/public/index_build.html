<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <meta name="author" content="jory|jorycn@163.com">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <script>
      @php
              $url = url('/');
              $parsedUrl = parse_url($url);

              $baseUrl = $url . '/';
              $baseProtocol = array_key_exists('scheme', $parsedUrl) ? $parsedUrl['scheme'] : 'http';
              $baseDomain = array_key_exists('host', $parsedUrl) ? $parsedUrl['host'] : '';
              $basePort = array_key_exists('port', $parsedUrl) ? $parsedUrl['port'] : 'false';
              $defaultParameters = method_exists(app('url'), 'getDefaultParameters') ? json_encode(app('url')->getDefaultParameters()) : '[]';
      @endphp
      window.Ziggy = {
        namedRoutes: {
          "p.vod.index":{"uri":"vod","methods":["GET","HEAD"],"domain":null},
          "p.vod.lesson.info":{"uri":"vod\/lessons","methods":["GET","HEAD"],"domain":null},
        },
        baseUrl: '{{ $baseUrl }}',
        baseProtocol: '{{ $baseProtocol}}',
        baseDomain: '{{ $baseDomain }}',
        basePort: false,
        defaultParameters: '{{ $defaultParameters}}'
      };
    </script>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but frontend doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
