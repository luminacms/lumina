(function(e){function t(t){for(var a,i,r=t[0],c=t[1],l=t[2],d=0,u=[];d<r.length;d++)i=r[d],o[i]&&u.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(u.length)u.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},i={index:0},o={index:0},s=[];function r(e){return c.p+"editor/js/"+({}[e]||e)+"."+{"chunk-26e92c02":"0021c58e","chunk-2d0a3577":"39e7cf1b","chunk-2d0a43df":"81e6a713","chunk-2d0aab07":"b055a499","chunk-2d0abc00":"cb0aafd7","chunk-2d0ae937":"b5ac7e9f","chunk-2d0aeb45":"6c55cdde","chunk-2d0afa49":"4894f92d","chunk-2d0b2762":"9af74a19","chunk-2d0b6187":"681dc82a","chunk-2d0ba136":"bb43d210","chunk-2d0bb267":"e87b0db0","chunk-2d0bcec1":"2799d39d","chunk-2d0bff92":"a8b9d356","chunk-2d0c0494":"f85e217b","chunk-2d0c0a09":"a50b58da","chunk-2d0c1ed0":"23f7793b","chunk-2d0c4313":"fe63514b","chunk-2d0c46d1":"61fe10c9","chunk-2d0c512b":"861fc668","chunk-2d0cf16e":"fad94e68","chunk-2d0d056d":"b667c308","chunk-2d0d0645":"cada8c0b","chunk-2d0d2f22":"5cda576f","chunk-2d0d7e63":"01b36cec","chunk-2d0e1b57":"12f516f1","chunk-2d0e1fbe":"2f62965a","chunk-2d0e22d6":"ee52eea6","chunk-2d0e542a":"68be02c0","chunk-2d0e57ec":"fb4dbaaf","chunk-2d0e6553":"e47b8990","chunk-2d0ea098":"924c4eb3","chunk-2d208ac5":"c50d440f","chunk-2d209408":"f654347d","chunk-2d20f745":"4643df8b","chunk-2d20ff23":"57affc2b","chunk-2d2138c7":"b7fee596","chunk-2d217e5b":"eb2020a3","chunk-2d21b84a":"955e3e8b","chunk-2d21dcd2":"cf0527cc","chunk-2d21f327":"61a362e2","chunk-2d2214b3":"61e57417","chunk-2d221a34":"91fff247","chunk-2d22502a":"0e24c19f","chunk-2d228ca6":"ea695b58","chunk-2d2295e9":"06490feb","chunk-2d22c171":"e9445ab1","chunk-2d22c2b8":"37e07cf8","chunk-2d22ca58":"1fbf4622","chunk-2d2311f7":"307761dc","chunk-2d2371be":"ce9111c5","chunk-2d237ee7":"3bd7755d","chunk-2d238465":"63305ded","chunk-58613c59":"ebacac1b","chunk-659ec982":"bb6b93d5","chunk-7532b3ea":"a401d26a","chunk-7d97fcbc":"3c867f5e","chunk-b192e116":"4e3e6119","chunk-d32dd2e4":"fa80d45b","chunk-f5e811a4":"e848b1c3"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-26e92c02":1,"chunk-58613c59":1,"chunk-659ec982":1,"chunk-7d97fcbc":1,"chunk-b192e116":1,"chunk-d32dd2e4":1,"chunk-f5e811a4":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise(function(t,n){for(var a="editor/css/"+({}[e]||e)+"."+{"chunk-26e92c02":"d4b68f49","chunk-2d0a3577":"31d6cfe0","chunk-2d0a43df":"31d6cfe0","chunk-2d0aab07":"31d6cfe0","chunk-2d0abc00":"31d6cfe0","chunk-2d0ae937":"31d6cfe0","chunk-2d0aeb45":"31d6cfe0","chunk-2d0afa49":"31d6cfe0","chunk-2d0b2762":"31d6cfe0","chunk-2d0b6187":"31d6cfe0","chunk-2d0ba136":"31d6cfe0","chunk-2d0bb267":"31d6cfe0","chunk-2d0bcec1":"31d6cfe0","chunk-2d0bff92":"31d6cfe0","chunk-2d0c0494":"31d6cfe0","chunk-2d0c0a09":"31d6cfe0","chunk-2d0c1ed0":"31d6cfe0","chunk-2d0c4313":"31d6cfe0","chunk-2d0c46d1":"31d6cfe0","chunk-2d0c512b":"31d6cfe0","chunk-2d0cf16e":"31d6cfe0","chunk-2d0d056d":"31d6cfe0","chunk-2d0d0645":"31d6cfe0","chunk-2d0d2f22":"31d6cfe0","chunk-2d0d7e63":"31d6cfe0","chunk-2d0e1b57":"31d6cfe0","chunk-2d0e1fbe":"31d6cfe0","chunk-2d0e22d6":"31d6cfe0","chunk-2d0e542a":"31d6cfe0","chunk-2d0e57ec":"31d6cfe0","chunk-2d0e6553":"31d6cfe0","chunk-2d0ea098":"31d6cfe0","chunk-2d208ac5":"31d6cfe0","chunk-2d209408":"31d6cfe0","chunk-2d20f745":"31d6cfe0","chunk-2d20ff23":"31d6cfe0","chunk-2d2138c7":"31d6cfe0","chunk-2d217e5b":"31d6cfe0","chunk-2d21b84a":"31d6cfe0","chunk-2d21dcd2":"31d6cfe0","chunk-2d21f327":"31d6cfe0","chunk-2d2214b3":"31d6cfe0","chunk-2d221a34":"31d6cfe0","chunk-2d22502a":"31d6cfe0","chunk-2d228ca6":"31d6cfe0","chunk-2d2295e9":"31d6cfe0","chunk-2d22c171":"31d6cfe0","chunk-2d22c2b8":"31d6cfe0","chunk-2d22ca58":"31d6cfe0","chunk-2d2311f7":"31d6cfe0","chunk-2d2371be":"31d6cfe0","chunk-2d237ee7":"31d6cfe0","chunk-2d238465":"31d6cfe0","chunk-58613c59":"b09ff409","chunk-659ec982":"264fe234","chunk-7532b3ea":"31d6cfe0","chunk-7d97fcbc":"ed80c62c","chunk-b192e116":"57c2cc0a","chunk-d32dd2e4":"cac20fee","chunk-f5e811a4":"c661282c"}[e]+".css",o=c.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===a||d===o))return t()}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){l=u[r],d=l.getAttribute("data-href");if(d===a||d===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.request=a,delete i[e],p.parentNode.removeChild(p),n(s)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){i[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=s);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(e),l=function(t){d.onerror=d.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+a+": "+i+")");s.type=a,s.request=i,n[1](s)}o[e]=void 0}};var u=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/assets/game/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=d;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("8ef1")},"011d":function(e,t,n){"use strict";var a=n("f86a"),i=n.n(a);i.a},"012e":function(e,t,n){"use strict";var a=n("a9d6"),i=n.n(a);i.a},"028e":function(module,__webpack_exports__,__webpack_require__){"use strict";var _filters__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("0cfb");function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function defaultTo(e,t){return null==t?e:t}var mixin={props:[],data:function(){return{inscope:null}},computed:{scope:function(){var e=this.inscope&&this.inscope.data?this.inscope.data:this.inscope;return e}},filters:_filters__WEBPACK_IMPORTED_MODULE_0__["a"],methods:{oncallExecute:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e&&("function"===typeof e?(e=[{method:e,params:n}],e.forEach(function(e){e=e||{};var a=e.method,i=[].concat(_toConsumableArray(e.params),_toConsumableArray(n));"function"===typeof t[a]&&t[a].apply(t,i)})):e.forEach(function(e){if(e=e||{},e.method){var a=e.method.split("."),i=t,o="";1==a.length?o=a[0]:2==a.length&&(i=t.$parent.getComponent(a[0],!0),o=a[1]);var s=[].concat(_toConsumableArray(e.params),_toConsumableArray(n));"function"===typeof i[o]&&i[o].apply(i,s)}}))},scopeGet:function scopeGet(prop){var _this2=this,text=this[prop]||"";return"EDITOR"==window.EDIT_TYPE?this[prop]||this.$options.props[prop]["default"]:("string"===typeof text&&(text=text.replace(/\$\{([^{}]+)\}/g,function(m,p){p=p.replace(/\s+/g,"").split("|");var val=p[0],filters=p.slice(1),isValue=!0;try{val=eval(p[0]),isValue=!0}catch(e){val=p[0],isValue=!1}return isValue||(val=/^\$scope\./.test(val)?_this2.scope&&defaultTo("",baseGet(_this2.scope,val)):_this2.dataHubGet&&defaultTo("",_this2.dataHubGet(val))),filters&&filters.length&&(val=filters.reduce(function(e,t){return evalFilter(t,e,_this2)},val)),val})),text||this.$options.props[prop]["default"]);function baseGet(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n=String(n).trim().replace(/^\$scope\./,"").replace(/\[(\d+)\]/g,function(e,t){return".".concat(t)});try{e=n.split(".").reduce(function(e,t){return e&&e[t]},t)}catch(a){console.error(a)}return e}function evalFilter(fnstr,val,context){var parms=fnstr.match(/^([_$0-9A-Za-z]+)\(([^()]+)\)$/)||["",fnstr],fn=parms[1],args=[val];try{args=args.concat(eval("[".concat(parms[2],"]")))}catch(e){console.log(e)}var filterFn=context.$options.filters&&context.$options.filters[fn];return"function"==typeof filterFn?filterFn.apply(context,args):fnstr}}}};if(void 0===window.EDIT_TYPE||null===window.EDIT_TYPE){var services={$toast:function(){window.toast&&window.toast.apply(window,arguments)},$confirm:function(){window.confirm&&window.confirm.apply(window,arguments)},$alert:function(){window.alert&&window.alert.apply(window,arguments)},$msgBox:function(){window.msgBox&&window.msgBox.apply(window,arguments)},$prompt:function(){window.prompt&&window.prompt.apply(window,arguments)},$loading:function(){window.loading&&window.loading()},$hideLoading:function(){window.hideLoading?window.hideLoading():window.loading&&window.loading(1)},$viewImg:function(){window.viewImg&&window.viewImg.apply(window,arguments)}};Object.assign(mixin.methods,services)}__webpack_exports__["a"]=mixin},"0388":function(e,t,n){"use strict";var a=n("4379"),i=n.n(a);i.a},"063f":function(e,t,n){"use strict";var a=n("1ed9"),i=n.n(a);i.a},"0809":function(e,t,n){"use strict";var a=n("8fc5"),i=n.n(a);i.a},"0cfb":function(e,t,n){"use strict";Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},t["a"]={datetime:function(e,t){return e?new Date(+e).Format(t||"yyyy-MM-dd hh:mm"):""},moneyFormat:function(e,t){return e/=100,t=t||2,isNaN(e)?0:+e.toFixed(t)},strSplit:function(e,t,n){n=n||" ",e=e.replace(/\s+/g,""),t=toString.call(t)==toString.call([])?t:[Number(t)];var a,i=[];while(1){t&&t.length&&(a=new RegExp("(\\w{".concat(t.shift(),"}(?!(?:\\s|$)))(.*)")));var o=e.match(a);if(!o){i.push(e);break}i.push(o[1]),e=o[2]}return i.join(n)},replace:function(e,t,n){return(e||"").replace(t,n)},ossImgCrop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return String(e).replace("//image.ymm56.com","//imagecdn.ymm56.com")+"?x-oss-process=image/resize,w_".concat(t)}}},"0e83":function(e,t,n){},1136:function(e,t,n){"use strict";var a=n("913c"),i=n.n(a);i.a},"15d4":function(e){e.exports={id:"root",type:"truck/emptyContainer",visible:!0,style:{"background-color":"rgba(255,255,255,1)","min-height":"100%",height:"auto",width:"100%",position:"absolute"},props:{},child:[{id:"truck/richtextj0n4g65h",type:"truck/richtext",label:"初次见面，请移除我",visible:!0,path:"https://ymm-maliang.oss-cn-hangzhou.aliyuncs.com/truck/richtext/1.1.5/index.js",style:{position:"absolute",width:"219px",height:"80px",left:"62.203125px",top:"201.5px","background-image":"",right:"",bottom:""},animate:[],props:{text:'<p><span style="font-size: 54px; color: #ff0000;">Hi, <span style="color: #666699;">t</span></span><span style="font-size: 54px; color: #666699;">here</span></p>'},script:[],version:"1.1.5",events:[],url:"https://ymm-maliang.oss-cn-hangzhou.aliyuncs.com/truck/richtext/1.1.5/index.js"}],script:[],animate:[],version:"1.0.2",path:"https://ymm-maliang.oss-cn-hangzhou.aliyuncs.com/truck/emptyContainer/1.0.2/index.js",events:[],label:"root"}},"17f5":function(e,t,n){"use strict";var a=n("4d17"),i=n.n(a);i.a},"1ab2":function(e,t,n){},"1ca3":function(e,t,n){},"1e85":function(e,t,n){},"1ed9":function(e,t,n){},"1f55":function(e,t,n){},"20f6":function(e,t,n){"use strict";var a=n("1f55"),i=n.n(a);i.a},"25f4":function(e,t,n){},"2baa":function(e,t,n){},"2d7a":function(e){e.exports=[{name:"内部页面跳转",content:"var node = {\n    editorMethods: {\n      projectJump: {\n        label: '内部跳转',\n        params: [{\n          label: '跳转地址',\n          desc: '项目相对地址',\n          type: 'string',\n          default: ''\n        },{\n          label: '参数',\n          desc: 'query形式参数',\n          type: 'object',\n          default: {}\n        }]\n      }\n    },\n    methods:{\n        projectJump:function(path,query){\n            //console.log(path,query)\n            this.$router.push({\n                path:path,\n                query:query\n            })\n        }\n    }\n}\nreturn node"}]},"33dd":function(e,t,n){"use strict";var a=n("a700"),i=n.n(a);i.a},3619:function(e,t,n){"use strict";var a=n("4e5d"),i=n.n(a);i.a},3884:function(e,t,n){"use strict";var a=n("1ca3"),i=n.n(a);i.a},"3b6e":function(e,t,n){},"3c69":function(e,t,n){},"3fd2":function(e,t,n){},4032:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="4032"},"42a9":function(e,t,n){},4379:function(e,t,n){},"438d":function(e,t,n){},"44c8":function(e,t,n){},"46ee":function(e,t){e.exports=plupload},"4d17":function(e,t,n){},"4e5d":function(e,t,n){},5085:function(e,t,n){"use strict";var a=n("cacd"),i=n.n(a);i.a},"51b4":function(e){e.exports={$schema:"vscode://schemas/color-theme",name:"Light (Visual Studio)",include:"./light_defaults.json",tokenColors:[{scope:["meta.embedded","source.groovy.embedded"],settings:{foreground:"#000000ff"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{scope:"meta.diff.header",settings:{foreground:"#000080"}},{scope:"comment",settings:{foreground:"#008000"}},{scope:"constant.language",settings:{foreground:"#0000ff"}},{scope:["constant.numeric"],settings:{foreground:"#09885a"}},{scope:"constant.regexp",settings:{foreground:"#811f3f"}},{name:"css tags in selectors, xml tags",scope:"entity.name.tag",settings:{foreground:"#800000"}},{scope:"entity.name.selector",settings:{foreground:"#800000"}},{scope:"entity.other.attribute-name",settings:{foreground:"#ff0000"}},{scope:["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],settings:{foreground:"#800000"}},{scope:"invalid",settings:{foreground:"#cd3131"}},{scope:"markup.underline",settings:{fontStyle:"underline"}},{scope:"markup.bold",settings:{fontStyle:"bold",foreground:"#000080"}},{scope:"markup.heading",settings:{fontStyle:"bold",foreground:"#800000"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.inserted",settings:{foreground:"#09885a"}},{scope:"markup.deleted",settings:{foreground:"#a31515"}},{scope:"markup.changed",settings:{foreground:"#0451a5"}},{scope:["beginning.punctuation.definition.quote.markdown","beginning.punctuation.definition.list.markdown"],settings:{foreground:"#0451a5"}},{scope:"markup.inline.raw",settings:{foreground:"#800000"}},{scope:"meta.selector",settings:{foreground:"#800000"}},{name:"brackets of XML/HTML tags",scope:"punctuation.definition.tag",settings:{foreground:"#800000"}},{scope:"meta.preprocessor",settings:{foreground:"#0000ff"}},{scope:"meta.preprocessor.string",settings:{foreground:"#a31515"}},{scope:"meta.preprocessor.numeric",settings:{foreground:"#09885a"}},{scope:"meta.structure.dictionary.key.python",settings:{foreground:"#0451a5"}},{scope:"storage",settings:{foreground:"#0000ff"}},{scope:"storage.type",settings:{foreground:"#0000ff"}},{scope:"storage.modifier",settings:{foreground:"#0000ff"}},{scope:"string",settings:{foreground:"#a31515"}},{scope:["string.comment.buffered.block.pug","string.quoted.pug","string.interpolated.pug","string.unquoted.plain.in.yaml","string.unquoted.plain.out.yaml","string.unquoted.block.yaml","string.quoted.single.yaml","string.quoted.double.xml","string.quoted.single.xml","string.unquoted.cdata.xml","string.quoted.double.html","string.quoted.single.html","string.unquoted.html","string.quoted.single.handlebars","string.quoted.double.handlebars"],settings:{foreground:"#0000ff"}},{scope:"string.regexp",settings:{foreground:"#811f3f"}},{name:"String interpolation",scope:["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],settings:{foreground:"#0000ff"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#000000"}},{scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#0451a5"}},{scope:["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],settings:{foreground:"#ff0000"}},{scope:"support.type.property-name.json",settings:{foreground:"#0451a5"}},{scope:"keyword",settings:{foreground:"#0000ff"}},{scope:"keyword.control",settings:{foreground:"#0000ff"}},{scope:"keyword.operator",settings:{foreground:"#000000"}},{scope:["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.instanceof","keyword.operator.logical.python"],settings:{foreground:"#0000ff"}},{scope:"keyword.other.unit",settings:{foreground:"#09885a"}},{scope:["punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php"],settings:{foreground:"#800000"}},{scope:"support.function.git-rebase",settings:{foreground:"#0451a5"}},{scope:"constant.sha.git-rebase",settings:{foreground:"#09885a"}},{name:"coloring of the Java import and package identifiers",scope:["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],settings:{foreground:"#000000"}},{name:"this.self",scope:"variable.language",settings:{foreground:"#0000ff"}},{scope:"storage.modifier.static",settings:{fontStyle:"italic"}},{scope:"storage.modifier.abstract",settings:{foreground:"#000000"}},{scope:"invalid.deprecated",settings:{fontStyle:"italic underline"}},{scope:"keyword.other.var",settings:{foreground:"#0000ff"}},{scope:"variable.other.autoboxing.java",settings:{foreground:"#9f3918"}}]}},5522:function(e){e.exports={$schema:"vscode://schemas/color-theme",name:"Dark+ (default dark)",include:"./dark_vs.json",tokenColors:[{name:"Function declarations",scope:["entity.name.function","support.function","support.constant.handlebars"],settings:{foreground:"#DCDCAA"}},{name:"Types declaration and references",scope:["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],settings:{foreground:"#4EC9B0"}},{name:"Types declaration and references, TS grammar specific",scope:["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],settings:{foreground:"#4EC9B0"}},{name:"Control flow keywords",scope:"keyword.control",settings:{foreground:"#C586C0"}},{name:"Variable and parameter name",scope:["variable","meta.definition.variable.name","support.variable"],settings:{foreground:"#9CDCFE"}},{name:"Object keys, TS grammar specific",scope:["meta.object-literal.key"],settings:{foreground:"#9CDCFE"}},{name:"CSS property value",scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#CE9178"}},{name:"Regular expression groups",scope:["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],settings:{foreground:"#CE9178"}},{scope:["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],settings:{foreground:"#d16969"}},{scope:["keyword.operator.or.regexp","keyword.control.anchor.regexp"],settings:{foreground:"#DCDCAA"}},{scope:"keyword.operator.quantifier.regexp",settings:{foreground:"#d7ba7d"}},{scope:"constant.character",settings:{foreground:"#569cd6"}},{scope:"constant.character.escape",settings:{foreground:"#d7ba7d"}}]}},5880:function(e,t){e.exports=Vuex},5898:function(e,t,n){"use strict";n.r(t);var a=n("8bbf"),i=n.n(a);n("a28e"),i.a.filter("datetime",function(e,t){return new Date(e).Format(t||"yyyy-MM-dd hh:mm")}),i.a.filter("sdatetime",function(e,t){var n=parseInt(e+"000");return new Date(n).Format(t||"yyyy-MM-dd hh:mm")}),i.a.filter("fulldaytime",function(e,t){return new Date(e).Format(t||"yyyy-MM-dd")}),i.a.filter("daytime",function(e,t){return new Date(e).Format(t||"MM-dd")}),i.a.filter("moneyFormat",function(e,t){if(e/=100,t=t||2,parseFloat(e)>0){var n=parseFloat(e).toFixed(t);n=n.split(".");var a=parseFloat(n[0]).toString();return"00"==n[1]?a:a+"."+(n[1]||"")}return 0}),i.a.filter("moneyDecFormat",function(e){return e=parseFloat(e),isNaN(e)?"":(e/=100,e>100?(e=e.toFixed(0),e):e>=1&&e<=10?(e=e.toFixed(1),e):e<1?(e=e.toFixed(2),e):void 0)}),i.a.filter("numSplit",function(e,t){var n=new RegExp("(\\w{".concat(t,"}(?!(?:\\s|$)))"),"g");return e.replace(/[^\d]+/g,"").replace(n,function(e,t){return t+" "})}),i.a.filter("numSplitSync",{read:function(e,t){var n=new RegExp("(\\w{".concat(t,"}(?!(?:\\s|$)))"),"g"),a=e.replace(/[^\d]+/g,"").replace(n,function(e,t){return t+" "});return a},write:function(e,t){return e.replace(/\s+/g,"")}}),i.a.filter("strFilterSync",{read:function(e,t){return t&&"string"===typeof t&&(t=new RegExp(t,"g")),e.replace(t,"")},write:function(e,t){return e}}),i.a.filter("unitFormat",function(e,t){return e<=0||!e?"":e+t}),i.a.filter("trimDest",function(e,t){return t=new RegExp(t||"[省市区县]","g"),e.replace(t,"")}),i.a.filter("regReplace",function(e,t,n){var a=new RegExp(t,"g");return(e||"").replace(a,n)}),i.a.filter("imageDefault",function(e){return e=e||"http://fl5.gtimg.com/flpartition0/7088/631007088/564/3744770553906093122431120144653.png!t160x240.png",e})},"59e1":function(e,t,n){},"5a79":function(e,t,n){"use strict";var a=n("e88d"),i=n.n(a);i.a},"5adb":function(e,t,n){"use strict";var a=n("b0ee"),i=n.n(a);i.a},"5b37":function(e,t,n){},"600f":function(e,t,n){"use strict";var a=n("3b6e"),i=n.n(a);i.a},"60d3":function(e,t,n){"use strict";var a=n("1e85"),i=n.n(a);i.a},"61b3":function(e,t,n){},6210:function(e,t,n){"use strict";var a=n("889c"),i=n.n(a);i.a},"64d9":function(e,t,n){"use strict";var a=n("af2c"),i=n.n(a);i.a},6701:function(e,t,n){"use strict";var a=n("8bb9"),i=n.n(a);i.a},"699d":function(e,t,n){},"70a6":function(e){e.exports={$schema:"vscode://schemas/color-theme",name:"Dark Default Colors",colors:{"editor.background":"#1E1E1E","editor.foreground":"#D4D4D4","editor.inactiveSelectionBackground":"#3A3D41","editorIndentGuide.background":"#404040","editorIndentGuide.activeBackground":"#707070","editor.selectionHighlightBackground":"#ADD6FF26","list.dropBackground":"#383B3D","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#BBBBBB"}}},"72a6":function(e,t,n){},"75fb":function(e){e.exports={$schema:"vscode://schemas/color-theme",name:"Light Default Colors",colors:{"editor.background":"#FFFFFF","editor.foreground":"#000000","editor.inactiveSelectionBackground":"#E5EBF1","editorIndentGuide.background":"#D3D3D3","editorIndentGuide.activeBackground":"#939393","editor.selectionHighlightBackground":"#ADD6FF4D","editorSuggestWidget.background":"#F3F3F3","activityBarBadge.background":"#007ACC","sideBarTitle.foreground":"#6F6F6F","list.hoverBackground":"#E8E8E8","input.placeholderForeground":"#ADADAD"}}},7884:function(e,t,n){"use strict";var a=n("7c0c"),i=n.n(a);i.a},"78db":function(e,t,n){"use strict";var a=n("acb6"),i=n.n(a);i.a},7983:function(e,t,n){},"79b9":function(e,t){e.exports={VIEW_PATH:"g",ADMIN_PATH:"admin",EDITOR_PATH:"editor",API_PATH:"api",EDITOR_TITLE:"编辑器",ADMIN_TITLE:"管理后台",BAIDU_TONGJI:""}},"79bc5":function(e,t,n){"use strict";var a=n("699d"),i=n.n(a);i.a},"7c0c":function(e,t,n){},"7d4d":function(e,t,n){},"7f61":function(e){e.exports={type:"dark",colors:{"dropdown.background":"#414339","list.activeSelectionBackground":"#75715E","list.focusBackground":"#414339","list.inactiveSelectionBackground":"#414339","list.hoverBackground":"#272822","list.dropBackground":"#414339","list.highlightForeground":"#f8f8f2","button.background":"#75715E","editor.background":"#272822","editor.foreground":"#f8f8f2","selection.background":"#ccccc7","editor.selectionHighlightBackground":"#575b6180","editor.selectionBackground":"#878b9180","editor.wordHighlightBackground":"#4a4a7680","editor.wordHighlightStrongBackground":"#6a6a9680","editor.lineHighlightBackground":"#3e3d32","editorCursor.foreground":"#f8f8f0","editorWhitespace.foreground":"#464741","editorIndentGuide.background":"#464741","editorGroupHeader.tabsBackground":"#1e1f1c","editorGroup.dropBackground":"#41433980","tab.inactiveBackground":"#414339","tab.border":"#1e1f1c","tab.inactiveForeground":"#ccccc7","widget.shadow":"#000000","progressBar.background":"#75715E","badge.background":"#75715E","badge.foreground":"#f8f8f2","editorLineNumber.foreground":"#90908a","panelTitle.activeForeground":"#f8f8f2","panelTitle.activeBorder":"#75715E","panelTitle.inactiveForeground":"#75715E","panel.border":"#414339","titleBar.activeBackground":"#1e1f1c","statusBar.background":"#414339","statusBar.noFolderBackground":"#414339","statusBar.debuggingBackground":"#75715E","activityBar.background":"#272822","activityBar.foreground":"#f8f8f2","activityBar.dropBackground":"#414339","sideBar.background":"#1e1f1c","sideBarSectionHeader.background":"#272822","pickerGroup.foreground":"#75715E","input.background":"#414339","inputOption.activeBorder":"#75715E",focusBorder:"#75715E","editorWidget.background":"#1e1f1c","debugToolBar.background":"#1e1f1c","diffEditor.insertedTextBackground":"#66852880","diffEditor.removedTextBackground":"#90274A80","inputValidation.errorBackground":"#90274A","inputValidation.errorBorder":"#f92672","inputValidation.warningBackground":"#848528","inputValidation.warningBorder":"#e2e22e","inputValidation.infoBackground":"#546190","inputValidation.infoBorder":"#819aff","editorHoverWidget.background":"#414339","editorHoverWidget.border":"#75715E","editorSuggestWidget.background":"#272822","editorSuggestWidget.border":"#75715E","editorGroup.border":"#414339","peekView.border":"#75715E","peekViewEditor.background":"#272822","peekViewResult.background":"#1e1f1c","peekViewTitle.background":"#1e1f1c","peekViewResult.selectionBackground":"#414339","peekViewResult.matchHighlightBackground":"#75715E","peekViewEditor.matchHighlightBackground":"#75715E","terminal.ansiBlack":"#333333","terminal.ansiRed":"#C4265E","terminal.ansiGreen":"#86B42B","terminal.ansiYellow":"#B3B42B","terminal.ansiBlue":"#6A7EC8","terminal.ansiMagenta":"#8C6BC8","terminal.ansiCyan":"#56ADBC","terminal.ansiWhite":"#e3e3dd","terminal.ansiBrightBlack":"#666666","terminal.ansiBrightRed":"#f92672","terminal.ansiBrightGreen":"#A6E22E","terminal.ansiBrightYellow":"#e2e22e","terminal.ansiBrightBlue":"#819aff","terminal.ansiBrightMagenta":"#AE81FF","terminal.ansiBrightCyan":"#66D9EF","terminal.ansiBrightWhite":"#f8f8f2"},tokenColors:[{settings:{background:"#272822",foreground:"#F8F8F2"}},{scope:["meta.embedded","source.groovy.embedded"],settings:{background:"#272822",foreground:"#F8F8F2"}},{name:"Comment",scope:"comment",settings:{foreground:"#75715E"}},{name:"String",scope:"string",settings:{foreground:"#E6DB74"}},{name:"Template Definition",scope:["punctuation.definition.template-expression","punctuation.section.embedded"],settings:{foreground:"#F92672"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#F8F8F2"}},{name:"Built-in constant",scope:"constant.language",settings:{foreground:"#AE81FF"}},{name:"User-defined constant",scope:"constant.character, constant.other",settings:{foreground:"#AE81FF"}},{name:"Numeric suffix",scope:"numeric-suffix",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"Number",scope:"constant.numeric",settings:{foreground:"#AE81FF"}},{name:"Variable",scope:"variable",settings:{fontStyle:"",foreground:"#F8F8F2"}},{name:"Punctuation tilde ~",scope:"punctuation.tilde",settings:{fontStyle:"",foreground:"#A6E22E"}},{name:"Punctuation brackets attribute",scope:"punctuation.squarebracket-attribute",settings:{fontStyle:"",foreground:"#F92672"}},{name:"Keyword type",scope:"keyword.type",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"Keyword",scope:"keyword",settings:{fontStyle:"",foreground:"#F92672"}},{name:"Keyword other class",scope:"keyword.other.class",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"Storage",scope:"storage",settings:{fontStyle:"",foreground:"#F92672"}},{name:"Function call",scope:"meta.function-call",settings:{fontStyle:"",foreground:"#66D9EF"}},{name:"Meta function call and type-parameter",scope:"storage.type, entity.name.type.type-parameter",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"La f del 10.0f",scope:"storage.type.numeric",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"Class name",scope:"entity.name.type, entity.name.class",settings:{foreground:"#A6E22E"}},{name:"Parameters and this",scope:"entity.name.variable.parameter, keyword.other.this, keyword.other.base",settings:{fontStyle:"italic",foreground:"#FD971F"}},{name:"Class name",scope:"entity.name.type.namespace",settings:{foreground:"#FFFFFF"}},{name:"Inherited class",scope:"entity.other.inherited-class",settings:{fontStyle:"italic underline",foreground:"#A6E22E"}},{name:"Function name",scope:"entity.name.function",settings:{fontStyle:"",foreground:"#A6E22E"}},{name:"Inheritance",scope:"inherit-class",settings:{fontStyle:"",foreground:"#A6E22E"}},{name:"Function argument",scope:"variable.parameter",settings:{fontStyle:"italic",foreground:"#FD971F"}},{name:"Tag name",scope:"entity.name.tag",settings:{fontStyle:"",foreground:"#F92672"}},{name:"Tag attribute",scope:"entity.other.attribute-name",settings:{fontStyle:"",foreground:"#A6E22E"}},{name:"Library function",scope:"support.function",settings:{fontStyle:"",foreground:"#66D9EF"}},{name:"Library constant",scope:"support.constant",settings:{fontStyle:"",foreground:"#66D9EF"}},{name:"Library class/type",scope:"support.type, support.class",settings:{fontStyle:"italic",foreground:"#66D9EF"}},{name:"Library variable",scope:"support.other.variable",settings:{fontStyle:""}},{name:"Invalid",scope:"invalid",settings:{background:"#F92672",fontStyle:"",foreground:"#F8F8F0"}},{name:"Invalid deprecated",scope:"invalid.deprecated",settings:{background:"#AE81FF",foreground:"#F8F8F0"}},{name:"JSON String",scope:"meta.structure.dictionary.json string.quoted.double.json",settings:{foreground:"#CFCFC2"}},{name:"diff.header",scope:"meta.diff, meta.diff.header",settings:{foreground:"#75715E"}},{name:"diff.deleted",scope:"markup.deleted",settings:{foreground:"#F92672"}},{name:"diff.inserted",scope:"markup.inserted",settings:{foreground:"#A6E22E"}},{name:"diff.changed",scope:"markup.changed",settings:{foreground:"#E6DB74"}},{scope:"constant.numeric.line-number.find-in-files - match",settings:{foreground:"#AE81FFA0"}},{scope:"entity.name.filename.find-in-files",settings:{foreground:"#E6DB74"}},{name:"Markup Quote",scope:"markup.quote",settings:{foreground:"#F92672"}},{name:"Markup Lists",scope:"markup.list",settings:{foreground:"#E6DB74"}},{name:"Markup Styling",scope:"markup.bold, markup.italic",settings:{foreground:"#66D9EF"}},{name:"Markup Inline",scope:"markup.inline.raw",settings:{fontStyle:"",foreground:"#FD971F"}},{name:"Markup Headings",scope:"markup.heading",settings:{foreground:"#A6E22E"}},{name:"Markup Setext Header",scope:"markup.heading.setext",settings:{fontStyle:"",foreground:"#A6E22E"}},{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#f44747"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}},{name:"this.self",scope:"variable.language",settings:{foreground:"#FD971F"}}]}},"80ea":function(e,t,n){"use strict";var a=n("438d"),i=n.n(a);i.a},"82b5":function(e,t,n){},"889c":function(e,t,n){},"88e6":function(e,t,n){},"8a43":function(e,t,n){},"8ac1":function(e,t,n){},"8bb9":function(e,t,n){},"8bbf":function(e,t){e.exports=Vue},"8ce7":function(e){e.exports={$schema:"vscode://schemas/color-theme",name:"Dark (Visual Studio)",include:"./dark_defaults.json",tokenColors:[{scope:["meta.embedded","source.groovy.embedded"],settings:{foreground:"#D4D4D4"}},{scope:"emphasis",settings:{fontStyle:"italic"}},{scope:"strong",settings:{fontStyle:"bold"}},{scope:"header",settings:{foreground:"#000080"}},{scope:"comment",settings:{foreground:"#608b4e"}},{scope:"constant.language",settings:{foreground:"#569cd6"}},{scope:["constant.numeric"],settings:{foreground:"#b5cea8"}},{scope:"constant.regexp",settings:{foreground:"#646695"}},{scope:"entity.name.tag",settings:{foreground:"#569cd6"}},{scope:"entity.name.tag.css",settings:{foreground:"#d7ba7d"}},{scope:"entity.other.attribute-name",settings:{foreground:"#9cdcfe"}},{scope:["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],settings:{foreground:"#d7ba7d"}},{scope:"invalid",settings:{foreground:"#f44747"}},{scope:"markup.underline",settings:{fontStyle:"underline"}},{scope:"markup.bold",settings:{fontStyle:"bold",foreground:"#569cd6"}},{scope:"markup.heading",settings:{fontStyle:"bold",foreground:"#569cd6"}},{scope:"markup.italic",settings:{fontStyle:"italic"}},{scope:"markup.inserted",settings:{foreground:"#b5cea8"}},{scope:"markup.deleted",settings:{foreground:"#ce9178"}},{scope:"markup.changed",settings:{foreground:"#569cd6"}},{scope:"beginning.punctuation.definition.quote.markdown",settings:{foreground:"#608b4e"}},{scope:"beginning.punctuation.definition.list.markdown",settings:{foreground:"#6796e6"}},{scope:"markup.inline.raw",settings:{foreground:"#ce9178"}},{scope:"meta.selector",settings:{foreground:"#d7ba7d"}},{name:"brackets of XML/HTML tags",scope:"punctuation.definition.tag",settings:{foreground:"#808080"}},{scope:"meta.preprocessor",settings:{foreground:"#569cd6"}},{scope:"meta.preprocessor.string",settings:{foreground:"#ce9178"}},{scope:"meta.preprocessor.numeric",settings:{foreground:"#b5cea8"}},{scope:"meta.structure.dictionary.key.python",settings:{foreground:"#9cdcfe"}},{scope:"meta.diff.header",settings:{foreground:"#569cd6"}},{scope:"storage",settings:{foreground:"#569cd6"}},{scope:"storage.type",settings:{foreground:"#569cd6"}},{scope:"storage.modifier",settings:{foreground:"#569cd6"}},{scope:"string",settings:{foreground:"#ce9178"}},{scope:"string.tag",settings:{foreground:"#ce9178"}},{scope:"string.value",settings:{foreground:"#ce9178"}},{scope:"string.regexp",settings:{foreground:"#d16969"}},{name:"String interpolation",scope:["punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded"],settings:{foreground:"#569cd6"}},{name:"Reset JavaScript string interpolation expression",scope:["meta.template.expression"],settings:{foreground:"#d4d4d4"}},{scope:["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less","source.coffee.embedded"],settings:{foreground:"#9cdcfe"}},{scope:"keyword",settings:{foreground:"#569cd6"}},{scope:"keyword.control",settings:{foreground:"#569cd6"}},{scope:"keyword.operator",settings:{foreground:"#d4d4d4"}},{scope:["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.instanceof","keyword.operator.logical.python"],settings:{foreground:"#569cd6"}},{scope:"keyword.other.unit",settings:{foreground:"#b5cea8"}},{scope:["punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php"],settings:{foreground:"#569cd6"}},{scope:"support.function.git-rebase",settings:{foreground:"#9cdcfe"}},{scope:"constant.sha.git-rebase",settings:{foreground:"#b5cea8"}},{name:"coloring of the Java import and package identifiers",scope:["storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"],settings:{foreground:"#d4d4d4"}},{name:"this.self",scope:"variable.language",settings:{foreground:"#569cd6"}},{scope:"storage.modifier.static",settings:{fontStyle:"italic"}},{scope:"storage.modifier.abstract",settings:{foreground:"#d4d4d4"}},{scope:"invalid.deprecated",settings:{fontStyle:"italic underline"}},{scope:"keyword.other.var",settings:{foreground:"#569cd6"}},{scope:"variable.other.autoboxing.java",settings:{foreground:"#9f3918"}}]}},"8d29":function(e){e.exports={layout:{children:[{children:[{children:[{name:"组件列表",component:"widgetComponent",close:!0,pop:!0},{name:"组合组件",component:"widgetCombinedComponents",close:!0,pop:!0}],type:"panel",flex:.5},{children:[{name:"组件树",component:"widgetComponentTree",close:!0,pop:!0},{name:"页面模板",component:"widgetPageTemplate"}],type:"panel",flex:.5}],type:"column",flex:.20626959247648904},{children:[{children:[{name:"场景",component:"widgetScene",close:!1,pop:!1},{name:"组件详情",component:"widgetComponentInfo",close:!0,pop:!0},{name:"页面设置",component:"widgetPageInfo",close:!0,pop:!0}],type:"panel",flex:.9},{children:[{name:"动画",component:"widgetAnimate",close:!0,pop:!0}],type:"panel",flex:.1}],type:"column",flex:.5512481056767048},{children:[{children:[{name:"属性",component:"widgetAttribute",close:!1,pop:!0},{name:"样式",component:"widgetStyleEditor",close:!1,pop:!0}],type:"panel",flex:.7888643880926131},{children:[{name:"脚本",component:"widgetScriptEditor",close:!0,style:{width:"300px",height:"400px",left:"300px",top:"300px"},pop:!0}],type:"panel",flex:.211135611907387}],type:"column",flex:.2424823018468062}],type:"row"},dialogs:[],version:1.1,name:"default"}},"8ef1":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"initComponentList",function(){return nt}),n.d(a,"SettingChange",function(){return at}),n.d(a,"setConfig",function(){return it}),n.d(a,"setUser",function(){return ot}),n.d(a,"setCurrentPage",function(){return st}),n.d(a,"setPageInfo",function(){return rt}),n.d(a,"dataHubSet",function(){return ct}),n.d(a,"setCurrentLayout",function(){return lt}),n.d(a,"setPageType",function(){return dt});var i={};n.r(i),n.d(i,"getMetadata",function(){return ut});var o={};n.r(o),n.d(o,"initComponentList",function(){return pt}),n.d(o,"SettingChange",function(){return mt}),n.d(o,"SET_CONFIG",function(){return ft}),n.d(o,"SET_USER",function(){return ht}),n.d(o,"SET_PAGE_INFO",function(){return gt}),n.d(o,"DATA_HUB_SET",function(){return bt}),n.d(o,"SET_CURRENT_LAYOUT",function(){return vt}),n.d(o,"SET_PAGE_TYPE",function(){return yt});var s=n("8bbf"),r=n.n(s),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editorWarp",on:{contextmenu:function(e){e.preventDefault(),e.stopPropagation()}}},[n("myheader",{attrs:{"layout-data":e.layoutData}}),e.nodeInfo&&e.layoutData?n("ui-dock",{attrs:{info:e.layoutData}}):e._e(),n("div",{staticClass:"footer"},[n("tips")],1),n("context-menu"),n("c-dialogs"),n("div",{ref:"clipboard",staticStyle:{width:"0",height:"0"},attrs:{"data-clipboard-text":e.clipboardContent}}),null!=e.screenshotKey?n("upload-image",{key:e.screenshotKey,ref:"screenshot",attrs:{h2c:{scale:1}}}):e._e(),n("bughd")],1)},l=[],d=n("a34a"),u=n.n(d),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"tool",style:e.style},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-h"},[n("a",{staticClass:"item-sub",on:{click:function(t){e.itemClick("copy")}}},[n("i",{staticClass:"iconfont icon-copy"}),e._v("\n      复制\n    ")]),n("a",{staticClass:"item-sub",on:{click:function(t){e.itemClick("deleteNode")}}},[n("i",{staticClass:"iconfont icon-delete"}),e._v("\n      删除\n    ")])]),n("a",{staticClass:"item",on:{click:function(t){e.itemClick("copyStyle")}}},[n("i",{staticClass:"iconfont icon-copy"}),e._v("\n    复制样式\n  ")]),n("a",{staticClass:"item",on:{click:function(t){e.itemClick("pasteStyle")}}},[n("i",{staticClass:"iconfont icon-paste"}),e._v("\n    粘贴样式\n  ")]),n("a",{staticClass:"item",on:{click:function(t){e.itemClick("exportJson")}}},[n("i",{staticClass:"iconfont icon-export"}),e._v("\n    导出节点\n  ")]),n("a",{staticClass:"item",on:{click:function(t){e.itemClick("importJson")}}},[n("i",{staticClass:"iconfont icon-import"}),e._v("\n    导入节点\n  ")]),n("a",{staticClass:"item",on:{click:function(t){e.itemClick("combinedNode")}}},[n("i",{staticClass:"iconfont icon-import"}),e._v("\n    另存为组合组件\n  ")]),n("a",{staticClass:"item",on:{click:function(t){e.itemClick("reloadNode")}}},[n("i",{staticClass:"iconfont icon-refresh"}),e._v("\n    重载节点\n  ")]),!e.isRootNode&&e.stacked?[n("div",{staticClass:"item-h"},[n("a",{staticClass:"item-sub",on:{click:function(t){e.moveLayer(1)}}},[e._v("\n        上移\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){e.moveLayer(-1)}}},[e._v("\n        下移\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){e.moveLayer(Number.MAX_VALUE)}}},[e._v("\n        置顶\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){e.moveLayer(Number.MIN_VALUE)}}},[e._v("\n        置底\n      ")])])]:e._e(),e.isRootNode||e.stacked||e.fixed?e._e():[n("div",{staticClass:"item-h"},[n("a",{staticClass:"item-sub",on:{click:function(t){e.moveLayer(1)}}},[e._v("\n        下移\n      ")]),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.isRootNode,expression:"!isRootNode"}],staticClass:"item-sub",on:{click:function(t){e.moveLayer(-1)}}},[e._v("\n        上移\n      ")])])]],2):e._e()},m=[],f=n("ed03"),h={mixins:[f["a"]],components:{},name:"ContextMenu",props:{},data:function(){return{visible:!1,node:null,style:{left:0,top:0}}},computed:{isRootNode:function(){var e=this.node;return!!e&&(e.nodeInfo&&("root"===e.nodeInfo.id||"node"===e.nodeInfo.type))},stacked:function(){return this.node.stacked},fixed:function(){return this.node.nodeInfo.style&&"fixed"===this.node.nodeInfo.style.position}},mounted:function(){var e=this,t=document.documentElement.clientHeight;this.ema.bind("show.contextMenu",function(n,a){var i=a.pageY,o=320;e.style.left=2+a.pageX+"px",e.style.top=2+i-Math.max(o-(t-i),0)+"px",e.node=n,e.visible=!0,n.actived("contextMenu")}),this.ema.bind("hide.contextMenu",function(){e.visible=!1})},methods:{itemClick:function(e){this.visible=!1,"function"==typeof this[e]&&this[e](this.node)},deleteNode:function(e){this.ema.fire("move.node",this.node.nodeInfo.id,null)},moveLayer:function(e){this.visible=!1,this.node&&this.node.$parent&&this.node.$parent.moveLayer(this.node.nodeInfo,e)},copy:function(){this.node&&this.node.$parent&&this.node.$parent.copyChild(this.node.nodeInfo,{})},copyStyle:function(){this.node.copyStyle()},pasteStyle:function(){this.node.pasteStyle()},reloadNode:function(){this.node&&this.ema.fire("component.reload",this.node&&this.node.nodeInfo.id)},importJson:function(){var e=this,t=JSON.stringify(this.node.nodeInfo,null,2),n=/(?:"id"\s?\:\s?")(\w+)"/,a=(t.match(new RegExp(n,"g"))||[]).map(function(e){return e.replace(n,function(e,t){return t})});this.openDialog({name:"d-nodejson",data:{idCache:a,content:t,type:"import"},methods:{saveContent:function(t){Object.assign(e.node.nodeInfo,t)}}})},exportJson:function(){this.openDialog({name:"d-nodejson",data:{content:JSON.stringify(this.node.nodeInfo,null,2),type:"export"},methods:{}})},combinedNode:function(){if(this.demoMode)return this.$alert("您处在 demo 模式下，不能保存数据哦");var e=this.node.$el,t="el_".concat(Date.now());e.setAttribute("el",t),this.openDialog({name:"d-saveCombinedComponent",data:{elID:t,content:JSON.stringify(this.node.nodeInfo)}})}}},g=h,b=(n("a05f"),n("2877")),v=Object(b["a"])(g,p,m,!1,null,"5bd633c2",null),y=v.exports,w=n("0644"),x=n.n(w),k={EditorHistory:[],index:-1,maxLength:50,getPrev:function(){var e=this.index-1,t=this.EditorHistory[e];if(t){this.index=e;try{t=JSON.parse(t)}catch(n){t=null}}return t},getNext:function(){var e=this.index+1,t=this.EditorHistory[e];if(t){this.index=e;try{t=JSON.parse(t)}catch(n){t=null}}return t},add:function(e){if(e){var t=this.index,n=0,a=this.EditorHistory.length;t==a-1&&a<this.maxLength||(n=Math.max(t+2-this.maxLength,0),this.EditorHistory=this.EditorHistory.slice(n,t+1)),this.EditorHistory.push(JSON.stringify(e)),this.index=this.EditorHistory.length-1}}},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dialogs"},e._l(e.dialogs,function(e){return n(e.name,{key:e.name,tag:"component"})}))},C=[],$={mixins:[f["a"]],name:"Dialogs",data:function(){return{dialogs:[],currentDialog:""}},mounted:function(){var e=this;this.bindEvent("push",function(t){e.loadDialog({name:t.name,data:JSON.parse(JSON.stringify(t.data)),methods:t.methods},function(){e.pushDialog(t.name)})}),this.bindEvent("close",function(t){for(var n=e.dialogs.length-1,a=n;a>=0;a--){var i=e.dialogs[a];if(i.name==t)break}e.dialogs.splice(a,1)})},methods:{pushDialog:function(e){this.dialogs.push({name:e})},loadDialog:function(e,t){var a=e.name;n("bfb3")("./"+a).then(function(n){var i=r.a.extend(n.default);i=i.extend({data:function(){return e.data},methods:e.methods}),r.a.component(a,i),t()}).catch(function(){})}}},S=$,j=(n("ff75"),Object(b["a"])(S,_,C,!1,null,"ea860626",null)),E=j.exports,I=n("a7fe"),T=n("15d4"),A=n("c455"),N=n("db69"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock-main",on:{mouseup:function(t){e.mouseup(t)},mousemove:function(t){e.mousemove(t)}}},[n("main-dock",{attrs:{info:e.info.layout,level:10}}),e._l(e.info.dialogs,function(e){return n("dialogone",{key:e.component,attrs:{info:e}})}),e._l(e.onedialogs,function(e){return n("dialogone",{key:e.component,attrs:{info:e}})}),e.showMask?n("div",{staticClass:"dock-mask dock",style:e.maskStyle}):e._e()],2)},P=[],D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock",class:[e.info.type,e.showMask?"showMask":""],style:{flex:e.info.flex||1,"z-index":e.level}},[e._l(e.info.children,function(t,a){return["panel"==t.type?n("panel",{attrs:{info:t,level:e.level+1}}):n("dock-main",{attrs:{info:t,level:e.level+1}}),a!=e.info.children.length-1?n("resizer",{class:[e.info.type],attrs:{type:e.info.type,level:e.level+1}}):e._e()]}),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask top",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e(),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask left",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e(),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask right",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e(),e.showMask&&1!=e.info.children.length?n("div",{staticClass:"mask bottom",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e()],2)},M=[],L={name:"node",data:function(e){return{showMask:!1,dragPanel:null}},watch:{},mounted:function(){var e=this;this.ema.bind("dock.panelTitleDragStart",function(t,n){e.showMask=!0,e.dragPanel=t,e.dragInfo=n}),this.ema.bind("dock.panelTitleDragEnd",function(t){e.showMask=!1})},methods:{dragover:function(e){e.stopPropagation(),e.preventDefault()},dragleave:function(e){e.stopPropagation(),e.preventDefault(),this.ema.fire("dock.maskDragleave")},dragenter:function(e){e.stopPropagation(),this.ema.fire("dock.maskDragenter",e,this)},drop:function(e){e.stopPropagation(),e.preventDefault(),this.ema.fire("dock.panelTitleDrop",e),this.showMask=!1}}},F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock-panel",class:{showMask:e.showMask},style:{flex:e.info.flex||1,"z-index":e.level},attrs:{tabindex:"0"},on:{keydown:function(t){e.keydown(t)},keyup:function(t){e.keydown(t)},"!click":function(t){e.panelSelect(t)}}},[n("el-tabs",{staticClass:"border-card",class:{active:e.active},attrs:{type:"border-card"},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.info.children,function(t){return n("el-tab-pane",{key:t.component,staticClass:"tab-panel",attrs:{name:t.component}},[n("span",{staticClass:"tab-label",attrs:{slot:"label",draggable:"true"},on:{dragstart:function(n){e.dragstart(n,t)},dragend:function(n){e.dragend(n,t)}},slot:"label"},[n("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(t.name))]),t.component?n(t.component,{tag:"component",attrs:{active:e.editableTabsValue==t.component}}):e._e()],1)})),n("div",{staticClass:"control"},[e.selectPanel?n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.dropClick}},[n("i",{staticClass:"el-icon-menu btn"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:!e.selectPanel.close,command:"close"}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.selectPanel.close,expression:"!selectPanel.close"}],staticClass:"iconfont icon-disablenotallowed"}),e._v(" 关闭")]),n("el-dropdown-item",{attrs:{disabled:!e.selectPanel.pop,command:"jump"}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.selectPanel.pop,expression:"!selectPanel.pop"}],staticClass:"iconfont icon-disablenotallowed"}),e._v(" 弹出")])],1)],1):e._e()],1),e.showMask&&e.canDragIn?n("div",{staticClass:"mask top",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e(),e.showMask&&e.canDragIn?n("div",{staticClass:"mask left",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e(),e.showMask&&e.canDragIn?n("div",{staticClass:"mask right",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e(),e.showMask&&e.canDragIn?n("div",{staticClass:"mask bottom",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e(),e.showMask?n("div",{staticClass:"mask header",style:{"z-index":e.level},on:{dragover:function(t){e.dragover(t)},drop:function(t){e.dropHeader(t)},dragleave:function(t){e.dragleave(t)},dragenter:function(t){e.dragenter(t)}}}):e._e()],1)},B=[],R={mixins:[f["a"],L],name:"dockPanel",components:{},props:{info:{required:!0,type:Object},level:{type:Number}},data:function(){return{active:!1,isDraging:!1,editableTabsValue:"",selectPanel:null}},watch:{editableTabsValue:function(e){var t=this.info.children.filter(function(t){return t.component==e});this.selectPanel=t&&t[0]},currentLayout:function(e){setTimeout(this.activeFirst,100)}},computed:{canDragIn:function(e){return this.isDraging&&1==this.info.children.length},currentLayout:function(){return this.$store.state.viewOption.currentLayout}},mounted:function(){var e=this;this.activeFirst(),this.ema.bind("dock.panelUnActive",function(t){e.active=!1}),this.ema.bind("dock.panelActive",function(t){e.info.children.forEach(function(n){t==n.component&&(e.editableTabsValue=t)})})},methods:{activeFirst:function(){var e=this.info.children&&this.info.children[0];this.editableTabsValue=e.component},keydown:function(e){this.active&&(e.panelName=this.selectPanel.component)},panelSelect:function(e){this.active=!0},dragend:function(e){this.isDraging=!1,this.ema.fire("dock.panelTitleDragEnd",e)},dragstart:function(e,t){this.isDraging=!0,e.stopPropagation(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY),this.ema.fire("dock.panelTitleDragStart",this,t)},dropClick:function(e){this[e]()},removeOne:function(e){var t=this,n=e||this.info.children.find(function(e,n){if(e.component==t.editableTabsValue)return!0});return this.info.children.splice(this.info.children.indexOf(n),1),this.info.children.length>0?this.editableTabsValue=this.info.children[0].component:this.$parent.removePanel(this.info),n},jump:function(e){var t=x()(this.removeOne()),n=this.$el.getBoundingClientRect(),a={width:n.width+"px",height:n.height+"px",left:"100px",top:"100px"};t.style=Object.assign(a,t.style||{}),this.ema.fire("dock.dialogPush",t)},close:function(){this.removeOne()},dropHeader:function(e){var t=this,n=this.info.children.find(function(e,n){if(e.component==t.dragInfo.component)return!0});n||(this.info.children.push(x()(this.dragInfo)),this.dragPanel.removeOne(this.dragInfo),this.editableTabsValue=this.dragInfo.component),this.ema.fire("dock.panelTitleHeaderDrop",e),this.showMask=!1}}},z=R,H=(n("93a6"),n("b4bc"),Object(b["a"])(z,F,B,!1,null,"0a798b50",null)),G=H.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock-resizer",class:{active:e.active},style:{"z-index":e.level},on:{mousedown:function(t){e.mousedown(t)}}},[n("div",{staticClass:"bar"})])},V=[],W={mixins:[f["a"]],name:"dockResizer",components:{},props:{type:{type:String},info:{type:Object},level:{type:Number}},data:function(){return{move:{start:{x:0,y:0},end:{x:0,y:0}},active:!1}},watch:{},computed:{},mounted:function(){var e=this;this.ema.bind("dock-mouseup",function(){e.active&&e.$parent.mouseup(),e.active=!1}),this.ema.bind("dock-mousemove",function(t){e.active&&(e.move.end={x:t.pageX,y:t.pageY},e.$parent.doMove(e,{x:e.move.start.x-e.move.end.x,y:e.move.start.y-e.move.end.y}))})},methods:{mousedown:function(e){this.move.start={x:e.pageX,y:e.pageY},this.active=!0,this.active&&this.$parent.mousedown(this)}}},q=W,K=(n("5adb"),Object(b["a"])(q,U,V,!1,null,"7d69becd",null)),X=K.exports,Y={mixins:[f["a"],L],name:"dockMain",components:{Panel:G,Resizer:X},props:{info:{required:!0,type:Object},level:{type:Number}},data:function(){return{boxSize:{width:0,iwidth:0,height:0,iheight:0},resizerSize:3}},watch:{},mounted:function(){this.initBounding()},methods:{removePanel:function(e){this.info.children.splice(this.info.children.indexOf(e),1),this.info.children.length>0?this.info.children[0].flex+=e.flex:this.$parent.removePanel(this.info)},getBrother:function(e){var t=0,n=this.$children;n.find(function(n,a){if(n==e)return t=a,!0}),t&&(this.preBrother=n[t-1],this.nextBrother=n[t+1])},initBounding:function(){var e=this.$el.getBoundingClientRect(),t=this.$children.length;this.boxSize.width=e.width,this.boxSize.iwidth=e.width-Math.floor(t/2)*this.resizerSize,this.boxSize.height=e.height,this.boxSize.iheight=e.height-Math.floor(t/2)*this.resizerSize},doMove:function(e,t){var n="row"==this.info.type?"x":"y",a=parseFloat(this.preFlex-t[n]),i=parseFloat(this.nextFlex+t[n]);this.preBrother&&this.nextBrother&&(this.preBrother.info.flex=a+"px",this.nextBrother.info.flex=i+"px")},mouseup:function(){var e=this;this.initBounding();var t="row"==this.info.type?"width":"height",n=this.boxSize["i"+t];this.info.children.forEach(function(t){e.$set(t,"flex",parseFloat(t.flex)/n)})},dealPx:function(){var e=this,t="row"==this.info.type?"width":"height",n=this.boxSize["i"+t],a=this.info.children.find(function(e){if(-1!=(e.flex+"").indexOf("px"))return!0});a&&this.info.children.forEach(function(t){t.flex=1/e.info.children.length}),this.info.children.forEach(function(t){e.$set(t,"flex",t.flex*n+"px")})},dealPrecent:function(){var e=this,t="row"==this.info.type?"width":"height",n=0;this.info.children.forEach(function(e){n+=e[t]}),this.info.children.forEach(function(a){e.$set(a,"flex",a[t]/n)})},mousedown:function(e){this.getBrother(e),this.initBounding(),this.dealPx(),this.preBrother&&this.nextBrother&&(this.preFlex=parseFloat(this.preBrother.info.flex),this.nextFlex=parseFloat(this.nextBrother.info.flex))}}},J=Y,Z=(n("6210"),Object(b["a"])(J,D,M,!1,null,"4bcd9630",null)),Q=Z.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-dock-dialog comp-panel-frame animation-panel",style:e.info.style},[n("header",{staticClass:"panel-header dragger dark",on:{mousedown:function(t){e.mousedown(t)}}},[n("div",{staticClass:"panel-header-title"},[n("div",{staticClass:"panel-header-title-content"},[n("span",{staticClass:"panel-header-label",attrs:{draggable:"true"},on:{dragstart:function(t){e.dragstart(t,e.info)},dragend:function(t){e.dragend(t,e.info)}}},[n("i",{staticClass:"iconfont icon-dragvertical"}),e._v(" "+e._s(e.info.name))])])]),n("div",{staticClass:"btnWarp"},[n("i",{staticClass:"el-icon-close btn",on:{click:e.close}})])]),n("div",{staticClass:"content"},[e.info.component?n(e.info.component,e._b({tag:"component"},"component",e.info.props,!1)):e._e()],1),n("div",{staticClass:"resize",on:{mousedown:function(t){e.resizerMousedown(t)}}})])},te=[],ne={mixins:[f["a"]],name:"dockDialog",components:{},props:{info:{required:!0,type:Object}},data:function(){return{startPos:{left:0,top:0},move:{start:{x:0,y:0},end:{x:0,y:0}},active:!1}},watch:{},computed:{},mounted:function(){var e=this;this.ema.bind("dock-mouseup",function(){e.active=!1,e.resizerActive=!1}),this.ema.bind("dock-mousemove",function(t){(e.active||e.resizerActive)&&(e.move.end={x:t.pageX,y:t.pageY},e.doMove({x:e.move.start.x-e.move.end.x,y:e.move.start.y-e.move.end.y}))})},methods:{removeOne:function(e){this.close()},dragend:function(e){this.ema.fire("dock.panelTitleDragEnd",e)},dragstart:function(e,t){e.stopPropagation(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY),this.ema.fire("dock.panelTitleDragStart",this,this.info)},close:function(e){this.ema.fire("dock.dialogClose",this.info)},doMove:function(e){var t={};this.active&&(t={left:this.startPos.left-e.x,top:this.startPos.top-e.y},this.info.style.left=t.left+"px",this.info.style.top=t.top+"px"),this.resizerActive&&(t={width:Math.max(this.startPos.width-e.x,300),height:Math.max(this.startPos.height-e.y,400)},this.info.style.width=t.width+"px",this.info.style.height=t.height+"px")},mousedown:function(e){this.startPos={left:parseFloat(this.info.style.left),top:parseFloat(this.info.style.top),width:parseFloat(this.info.style.width),height:parseFloat(this.info.style.height)},this.move.start={x:e.pageX,y:e.pageY},this.active=!0},resizerMousedown:function(e){this.startPos={left:parseFloat(this.info.style.left),top:parseFloat(this.info.style.top),width:parseFloat(this.info.style.width),height:parseFloat(this.info.style.height)},this.move.start={x:e.pageX,y:e.pageY},this.resizerActive=!0}}},ae=ne,ie=(n("600f"),Object(b["a"])(ae,ee,te,!1,null,"609bafd2",null)),oe=ie.exports,se=n("5880"),re=n.n(se),ce={mixins:[f["a"]],name:"dock",components:{MainDock:Q,dialogone:oe},props:{info:{required:!0,type:Object}},data:function(){return{showMask:!1,DragInfo:null,DragDirection:"",boxSize:{},onedialogs:[],maskStyle:{left:0,width:0,top:0,right:0}}},watch:{info:{deep:!0,handler:function(e,t){e!==t||this.saveLayout()}}},computed:Object(se["mapState"])({currentLayout:function(e){return e.viewOption.currentLayout}}),mounted:function(){var e=this;this.ema.bind("dock.dialogClose",function(t){e.info.dialogs.splice(e.info.dialogs.indexOf(t),1)}),this.ema.bind("dock.dialogPush",function(t){e.info.dialogs.push(t)}),this.ema.bind("dock.onceDialogClose",function(t){e.onedialogs.splice(e.onedialogs.indexOf(t),1)}),this.ema.bind("dock.onceDialogPush",function(t){e.onedialogs.push(t)}),this.ema.bind("dock.maskDragenter",function(t,n){e.dealMask(t,n)}),this.ema.bind("dock.panelTitleDragStart",function(t,n){e.DragInfo={target:t,data:n}}),this.ema.bind("dock.maskDragleave",function(e,t){}),this.ema.bind("dock.panelTitleDragEnd",function(t,n){e.showMask=!1,e.targetPanel=null}),this.ema.bind("dock.panelTitleHeaderDrop",function(t,n){e.showMask=!1,e.targetPanel=null}),this.ema.bind("dock.panelTitleDrop",function(t,n){e.showMask&&e.movePanel(),e.showMask=!1,e.targetPanel=null}),this.boxSize=this.$el.getBoundingClientRect()},methods:{movePanel:function(){var e=this;if(this.targetPanel){var t=this.targetPanel.$parent.info,n=t.children,a=this.DragInfo;a.target.removeOne(a.data);var i=x()(a.data),o="row";if(n){o="top"==this.DragDirection||"bottom"==this.DragDirection?"column":"row";var s=n.indexOf(this.targetPanel.info);if("top"==this.DragDirection||"left"==this.DragDirection?(s-=1,s<0&&(s=0)):s+=1,1==n.length&&(t.type=o),"panel"==this.targetPanel.info.type){var r=[x()(this.targetPanel.info)];r.splice(s,0,{children:[{children:[i],type:"panel"}],flex:.5,type:"column"}),r.forEach(function(e){e.flex=1/r.length}),this.targetPanel.info.children=r,this.targetPanel.info.type=o,this.targetPanel.$parent.info.children.forEach(function(t){t.flex=1/e.targetPanel.$parent.info.children.length})}else n.splice(s,0,{children:[{children:[i],type:"panel"}],flex:.5,type:"column"}),n.forEach(function(e){e.flex=1/n.length})}}},dealMask:function(e,t){var n=this.boxSize,a=e.target.className.replace("mask ",""),i=t.$el.getBoundingClientRect();this.targetPanel=t;var o=t.$parent.info.type;o&&(this.showMask=!0,"left"==a?this.maskStyle={left:i.left-n.left+"px",top:i.top-n.top+"px",width:i.width/2+"px",height:i.height+"px"}:"right"==a?this.maskStyle={left:i.left+i.width/2-n.left+"px",top:i.top-n.top+"px",width:i.width/2+"px",height:i.height+"px"}:"top"==a?this.maskStyle={top:i.top-n.top+"px",left:i.left-n.left+"px",width:i.width+"px",height:i.height/2+"px"}:"bottom"==a?this.maskStyle={top:i.top+i.height/2-n.top+"px",left:i.left-n.left+"px",width:i.width+"px",height:i.height/2+"px"}:"header"==a&&(i=e.target.getBoundingClientRect(),this.maskStyle={top:i.top-n.top+"px",left:i.left-n.left+"px",width:i.width+"px",height:i.height+"px"}),this.DragDirection=a)},saveLayout:function(){var e=this,t=this;this.saveTimer&&clearTimeout(this.saveTimer),this.saveTimer=setTimeout(function(){window.localStorage.setItem("dockLayout_save",JSON.stringify(t.info)),e.$store.dispatch("setCurrentLayout","custom")},1e3)},mouseup:function(e){this.ema.fire("dock-mouseup",e)},mousemove:function(e){this.ema.fire("dock-mousemove",e)}}},le=ce,de=(n("7884"),Object(b["a"])(le,O,P,!1,null,"0cc92d67",null)),ue=de.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"bughd"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.error&&e.visible,expression:"error && visible"}],staticClass:"bughd"},[e._v("\n    "+e._s(e.error&&e.error.stack)+"\n    "),n("div",{staticClass:"close-btn",on:{click:function(t){e.visible=!1}}},[n("i",{staticClass:"el-icon-error"})])])])},me=[],fe={name:"bughd",mixins:[f["a"]],data:function(){return{error:null,visible:!0}},mounted:function(){var e=this;this.ema.bind("bughd.open",function(t){e.error=t,e.visible=!0})}},he=fe,ge=(n("6701"),Object(b["a"])(he,pe,me,!1,null,"72fdaf90",null)),be=ge.exports,ve=n("e97e"),ye=n("b311"),we=n.n(ye),xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"tips",style:{width:e.width}},[e._m(0,!1,!1),n("el-carousel",{staticStyle:{height:"20px",overflow:"hidden"},attrs:{"indicator-position":"none",height:"20",arrow:"never",interval:3e3,direction:"vertical"}},e._l(e.tips,function(t,a){return n("el-carousel-item",{key:a,staticStyle:{height:"20px"}},[n("div",{staticClass:"el-carousel-item",domProps:{innerHTML:e._s(t)}})])})),n("div",{staticClass:"close",on:{click:e.close}},[n("i",{staticClass:"el-icon-close"})])],1)},ke=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bell"},[n("i",{staticClass:"el-icon-question"})])}],_e=["鼠标拖动位于组件四角的调整点时，同时按住 <em>shift</em> 键可以保持比例缩放哦","鼠标拖动位于组件四角的调整点时，同时按住 <em>shift</em> 键可以保持比例缩放哦"],Ce={mixins:[f["a"]],components:{},name:"tips",props:{},data:function(){return{tips:_e,width:500,visible:!0}},mounted:function(){var e=this.$parent.$el.getBoundingClientRect();this.width=e.width+"px"},methods:{close:function(){this.visible=!1}}},$e=Ce,Se=(n("60d3"),Object(b["a"])($e,xe,ke,!1,null,"5fa1598c",null)),je=Se.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-bar-wrapper header"},[n("div",{staticClass:"main-top-bar top-bar-lang-en"},[n("div",{staticClass:"top-bar-left-section"},[e._m(0,!1,!1),n("div",{staticClass:"top-menus"},[n("el-dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"click"},on:{command:e.selectLayout}},[n("el-button",{attrs:{type:"text"}},[e._v("\n              布局"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.layouts,function(t){return n("el-dropdown-item",{key:t.type,attrs:{command:t.type}},[e._v(e._s(t.name)+" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.currentLayout==t.type,expression:"currentLayout == view.type"}],staticClass:"el-icon-check",staticStyle:{color:"#faad14"}})])}))],1),n("el-dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"click"},on:{command:e.selectWidget}},[n("el-button",{attrs:{type:"text"}},[e._v("\n              部件"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.computedWidgets,function(t,a){return n("el-dropdown-item",{key:a,staticClass:"el-dropdown-item",attrs:{disabled:t.enable&&t.required,command:a}},[e._v(e._s(t.desc)+" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.enable,expression:"view.enable"}],staticClass:"el-icon-check",staticStyle:{color:"#faad14"}})])}))],1),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.revocation}},[n("i",{staticClass:"menu-text iconfont icon-revocation"},[e._v(" 撤销")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.forward}},[n("i",{staticClass:"menu-text iconfont icon-forward"},[e._v(" 恢复")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.preview}},[n("i",{staticClass:"menu-text iconfont el-icon-view"},[e._v(" 预览")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.save}},[n("i",{staticClass:"menu-text iconfont icon-save"},[e._v(" 存草稿")])]),n("el-button",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],staticStyle:{"margin-left":"20px"},attrs:{type:"text"}},[n("i",{staticClass:"menu-text iconfont icon-grid"},[e._v(" 参考线")])]),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"},on:{click:e.psd}},[n("i",{staticClass:"menu-text el-icon-picture-outline"},[e._v(" psd")])]),n("el-dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"click"},on:{command:e.onToolCommand}},[n("el-button",{attrs:{type:"text"}},[e._v("\n              工具"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-dropdown-item",attrs:{command:"allToPx"}},[e._v("应用绝对尺寸转换")])],1)],1),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"text"}},[n("a",{staticStyle:{color:"#faad14"},attrs:{href:"https://godspen.ymm56.com/doc/",target:"_blank"}},[e._v("帮助中心")])])],1)]),n("div",{staticClass:"top-bar-center-section"}),n("div",{staticClass:"top-bar-right-section"},[n("button",{staticClass:"top-bar-btn top-bar-button-preview",on:{click:e.saveToServer}},[e._m(1,!1,!1)]),n("button",{staticClass:"top-bar-btn top-bar-btn-publish top-bar-edit-mode-last-btn",on:{click:e.publish}},[e._m(2,!1,!1)])])]),n("el-popover",{ref:"popover4",attrs:{placement:"right",width:"180",trigger:"click"}},[n("el-form",{attrs:{model:e.setting,size:"mini","label-width":"90px"}},[n("el-form-item",{attrs:{label:"智能参考线"}},[n("el-switch",{model:{value:e.setting.line,callback:function(t){e.$set(e.setting,"line",t)},expression:"setting.line"}})],1),n("el-form-item",{attrs:{label:"参考线颜色"}},[n("el-color-picker",{model:{value:e.setting.color,callback:function(t){e.$set(e.setting,"color",t)},expression:"setting.color"}})],1),n("el-form-item",{attrs:{label:"吸附效果"}},[n("el-switch",{model:{value:e.setting.sorb,callback:function(t){e.$set(e.setting,"sorb",t)},expression:"setting.sorb"}})],1)],1)],1)],1)},Ie=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top-bar-logo"},[a("img",{staticClass:"logo",attrs:{src:n("9d64")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"label"},[e._v("\n            保存\n            "),n("i",{staticClass:"iconfont icon-save"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"label"},[n("i",{staticClass:"iconfont icon-publish"}),e._v("发布")])}];function Te(e){return Te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Ae(e,t){return Pe(e)||Oe(e,t)||Ne()}function Ne(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Oe(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{a||null==r["return"]||r["return"]()}finally{if(i)throw o}}return n}function Pe(e){if(Array.isArray(e))return e}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Me(e,t,n[t])})}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={mixins:[f["a"]],components:{},name:"header",props:["layout-data"],data:function(){return{setting:{open:!0,line:!0,color:"#409EFF",phoneline:!0,sorb:!0}}},computed:De({computedWidgets:function(){var e=Object.entries(this.widgets).reduce(function(e,t){var n=Ae(t,2),a=n[0],i=n[1];return e[a]={name:a,desc:i,enable:!1,required:!1},e},{});if(this.layoutData&&"object"===Te(this.layoutData)){var t=this.layoutData,n=t.layout,a=t.dialogs;return i(n&&n.children),i(a),e}function i(t){if(t||t.length){var n=!0,a=!1,o=void 0;try{for(var s,r=t[Symbol.iterator]();!(n=(s=r.next()).done);n=!0){var c=s.value;c.component&&(e[c.component]["enable"]=1,e[c.component]["required"]=!c.close),c.children&&c.children.length&&i(c.children)}}catch(l){a=!0,o=l}finally{try{n||null==r.return||r.return()}finally{if(a)throw o}}}}}},Object(se["mapState"])({widgets:function(e){return e.viewOption.widgets},layouts:function(e){return e.viewOption.layouts},currentLayout:function(e){return e.viewOption.currentLayout}})),mounted:function(){},watch:{setting:{deep:!0,handler:function(e){this.$store.dispatch("SettingChange",e),window.localStorage.setItem("EditorSetting",JSON.stringify(e))}}},methods:{onToolCommand:function(e){switch(e){case"allToPx":this.ema.fire("allToPx");break}},publish:function(){window.Editor.publish()},saveToServer:function(){window.Editor.saveToServer()},selectLayout:function(e){this.$store.dispatch("setCurrentLayout",e)},selectWidget:function(e){var t=this,n=this.computedWidgets[e];function a(t){if(t||t.length)for(var n=0;n<t.length;n++){var i=t[n]||{};if(i.component===e){t.splice(n,1);break}i.children&&i.children.length&&a(i.children)}}n.enable?n.required||this.$confirm("确定要移除【".concat(n.desc,"】部件么")).then(function(e){var n=t.layoutData,i=n.layout,o=n.dialogs;a(i&&i.children),a(o)}).catch(function(e){return console.log("怂了")}):this.$confirm("确定要添加【".concat(n.desc,"】部件么")).then(function(e){t.layoutData.dialogs.push({name:n.desc,component:n.name,style:{width:"300px",height:"400px",left:"0px",top:"50px"},close:!n.required,pop:!0})}).catch(function(e){return console.log("怂了")})},preview:function(){var e=I["a"].parseURL(window.location.href);this.openDialog({name:"d-Preview",data:{key:e.params&&e.params.key}})},revocation:function(){this.ema.fire("history.back")},forward:function(){this.ema.fire("history.forword")},save:function(){this.ema.fire("pageInfo.save",!0)},psd:function(){this.ema.fire("pageInfo.psd")}}},Fe=Le,Be=(n("c570"),Object(b["a"])(Fe,Ee,Ie,!1,null,"1ce02296",null)),Re=Be.exports;function ze(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function He(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){ze(o,a,i,s,r,"next",e)}function r(e){ze(o,a,i,s,r,"throw",e)}s(void 0)})}}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Ue(e,t,n[t])})}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("5898");var Ve=n("f121"),We={mixins:[f["a"]],name:"editor",components:{CDialogs:E,UploadImage:N["a"],ContextMenu:y,UiDock:ue,Tips:je,myheader:Re,Bughd:be},data:function(){return{screenshotKey:null,layoutData:null,nodeInfo:null,pageInfo:null,keys:[],clipboardContent:"",imgSrc:"",form:{name:"",desc:""},uploadObject:null}},props:["active"],computed:Ge({STORAGE_KEY:function(){return this.keys&&this.keys.length?"EditorautoSave_".concat(this.keys[0]||"","_").concat(this.keys[1]||""):"EditorautoSave_tmp"}},Object(se["mapState"])({currentLayout:function(e){return e.viewOption.currentLayout},demoMode:function(e){return e.setting.demoMode}})),watch:{nodeInfo:function(e){this.ema.fire("editor.nodeInfoChange",e)},currentLayout:{handler:function(e,t){this.layout(e)},immediate:!0}},beforeCreate:function(){},created:function(){},mounted:function(){window.Editor=this,this.bindEvent(),this.loadPageInfo()},methods:{layout:function(){var e=He(u.a.mark(function e(t){var a,i,o,s;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:a="dockLayout_save",i="dockLayout_type",e.t0=t,e.next="custom"===e.t0?7:"develop"===e.t0?13:(e.t0,13);break;case 7:try{o=JSON.parse(window.localStorage.getItem(a)||"{}")}catch(r){}return e.next=10,n("fb4d")("./".concat(o.name||"default",".json"));case 10:return s=e.sent,o.version>=s.version||(o=x()(s)),e.abrupt("break",17);case 13:return e.next=15,n("fb4d")("./".concat(t,".json"));case 15:o=e.sent,o=x()(o.default||o);case 17:this.layoutData=o,"custom"==t&&window.localStorage.setItem(a,JSON.stringify(o)),window.localStorage.setItem(i,t);case 20:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),autoSave:function(){var e=this;setInterval(function(){e.ema.fire("pageInfo.save",!0)},12e4)},canDrag:function(){},bindEvent:function(){var e=this,t=this;this.$watch("nodeInfo",function(t){e.doSave(t)},{deep:!0}),this.ema.bind("history.back",function(){var n=k.getPrev();n?(t.nodeInfo=n,t.ema.fire("nodeInfo.replace",t.nodeInfo),e.lock=!0):e.$message({type:"success",message:"没有历史记录"})}),this.ema.bind("history.forword",function(){var n=k.getNext();n?(t.nodeInfo=n,t.ema.fire("nodeInfo.replace",t.nodeInfo),e.lock=!0):e.$message({type:"success",message:"没有历史记录"})}),this.ema.bind("selectPageTemplate",function(t){t&&Object.assign(e.nodeInfo,x()(t))}),this.ema.bind("pageInfo.save",function(t){console.log("save---------",e.nodeInfo),e.doSave(e.nodeInfo,!0),e.savePage()}),this.ema.bind("commponent.addOne",function(t){var n=e.nodeInfo;if(window.$vue&&window.$vue.nodeInfo&&(n=window.$vue.nodeInfo),n.leaf)return e.$alert("不能为当前选中节点添加子组件");if(n.childLimit&&n.child&&n.child.length>=n.childLimit)return e.$alert("当前选中节点最多可添加".concat(n.childLimit,"个子组件，已达限额"));var a=Object(ve["b"])(t);/pageContainer$/i.test(n.type)&&(a.forceStyle={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"}),n.child||e.$set(n,"child",[]),n.child.push(a)}),this.ema.bind("pageInfo.psd",function(n){e.openDialog({name:"d-psd",data:{title:"psd上传"},methods:{changeNode:function(e,n){var a=null;try{a=JSON.parse(e)}catch(r){console.log("error",r)}if(a){var i=t.nodeInfo,o=i.psdList||[];o.push(JSON.parse(n)),i.psdList=o,i.child=i.child.concat(a);var s=I["a"].modifyNodeId(i,Object.keys(window.$_nodecomponents||{}),[]);t.nodeInfo=JSON.parse(JSON.stringify(s)),t.ema.fire("nodeInfo.change")}}}})}),window.Clipboard=we.a,new we.a(this.$refs["clipboard"]),this.ema.bind("clipboard.copy",function(t,n){e.clipboardContent=String(t),window.setTimeout(function(){e.$refs["clipboard"].click(),e.$message({message:n||"已复制",type:"success"})})}),this.ema.bind("screenshot",function(t,n,a){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.screenshotKey=Math.random().toFixed(10);var o=i&&e.$loading({lock:!0,text:"稍等片刻"});setTimeout(function(){e.$refs["screenshot"].upload(t,n,function(){o&&o.close(),a.apply(null,arguments),this.screenshotKey=null})},100)}),window.document.addEventListener("keydown",function(t){var n=t.keyCode;switch(n){case 38:e.ema.fire("arrowup.down",t);break;case 40:e.ema.fire("arrowdown.down",t);break;case 37:e.ema.fire("arrowleft.down",t);break;case 39:e.ema.fire("arrowright.down",t);break;case 8:e.ema.fire("delete.down",t);case 46:e.ema.fire("delete.down",t);break;case 18:e.ema.fire("alt.down",t);break;case 16:e.ema.fire("shift.down",t);break}}),window.document.addEventListener("keyup",function(t){var n=t.keyCode;switch(n){case 8:case 46:e.ema.fire("delete.up",t);break;case 18:e.ema.fire("alt.up",t);break;case 16:e.ema.fire("shift.up",t);break;case 70:t.ctrlKey&&t.shiftKey&&(e.ema.fire("ctrl.shift.f.up",t),t.preventDefault());break}}),this.ema.bind("alert.show",function(t,n){e.$alert(t,"提示",{confirmButtonText:"确定",callback:function(e){"function"==typeof n&&n()}})}),window.EMA.bind("logout",function(){e.logout()}),this.ema.bind("resource.use",function(e){e>0&&Object(A["a"])({url:"editor/resources/addUseCount",method:"post",needLoading:!1,data:{id:e}}).then().catch(console.error)})},logout:function(){window.onbeforeunload=null,window.onunload=null,window.sessionStorage.removeItem("session"),window.location.replace("".concat(Ve.ADMIN_PATH,"login.html"))},loadPageInfo:function(){var e=this,t=I["a"].parseURL(window.location.href),n=t.params.uid;n?Object(A["a"])({url:"editor/pages/editor-detail",method:"post",needLoading:!1,data:{uid:n,scene:"edit"}}).then(function(t){var n=t.data;e.pageInfo=n.data;var a=null;try{a=JSON.parse(e.pageInfo.diy_content)||T}catch(i){}e.$store.dispatch("setPageType",e.pageInfo.type),a.canvas&&a.canvas.width&&e.$store.dispatch("SettingChange",{phoneSize:a.canvas}),e.nodeInfo=x()(a),e.$store.dispatch("setUser",{userId:n.data&&n.data.uid})}):this.$alert("编辑页面缺少key")},doSave:function(e,t){var n=this,a=this;this.timer&&window.clearTimeout(this.timer),t?window.localStorage.setItem(a.STORAGE_KEY,JSON.stringify(e)):this.timer=window.setTimeout(function(){window.localStorage.setItem(a.STORAGE_KEY,JSON.stringify(e)),a.lock||k.add(e),n.lock=!1},500)},saveToServer:function(){this.ema.fire("pageInfo.save")},savePage:function(){var e=this;if(this.demoMode)return this.$alert("您处在demo模式下，不能保存数据哦");var t=Object.assign({},this.pageInfo);t.diy_content=window.localStorage.getItem(this.STORAGE_KEY),Object(A["a"])({url:"editor/pages/save",method:"post",needLoading:!0,data:t}).then(function(t){var n=t.data,a=n.code,i=n.msg;if(500==a)return e.$alert(i);e.$message({type:"success",message:"保存成功"})}).catch(function(t){e.$message({type:"success",message:"保存失败"})})},savePagePreviewImage:function(){var e=this,t=I["a"].parseURL(window.location.href);this.ema.fire("screenshot",document.querySelector("#stage"),{height:486,fileName:t.params.key+".jpg"},function(t){var n=Object.assign({},e.pageInfo);n.diy_content=window.localStorage.getItem(e.STORAGE_KEY),n.image=t,Object(A["a"])({url:"editor/pages/save",method:"post",needLoading:!0,data:n}).then(function(e){e.data}).catch(function(e){})},!1)},publish:function(){var e=He(u.a.mark(function e(){var t,n=this;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.demoMode){e.next=2;break}return e.abrupt("return",this.$alert("您处在 demo 模式下，不能保存数据哦"));case 2:return e.next=4,this.$confirm("您确定要发布吗？发布以后用户即可查看最新的页面");case 4:if(t=e.sent,t){e.next=7;break}return e.abrupt("return");case 7:Object(A["a"])({url:"editor/pages/publish",method:"post",needLoading:!0,data:{pageKey:this.keys[1],type:this.pageInfo.type,id:this.pageInfo.id,projectId:this.pageInfo.projectId,diy_content:window.localStorage.getItem(this.STORAGE_KEY)}}).then(function(e){var t=e.data,a=t.code,i=t.msg;if(500==a)return n.$alert(i);n.$message({type:"success",message:"发布成功"})});case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getUserInfo:function(){var e=this;Object(A["a"])({url:"users/info?uid=0",method:"get"}).then(function(t){var n=t.data,a=n&&n.data||{};e.$store.dispatch("setUser",a)})}}},qe=We,Ke=(n("0809"),Object(b["a"])(qe,c,l,!1,null,null,null)),Xe=Ke.exports,Ye=n("f7ab"),Je=n.n(Ye),Ze=n("5c96"),Qe=n.n(Ze),et=(n("9b21"),{phoneSize:[{name:"Mobile S",width:"320px",height:"500px"},{name:"Mobile M",width:"360px",height:"600px"},{name:"Mobile L",width:"414px",height:"700px"}],style:{overflow:[{value:"visible",desc:"默认值。内容不会被修剪，会呈现在元素框之外。,"},{value:"hidden",desc:"内容会被修剪，并且其余内容是不可见的。,"},{value:"scroll",desc:"内容会被修剪，但是浏览器会显示滚动条以便查看其余的内容。,"},{value:"auto",desc:"如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。,"},{value:"inherit",desc:"规定应该从父元素继承 overflow 属性的值。,"}],display:[{value:"none",desc:"此元素不会被显示。"},{value:"block",desc:"此元素将显示为块级元素，此元素前后会带有换行符。"},{value:"inline",desc:"默认。此元素会被显示为内联元素，元素前后没有换行符。"},{value:"inline-block",desc:"行内块元素。（CSS2.1 新增的值）"},{value:"list-item",desc:"此元素会作为列表显示。"},{value:"table",desc:"此元素会作为块级表格来显示（类似 <table>），表格前后带有换行符。"},{value:"inline-table",desc:"此元素会作为内联表格来显示（类似 <table>），表格前后没有换行符。"},{value:"table-row-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <tbody>）。"},{value:"table-header-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <thead>）。"},{value:"table-footer-group",desc:"此元素会作为一个或多个行的分组来显示（类似 <tfoot>）。"},{value:"table-column-group",desc:"此元素会作为一个或多个列的分组来显示（类似 <colgroup>）。"},{value:"table-row",desc:"此元素会作为一个表格行显示（类似 <tr>）。"},{value:"table-column",desc:"此元素会作为一个单元格列显示（类似 <col>）"},{value:"table-cell",desc:"此元素会作为一个表格单元格显示（类似 <td> 和 <th>）"},{value:"table-caption",desc:"此元素会作为一个表格标题显示（类似 <caption>）"},{value:"inherit",desc:"规定应该从父元素继承 display 属性的值。"}],position:[{value:"absolute",label:"父元素",desc:'生成绝对定位的元素，相对于 static 定位以外的第一个父元素进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。'},{value:"fixed",label:"屏幕",desc:'生成绝对定位的元素，相对于浏览器窗口进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。'},{value:"relative",label:"相对自己",desc:'生成相对定位的元素，相对于其正常位置进行定位。因此，"left:20" 会向元素的 LEFT 位置添加 20 像素。'}],unit:[{value:"px",desc:"像素 (计算机屏幕上的一个点)"},{value:"%",desc:"百分比"},{value:"em",desc:"等于当前的字体尺寸。"}],borderStyle:[{label:"--无--",value:"none",desc:"定义无边框。"},{label:"实线",value:"solid",desc:"定义实线。"},{label:"虚线",value:"dashed",desc:"定义虚线。在大多数浏览器中呈现为实线。"},{label:"点状线",value:"dotted",desc:"定义点状边框。在大多数浏览器中呈现为实线。"},{label:"双划线",value:"double",desc:"定义双线。双线的宽度等于 border-width 的值。"},{label:"3D凹槽",value:"groove",desc:"定义 3D 凹槽边框。其效果取决于 border-color 的值。"},{label:"3D垄状",value:"ridge",desc:"定义 3D 垄状边框。其效果取决于 border-color 的值。"},{label:"3D内嵌",value:"inset",desc:"定义 3D inset 边框。其效果取决于 border-color 的值。"},{label:"3D外嵌",value:"outset",desc:"定义 3D outset 边框。其效果取决于 border-color 的值。"}],fontWeight:[{value:"normal",desc:"默认值"},{value:"bold",desc:"加粗"}],textAlign:[{value:"left",desc:"把文本排列到左边。默认值：由浏览器决定。"},{value:"right",desc:"把文本排列到右边。"},{value:"center",desc:"把文本排列到中间。"},{value:"justify",desc:"实现两端对齐文本效果。"},{value:"inherit",desc:"规定应该从父元素继承 text-align 属性的值。"}],backgroundFill:[{value:"repeat",label:"平铺",desc:"默认，图像在背景垂直方向和水平方向重复。"},{value:"repeat-x",label:"横向平铺",desc:"图像在背景区域水平方向重复。"},{value:"repeat-y",label:"纵向平铺",desc:"图像在背景区域垂直方向重复。"},{value:"contain",label:"适应",desc:"图像在背景区域保持比例完整显示。"},{value:"center",label:"居中",desc:"图像在背景区域居中显示。"},{value:"cover",label:"填充",desc:"图像尽量填充背景区域，可能被裁切"},{value:"stretch",label:"拉伸",desc:"图像尽量填充背景区域，不保持原比例"}],fontFamily:[]},Animate:[{label:"进入",value:"Bouncing Entrances",options:[{label:"弹跳进入",value:"bounceIn"},{label:"向下弹跳进入",value:"bounceInDown"},{label:"向右弹跳进入",value:"bounceInLeft"},{label:"向左弹跳进入",value:"bounceInRight"},{label:"向上弹跳进入",value:"bounceInUp"},{label:"渐显进入",value:"fadeIn"},{label:"向下渐显进入",value:"fadeInDown"},{label:"由屏幕外向下渐显进入",value:"fadeInDownBig"},{label:"向右显进入",value:"fadeInLeft"},{label:"由屏幕外向右渐显进入",value:"fadeInLeftBig"},{label:"向左渐显进入",value:"fadeInRight"},{label:"由屏幕外向左渐显进入",value:"fadeInRightBig"},{label:"向上渐显进入",value:"fadeInUp"},{label:"由屏幕外向上渐显进入",value:"fadeInUpBig"},{label:"加速进入",value:"lightSpeedIn"},{label:"旋转渐显",value:"rotateIn"},{label:"左下角旋转渐显",value:"rotateInDownLeft"},{label:"旋转渐显",value:"rotateInDownRight"},{label:"左上角旋转渐显",value:"rotateInUpLeft"},{label:"右上角旋转渐显",value:"rotateInUpRight"},{label:"向上平移进入",value:"slideInUp"},{label:"向下平移进入",value:"slideInDown"},{label:"向右平移进入",value:"slideInLeft"},{label:"向左平移进入",value:"slideInRight"},{label:"放大进入",value:"zoomIn"},{label:"向下放大进入",value:"zoomInDown"},{label:"向右放大进入",value:"zoomInLeft"},{label:"向左放大进入",value:"zoomInRight"},{label:"向上放大进入",value:"zoomInUp"},{label:"滚动进入",value:"rollIn"}]},{label:"强调",value:"Attention Seekers",options:[{label:"无",value:""},{label:"旋转",value:"justRotate"},{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"跳动",value:"pulse"},{label:"抖动",value:"shake"},{label:"摇摆",value:"swing"},{label:"橡皮圈",value:"rubberBand"},{label:"果冻",value:"jello"},{label:"",value:"tada"},{label:"",value:"wobble"},{label:"翻动",value:"flip"},{label:"纵向翻动",value:"flipInX"},{label:"横向翻动",value:"flipInY"},{label:"立体纵向翻动",value:"flipOutX"},{label:"立体横向翻动",value:"flipOutY"},{label:"悬挂",value:"hinge"}]},{label:"退出",value:"Bouncing Exits",options:[{label:"弹跳退出",value:"bounceOut"},{label:"向下弹跳退出",value:"bounceOutDown"},{label:"向左弹跳退出",value:"bounceOutLeft"},{label:"向右弹跳退出",value:"bounceOutRight"},{label:"向上弹跳退出",value:"bounceOutUp"},{label:"渐隐退出",value:"fadeOut"},{label:"向下渐隐退出",value:"fadeOutDown"},{label:"向下渐隐退出屏幕外",value:"fadeOutDownBig"},{label:"向左渐隐退出",value:"fadeOutLeft"},{label:"向左渐隐退出屏幕外",value:"fadeOutLeftBig"},{label:"向右渐隐退出",value:"fadeOutRight"},{label:"向右渐隐退出屏幕外",value:"fadeOutRightBig"},{label:"向上渐隐退出",value:"fadeOutUp"},{label:"向上渐隐退出屏幕外",value:"fadeOutUpBig"},{label:"加速退出",value:"lightSpeedOut"},{label:"旋转渐隐",value:"rotateOut"},{label:"左下角旋转渐隐",value:"rotateOutDownLeft"},{label:"左下角旋转渐隐",value:"rotateOutDownRight"},{label:"左上角旋转渐隐",value:"rotateOutUpLeft"},{label:"右上角旋转渐隐",value:"rotateOutUpRight"},{label:"向上平移退出",value:"slideOutUp"},{label:"向下平移退出",value:"slideOutDown"},{label:"向左平移退出",value:"slideOutLeft"},{label:"向右平移退出",value:"slideOutRight"},{label:"缩小退出",value:"zoomOut"},{label:"向下缩小退出",value:"zoomOutDown"},{label:"向左缩小退出",value:"zoomOutLeft"},{label:"向右缩小退出",value:"zoomOutRight"},{label:"向上缩小退出",value:"zoomOutUp"},{label:"滚动退出",value:"rollOut"}]}],AnimationTimingFunction:[{value:"linear",desc:"动画从头到尾的速度是相同的",label:""},{value:"ease",desc:"默认。动画以低速开始，然后加快，在结束前变慢",label:""},{value:"ease-in",desc:"动画以低速开始",label:""},{value:"ease-out",desc:"动画以低速结束",label:""},{value:"ease-in-out",desc:"动画以低速开始和结束",label:""}]}),tt=et,nt=function(e,t){var n=e.commit;n("initComponentList",t)},at=function(e,t){var n=e.commit;n("SettingChange",t)},it=function(e,t){var n=e.commit;n("SET_CONFIG",t)},ot=function(e,t){var n=e.commit;n("SET_USER",t)},st=function(e,t){var n=e.commit,a=e.state,i=Object.assign({},a.pageInfo,{lastPage:a.pageInfo.currentPage,currentPage:t});n("SET_PAGE_INFO",i)},rt=function(e,t){var n=e.commit,a=e.state,i=Object.assign({},a.pageInfo,t);n("SET_PAGE_INFO",i)},ct=function(e,t){var n=e.commit,a=e.state,i=t.path,o=t.val,s=x()(a.DataHub);I["a"].objectSetByPath(s,i,o),n("DATA_HUB_SET",s)},lt=function(e,t){var n=e.commit;n("SET_CURRENT_LAYOUT",t)},dt=function(e,t){var n=e.commit;n("SET_PAGE_TYPE",t)},ut=function(e){return e.Metadata},pt=function(e,t){e.componentList=t||{};var n={};for(var a in t){var i=t[a];i.child.forEach(function(e){n[e.name]?console.error("存在组件名字相同的组件",e.name):n[e.name]=e})}e.componentMap=n},mt=function(e,t){Object.assign(e.setting,t)},ft=function(e,t){e.Config=t},ht=function(e,t){e.app.userInfo=t},gt=function(e,t){e.pageInfo=t},bt=function(e,t){e.DataHub=t},vt=function(e,t){e.viewOption.currentLayout=t},yt=function(e,t){e.viewOption.pageType=t},wt=n("f121"),xt=!1;xt&&r.a.use(re.a);var kt={},_t={app:{userInfo:{}},setting:{demoMode:!1,phoneSize:{name:"Mobile S",width:"320px",height:"500px"},open:!0,line:!0,color:"#409EFF",phoneline:!0,sorb:!0},RootNodeInfo:kt,componentList:{},componentMap:{},pageInfo:{lastPage:"",currentPage:""},DataHub:{},Config:wt,Metadata:tt,viewOption:{currentLayout:function(){return window.localStorage.getItem("dockLayout_type")||"default"}(),pageType:0,layouts:[{type:"default",name:"默认布局"},{type:"flutter",name:"flutter布局"},{type:"develop",name:"开发者布局"},{type:"custom",name:"自定义"}],widgets:{widgetComponent:"组件列表",widgetCombinedComponents:"组合组件",widgetComponentTree:"组件树",widgetPageTemplate:"页面模板",widgetScene:"场景",widgetComponentInfo:"组件详情",widgetPageInfo:"页面设置",widgetAttribute:"属性",widgetStyleEditor:"样式",widgetScriptEditor:"脚本",widgetAnimate:"动画",widgetCodePanel:"脚本编辑"}}},Ct=new re.a.Store({strict:xt,state:_t,actions:a,getters:i,mutations:o}),$t=n("c2c6"),St=[{label:"silent"},{label:"optionMergeStrategies"},{label:"devtools"},{label:"errorHandler"},{label:"warnHandler"},{label:"ignoredElements"},{label:"keyCodes"},{label:"performance"},{label:"productionTip"},{label:"extend"},{label:"nextTick"},{label:"set"},{label:"delete"},{label:"directive"},{label:"filter"},{label:"component"},{label:"use"},{label:"mixin"},{label:"compile"},{label:"version"},{label:"data"},{label:"props"},{label:"propsData"},{label:"computed"},{label:"methods"},{label:"watch"},{label:"el"},{label:"template"},{label:"render"},{label:"renderError"},{label:"beforeCreate"},{label:"created"},{label:"beforeMount"},{label:"mounted"},{label:"beforeUpdate"},{label:"updated"},{label:"activated"},{label:"deactivated"},{label:"beforeDestroy"},{label:"destroyed"},{label:"directives"},{label:"filters"},{label:"components"},{label:"parent"},{label:"mixins"},{label:"extends"},{label:"provide"},{label:"inject"},{label:"name"},{label:"delimiters"},{label:"functional"},{label:"model"},{label:"inheritAttrs"},{label:"comments"},{label:"$data"},{label:"$props"},{label:"$el"},{label:"$options"},{label:"$parent"},{label:"$root"},{label:"$children"},{label:"$slots"},{label:"$scopedSlots"},{label:"$refs"},{label:"$isServer"},{label:"$attrs"},{label:"$listeners"},{label:"$watch"},{label:"$set"},{label:"$delete"},{label:"$on"},{label:"$once"},{label:"$off"},{label:"$emit"},{label:"$mount"},{label:"$forceUpdate"},{label:"$nextTick"},{label:"$destroy"},{label:"v-text"},{label:"v-html"},{label:"v-show"},{label:"v-if"},{label:"v-else"},{label:"v-else-if"},{label:"v-for"},{label:"v-on"},{label:"v-bind"},{label:"v-model"},{label:"v-pre"},{label:"v-cloak"},{label:"v-once"},{label:"key"},{label:"ref"},{label:"slot"},{label:"is"},{label:"component"},{label:"transition"},{label:"transition-group"},{label:"keep-alive"},{label:"slot"},{label:"immediate"},{label:"handler"},{label:"editorMethods"},{label:"params"},{label:"desc"}],jt=St,Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dataEditor"},[n("code-editor",{attrs:{ctype:"json",contents:e.inContent},on:{"update:contents":function(t){e.inContent=t}}})],1)},It=[],Tt=n("fb4e"),At={mixins:[f["a"]],name:"DataEditor",components:{CodeEditor:Tt["a"]},props:{content:{type:[String,Array,Object]},type:{type:String}},watch:{inContent:function(e){if(this.type)try{e=JSON.parse(e)}catch(t){}this.$emit("update:content",e),this.$emit("change",e)}},data:function(){return{inContent:""}},mounted:function(){this.type&&(this.inContent=JSON.stringify(this.content,null,2))},methods:{}},Nt=At,Ot=(n("ee1f"),Object(b["a"])(Nt,Et,It,!1,null,"2e04ae0a",null)),Pt=Ot.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"eventEditor"},[n("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.inContent,function(t,a){return n("el-collapse-item",{key:t.event,attrs:{title:t.event,name:a}},[n("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(t.event)+"\n        "),n("i",{staticClass:"header-icon el-icon-delete",on:{click:function(n){e.delectFunc(t.event)}}})]),n("attr-function",{attrs:{targetmethods:[],content:t.callList},on:{"update:content":function(n){e.$set(t,"callList",n)}}})],1)})),n("div",{staticClass:"addScriptWarp"},[n("el-select",{staticClass:"scriptselect",attrs:{size:"mini",placeholder:"请选择"},model:{value:e.selectEventKey,callback:function(t){e.selectEventKey=t},expression:"selectEventKey"}},e._l(e.eventList,function(e){return n("el-option",{key:e.value,attrs:{label:e.value+"->"+(e.label||e.desc),value:e.value}})})),n("el-button",{attrs:{type:"primary",size:"mini",disabled:e.canAdd},on:{click:e.addEvent}},[e._v("添加事件")])],1)],1)},Mt=[],Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"functionEditor"},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"目标对象"}},[n("el-cascader",{attrs:{size:"mini",placeholder:"当前节点","expand-trigger":"click",props:{value:"id",children:"child"},options:e.options,"change-on-select":""},on:{change:e.handleChange,focus:e.loadNodeAndFunction},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e.targetmethods.length>0?n("div",[n("div",[e._v("可选方法")]),n("div",e._l(e.targetmethods,function(t,a){return n("el-tag",{key:t.name,staticClass:"tags",attrs:{size:"small",type:e.getTagType(t.name)},nativeOn:{click:function(n){e.methodSelect(t)}}},[e._v(" "+e._s(t.label)+" ")])}))]):e._e()],1),n("el-collapse",{directives:[{name:"show",rawName:"v-show",value:e.methodNames&&e.methodNames.length,expression:"methodNames && methodNames.length"}],staticClass:"collapse",attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.methodNames,function(t,a){return n("el-collapse-item",{key:t,staticClass:"panel",attrs:{name:t}},[n("template",{slot:"title"},[e.callName(t)?n("div",[n("i",{staticClass:"iconfont icon-function"}),e._v("\n          "+e._s(e.callName(t))+"\n          "),n("i",{staticClass:"header-icon el-icon-delete",on:{click:function(n){e.delectFunc(t)}}})]):n("div",{staticStyle:{color:"red"}},[e._v("\n          不存在该方法 "+e._s(t)+"\n          "),n("i",{staticClass:"header-icon el-icon-delete",on:{click:function(n){e.delectFunc(t)}}})])]),e.hasParams(t)?n("div",{staticClass:"params"},[n("span",{staticClass:"tip"},[e._v("参数")]),n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px"}},e._l(e.params(t),function(a,i){return n("el-form-item",{key:i,staticClass:"form-item"},[n("span",{staticClass:"form-item-label",attrs:{slot:"label"},slot:"label"},[a.desc?n("el-tooltip",{attrs:{content:a.desc,placement:"top"}},[n("i",{staticClass:"el-icon-info"})]):e._e(),e._v("\n              "+e._s(a.label)+"\n            ")],1),"string"==a.type?n("el-input",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:a.default,callback:function(t){e.$set(a,"default",t)},expression:"item.default"}}):"number"==a.type?n("el-input",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:a.default,callback:function(t){e.$set(a,"default",e._n(t))},expression:"item.default"}}):"boolean"==a.type?n("el-switch",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:a.default,callback:function(t){e.$set(a,"default",t)},expression:"item.default"}}):"array"==a.type?[e.isOpen(t)?n("attr-data",{attrs:{type:"array",content:a.default},on:{change:e.paramsChange,"update:content":function(t){e.$set(a,"default",t)}}}):e._e()]:"object"==a.type?[e.isOpen(t)?n("attr-data",{attrs:{type:"object",content:a.default},on:{change:e.paramsChange,"update:content":function(t){e.$set(a,"default",t)}}}):e._e()]:n("el-input",{attrs:{size:"mini"},on:{change:e.paramsChange},model:{value:a.default,callback:function(t){e.$set(a,"default",t)},expression:"item.default"}})],2)}))],1):e._e(),t?n("div",{staticClass:"desc"},[e._v("\n        调用方式："+e._s(e.callString(t))+"\n      ")]):e._e()],2)}))],1)},Ft=[],Bt={mixins:[f["a"]],name:"FunctionEditor",components:{AttrData:Pt},props:{content:{type:Array,default:function(){return[]}}},data:function(){return{activeNames:[],methodNames:[],selectedOptions:[],allTargetmethods:{},targetmethods:[],target:null,options:[]}},watch:{content:{immediate:!0,handler:function(e){"function"!=typeof this.content&&(0==this.selectedOptions.length&&this.dealMethods(window.$vue),this.changeContent(e))}}},computed:{},mounted:function(){var e=this;this.ema.bind("select.one",function(){e.selectedOptions=[],e.dealMethods(window.$vue)}),this.dealMethods(window.$vue)},methods:{isOpen:function(e){return this.activeNames.includes(e)},methodSelect:function(e){var t=this.methodNames.indexOf(e.name);-1==t?this.methodNames.push(e.name):this.methodNames.splice(t,1),this.methodChange()},delectFunc:function(e){var t=this.methodNames.indexOf(e);this.methodNames.splice(t,1);var n=-1;this.content.forEach(function(t,a){t.method==e&&(n=a)}),this.content.splice(n,1)},handleChange:function(e){var t=window.$_nodecomponents[this.selectedOptions[this.selectedOptions.length-1]]||window.$vue;this.dealMethods(t)},dealMethods:function(e){return this.targetmethods=[],e&&(this.targetmethods=this.getTargetMethod(e),this.target=e),this.targetmethods},getTargetMethod:function(e){if(!e)return[];var t=[];if(e){var n=e.$refs[e.nodeInfo.id];if(!n)return t;var a=n.$options.editorMethods||n.$options.editerMethods||{};for(var i in a){var o={name:e.nodeInfo.id+"."+i,label:i,arguments:[]},s=a[i];s&&(s.label&&(o.label=s.label),s.params&&(o.arguments=s.params)),t.push(o)}}return this.allTargetmethods[e.nodeInfo.id]?this.dealTargetMethodsChange(t,this.allTargetmethods[e.nodeInfo.id]):this.allTargetmethods[e.nodeInfo.id]=x()(t),this.allTargetmethods[e.nodeInfo.id]},dealTargetMethodsChange:function(e,t){var n=this,a={},i={};for(var o in e.forEach(function(e){a[e.name]=e}),t.forEach(function(e){i[e.name]=e}),a)i[o]||t.push(a[o]);var s=function(e){if(!a[e]){t.splice(t.indexOf(i[e]),1),n.methodNames.splice(n.methodNames.indexOf(e),1);var o=-1;n.content.filter(function(e){return e&&e.method}).forEach(function(t,n){-1==t.method.indexOf(".")&&(t.method=window.$vue.nodeInfo.id+"."+t.method),e==t.method&&(o=n)}),n.content.splice(n.content.indexOf(o),1)}};for(var r in i)s(r)},params:function(e){var t=[];if(e){var n=e.split(".")[0],a=window.$_nodecomponents[n];if(!a)return t;t=this.getTargetMethod(a);for(var i=0;i<t.length;i++){var o=t[i];if(o.name==e)return o.arguments}}return[]},initParamsDefault:function(e,t){this.content.filter(function(e){return e&&e.method}).forEach(function(n){if(-1==n.method.indexOf(".")&&(n.method=window.$vue.nodeInfo.id+"."+n.method),t==n.method)for(var a=0;a<e.length;a++)e[a].default=n.params[a]})},changeContent:function(e){var t=this;if(e){var n=[];e.filter(function(e){return e&&e.method}).forEach(function(e){-1==e.method.indexOf(".")&&(e.method=window.$vue.nodeInfo.id+"."+e.method),n.push(e.method);for(var a=t.params(e.method),i=0;i<a.length;i++)a[i].default=e.params[i]}),this.methodNames=n}},joinContent:function(){var e=this,t=[];return this.methodNames.forEach(function(n){for(var a={method:n,params:[]},i=e.params(n),o=0;o<i.length;o++){var s=i[o];a.params.push(s.default)}t.push(a)}),t},methodChange:function(){this.paramsChange()},paramsChange:function(){var e=this.joinContent();this.$emit("update:content",e)},hasParams:function(e){return this.params(e).length>0},getTagType:function(e){var t=this.methodNames.indexOf(e);return-1==t?"info":"warning"},callName:function(e){var t=!1,n=e.split(".")[0],a=window.$_nodecomponents[n];if(!a)return t;for(var i=this.getTargetMethod(a),o=0;o<i.length;o++){var s=i[o];s.name==e&&(t=e)}return t},callString:function(e){var t=[];return this.params(e).forEach(function(e,n){var a=e.default;t.push("'".concat(a,"'"))}),"this.".concat(e,"(").concat(t.join(","),")")},loadNodeAndFunction:function(){this.options=window.Editor.nodeInfo.child}}},Rt=Bt,zt=(n("9594"),Object(b["a"])(Rt,Lt,Ft,!1,null,"0050192a",null)),Ht=zt.exports,Gt={mixins:[f["a"]],name:"DataEditor",components:{attrFunction:Ht},props:{content:{type:Array},type:{type:String}},watch:{content:{immediate:!0,handler:function(e){this.inContent=e}},inContent:function(e){this.$emit("update:content",e)}},data:function(){return{eventList:[{value:"click",label:"点击",desc:"某个元素被用户点击"},{value:"focus",label:"获得焦点",desc:"元素获得焦点。"},{value:"blur",label:"失去焦点",desc:"元素失去焦点。"},{value:"change",label:"内容被改变",desc:"域的内容被改变。"},{value:"input",label:"输入",desc:"域的内容被改变。"},{value:"select",label:"选项改变",desc:"选项文本被选中。"}],activeNames:[0],selectEventKey:"",inContent:[]}},computed:{selectEvent:function(){var e=this;return(this.eventList||[]).filter(function(t){return e.selectEventKey==t.value})[0]},canAdd:function(e){var t=this,n=this.inContent.find(function(e){if(e.event==t.selectEventKey)return!0});return!!n}},mounted:function(){this.selectEventKey="click"},methods:{handleChange:function(e){},delectFunc:function(e){var t=-1;this.inContent.forEach(function(n,a){n.event==e&&(t=a)}),this.inContent.splice(t,1)},addEvent:function(e){this.selectEvent?this.inContent.push({event:this.selectEvent.value,callList:[]}):this.inContent.push({event:"click",callList:[]})}}},Ut=Gt,Vt=(n("99cc"),Object(b["a"])(Ut,Dt,Mt,!1,null,"39551249",null)),Wt=Vt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resourceEditor"},[n("el-input",{attrs:{placeholder:"选择资源",size:"mini"},model:{value:e.inUrl,callback:function(t){e.inUrl=t},expression:"inUrl"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-upload"},on:{click:e.selectImage},slot:"append"},[e._v("选择")]),n("el-button",{attrs:{slot:"append",size:"mini",icon:"el-icon-picture"},on:{click:e.cropper},slot:"append"},[e._v("裁剪")])],1),n("div",{staticClass:"preview"},[n("div",{staticClass:"in",style:e.previewBg})])],1)},Kt=[],Xt={mixins:[f["a"]],name:"ResourceEditor",components:{},props:{url:{type:String},type:{type:String,default:"image"}},watch:{url:function(e,t){this.inUrl=e},inUrl:function(e){this.$emit("update:url",e)}},data:function(){return{inUrl:this.url}},computed:{previewBg:function(){return{"background-image":"url(".concat(this.inUrl,")")}}},mounted:function(){},methods:{selectImage:function(){var e=this;this.openDialog({name:"d-resourceSelect",data:{type:e.type},methods:{onSelectImage:function(t){e.inUrl=t}}})},cropper:function(){var e=this;this.openDialog({name:"d-crop",data:{name:"图片裁剪",url:e.url.split("?")[0]},methods:{done:function(t,n){var a=e.url.split("?")[0];e.inUrl="circle"!=n?a+"?x-oss-process=image/rotate,".concat(t.rotate,"/crop,x_").concat(parseInt(t.x),",y_").concat(parseInt(t.y),",w_").concat(parseInt(t.width),",h_").concat(parseInt(t.height)):a+"?x-oss-process=image/rotate,".concat(t.rotate,"/crop,x_").concat(parseInt(t.x),",y_").concat(parseInt(t.y),",w_").concat(parseInt(t.width),",h_").concat(parseInt(t.height),"/circle,r_").concat(parseInt(t.width/2))}}})}}},Yt=Xt,Jt=(n("1136"),Object(b["a"])(Yt,qt,Kt,!1,null,"f6f35b62",null)),Zt=Jt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:e.fullscreen}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}})])},en=[],tn={mixins:[f["a"]],name:"richText",components:{},props:{id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!0,hasInit:!1,tinymceId:"vue-tinymce-"+ +new Date,fullscreen:!1}},watch:{id:function(){var e=this;this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(e.value||"")})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},methods:{getTinymce:function(){return window.tinymce.get(this.tinymceId)},selectImage:function(){var e=this;this.openDialog({name:"d-resourceSelect",data:{type:"image"},methods:{onSelectImage:function(t){e.getTinymce().insertContent('<img class="wscnph" src="'.concat(t,'" >'))}}})},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),content_style:"figure.align-left{float:left}figure.align-right{float:right}figure.image{display:inline-block;border:1px solid gray;margin:0 2px 0 1px;background:#f5f2f0}figure.image img{margin:8px 8px 0 8px}figure.image figcaption{margin:6px 8px 6px 8px;text-align:center}img.align-left{float:left}img.align-right{float:right}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}p{margin:.5em 0}",language:"zh_CN",height:this.height,body_class:"panel-body",object_resizing:!0,branding:!0,image_advtab:!0,toolbar:["formatselect bold italic underline strikethrough alignleft aligncenter alignright outdent indent","fontsizeselect undo redo removeformat bullist numlist link  charmap preview ","insertdatetime media table forecolor backcolor hr image myupload"],menubar:!1,plugins:["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:320,code_dialog_width:1e3,fontsize_formats:"8px 10px 12px 14px 16px 18px 20px 22px 24px 26px 28px 30px 32px 34px 36px",advlist_bullet_styles:"default,circle,disc,square",advlist_number_styles:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman",imagetools_cors_hosts:["www.tinymce.com","codepen.io","ymm56.com"],default_link_target:"_blank",link_title:!1,init_instance_callback:function(n){t.value&&n.setContent(t.value),t.hasInit=!0,n.on("KeyUp ExecCommand SetContent",function(){e.hasChange=!0;var t=n.getContent();e.$emit("input",t)})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state}),e.addButton("myupload",{text:"上传图片",icon:!1,onclick:function(){t.selectImage()}})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()}},destroyed:function(){this.destroyTinymce()}},nn=tn,an=(n("dfe6"),Object(b["a"])(nn,Qt,en,!1,null,"69bf322c",null)),on=an.exports;function sn(){r.a.component("attr-data",Pt),r.a.component("attr-resource",Zt),r.a.component("attr-function",Ht),r.a.component("attr-richtext",on),r.a.component("attr-event",Wt)}var rn={install:sn},cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"appWarp",staticClass:"appWarp dont-override",attrs:{id:"appWarp"},on:{scroll:e.scrollChange,mousemove:e.mousemove,mouseup:e.mouseup,onmouseout:e.mouseup,click:e.bgClick}},[e.selectNode?n("div",{staticClass:"headertool"},[n("align",{attrs:{stacked:e.selectNodeStacked,info:e.selectNode.style}})],1):e._e(),n("div",{staticClass:"editType"},[n("el-radio-group",{attrs:{size:"mini"},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.editType,callback:function(t){e.editType=t},expression:"editType"}},[n("el-radio-button",{attrs:{label:"editor"}},[e._v("编辑模式")]),n("el-radio-button",{attrs:{label:"preview"}},[e._v("预览模式")])],1)],1),n("div",{staticClass:"phoneSize"},e._l(e.PHONE_SIZES,function(t,a){return n("div",{key:a,staticClass:"phoneItem",class:{active:e.phoneSize.name==t.name},style:{width:t.width,zIndex:20-a},on:{click:function(n){e.changePhoneSize(t)}}},[n("div",{staticClass:"desc"},[e._v(e._s(t.name)+" - "+e._s(t.width))])])})),n("div",{staticClass:"app",style:{width:e.phoneSize.width,minHeight:e.phoneSize.height},attrs:{id:"stage"}},[e.info&&"editor"==e.editType?n("node",{ref:"node",attrs:{info:e.info}}):e._e(),e.previewInfo&&"preview"==e.editType?n("perview-node",{attrs:{info:e.previewInfo}}):e._e()],1),n("slider-tool"),n("assist-lines")],1)},ln=[],dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"node",class:{active:e.isActive,dragentered:e.dragentered},style:e.computedStyle,on:{dragenter:function(t){e.dragenter(t)},dragover:function(t){e.dragover(t)},drop:function(t){e.drop(t)},dragleave:function(t){e.dragleave(t)},click:function(t){t.stopPropagation(),e.actived(t)},contextmenu:function(t){t.preventDefault(),t.stopPropagation(),e.showContextMenu(e.nodeInfo,t)}}},[n(e.currPage,e._b({ref:e.nodeInfo.id,tag:"component",style:e.componentStyle},"component",e.nodeInfo.props,!1)),n("selecter",{ref:"selector",attrs:{"is-root":e.isRootNode,visible:e.isActive,warpStyle:e.nodeInfo.style}}),e.nodeInfo.child?e._l(e.nodeInfo.child,function(t,a){return n("node",{key:t.id,attrs:{"node-index":a,stacked:e.nodeInfo.stack,info:t}})}):e._e(),e.stacked||e.fixed?e._e():n("div",{staticClass:"node-divider",class:{hover:e.dragenteredDivider},style:{width:e.phoneSize.width},on:{dragleave:e.dragleaveDivider,dragover:e.dragoverDivider,dragenter:e.dragenterDivider,drop:e.dropDivider}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.stacked&&!e.fixed,expression:"!stacked && !fixed"}],staticClass:"type-icon iconfont icon-stack"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.fixed,expression:"fixed"}],staticClass:"type-icon iconfont icon-nail-fixed"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.nodeInfo.leaf,expression:"nodeInfo.leaf"}],staticClass:"type-icon iconfont icon-leaf",style:{"margin-right":!e.stacked||e.fixed?"14px":"0"}})],2)},un=[];function pn(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function mn(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){pn(o,a,i,s,r,"next",e)}function r(e){pn(o,a,i,s,r,"throw",e)}s(void 0)})}}var fn={getComponent:function(e){var t=e.type,n=e.version,a="".concat(t,"@").concat(n);return this.componentCache[a]},componentCache:{},requestCache:{},load:function(){var e=mn(u.a.mark(function e(t){var n,a,i,o,s,r,c,l=this;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.type,a=t.path,i=t.version,i=i||"0.1.0",o="".concat(n,"@").concat(i),s=this.getComponent({type:n,version:i}),!s){e.next=6;break}return e.abrupt("return",s);case 6:return this.requestCache[o]?r=this.requestCache[o]:(c=a,this.requestCache[o]=r=Object(ve["d"])("https:"===location.protocol?c.replace(/^http:/,"https:"):c)),e.next=9,r.then(function(e){return s=window[o+"index"]||window[o]||window[o.replace("@","")],l.componentCache[o]=s=s.default||s,s}).catch(function(e){console.error(e)});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadEditor:function(){var e=mn(u.a.mark(function e(t){var n,a,i,o,s,r,c,l=this;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.type,a=t.path,i=t.version,a){e.next=3;break}return e.abrupt("return");case 3:if(i=i||"0.1.0",o="".concat(n,"@").concat(i,"editor"),s=this.componentCache[o],!s){e.next=8;break}return e.abrupt("return",s);case 8:return this.requestCache[o]?r=this.requestCache[o]:(c=a.replace("index.js","editor.js"),this.requestCache[o]=r=Object(ve["d"])("https:"===location.protocol?c.replace(/^http:/,"https:"):c)),e.next=11,r.then(function(e){return s=window[o],l.componentCache[o]=s=s.default||s,s}).catch(function(e){});case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()};function hn(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function gn(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){hn(o,a,i,s,r,"next",e)}function r(e){hn(o,a,i,s,r,"throw",e)}s(void 0)})}}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){vn(e,t,n[t])})}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yn={name:"node",props:{info:{required:!0,type:Object}},data:function(){return{currPage:""}},watch:{},computed:bn({},Object(se["mapState"])({Config:function(e){return e.Config},Metadata:function(e){return e.Metadata},DataHub:function(e){return e.DataHub}}),{fixed:function(){return this.nodeInfo&&"fixed"==this.nodeInfo.style.position},isRootNode:function(){return"root"===this.nodeInfo.id||"node"===this.nodeInfo.type},computedStyle:function(){return this.nodeInfo.style}}),mounted:function(){},methods:{runAnimate:function(){var e=gn(u.a.mark(function e(){var t,n,a,i,o,s,r,c=arguments;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=function(){var e=s.styleChangeStr(s.oldStyle),t=s.nodeInfo.animate[i];if(i<a){var n=t.infinite?"infinite":t.countNum,r="\n          -webkit-animation-name:".concat(t.type,";\n          -webkit-animation-duration:").concat(t.duration,"s;\n          -webkit-animation-iteration-count:").concat(n,";\n          -webkit-animation-delay:").concat(t.delay,"s;\n          -webkit-animation-fill-mode:both;\n          -webkit-animation-timing-function:").concat(t.timingFunction||"ease",";\n          ");r+=e+(s.visible?"":"display:none;"),o.style.cssText=r,++i}},t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.clearFirst,!n||!this.oldStyle){e.next=6;break}return this.$el.style.cssText=this.styleChangeStr(this.oldStyle),e.next=6,this.$nextTick();case 6:if(this.oldStyle=Object.assign({},this.computedStyle),this.nodeInfo.animate=this.nodeInfo.animate||[],a=this.nodeInfo.animate.length,0!==a){e.next=11;break}return e.abrupt("return",!1);case 11:i=0,o=this.$el,s=this,r(),o.addEventListener("animationend",r,!1);case 16:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),styleChangeStr:function(e){var t="";for(var n in e)t+="".concat(n.replace(/[A-Z]+/g,function(e){return"-".concat(e.toLowerCase())}),":").concat(e[n],";");return t},registerNode:function(e){var t=this.mixinsScript(),n=r.a.extend(fn.getComponent(e));t.push({Truck:window.Truck,$lib:window.Truck,methods:{dataHubSet:this.dataHubSet,dataHubGet:this.dataHubGet}});var a=t.reduce(function(e,t){return e.extend(t)},n);r.a.component(this.nodeInfo.id,a)},mixinsScript:function(){if(window._script=window._script||{},this.nodeInfo.id){var e=[];e=toString.call(this.nodeInfo.script)===toString.call([])?this.nodeInfo.script.map(function(e){return"string"===typeof e?e:e.content||""}):[this.nodeInfo.script||"return {}"];var t="window._script['".concat(this.nodeInfo.id,"'] = function(vm){\n          return [").concat(e.filter(function(e){return"string"===typeof e&&e.trim().length>0}).map(function(e){return i(e)}).join(","),"].map(function(fn) {\n            return fn(vm)\n          })\n        }"),n=[];if("EDITOR"===Object({NODE_ENV:"production",BASE_URL:"/assets/game/",CODE_ENV:"production"}).PAGE)try{var a=window.Babel.transform(t,{presets:["es2015","es2017","stage-0"]}).code;window.eval(a),n=window._script[this.nodeInfo.id](this)}catch(o){this.ema.fire("bughd.open",o),console.error("代码解析报错",o)}else window.eval(t),n=window._script[this.nodeInfo.id](this);return n}return[];function i(e){return"function(vm){\n          ".concat(e,"\n        }")}},dataHubSet:function(e,t){void 0!==t&&null!==t||(t=e.val,e=e.path),this.$store.dispatch("dataHubSet",{path:e,val:t})},dataHubGet:function(e){return I["a"].objectGetByPath(this.DataHub,e)},isVisible:function(e){var t=e,n=!0;while(t&&t.nodeInfo){if(0==t.nodeInfo.visible){n=!1;break}t=t.$parent}return n}}},wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"eqc-select ng-isolate-scope",class:{"root-node":e.isRoot},attrs:{ignorehtml2canvas:""},on:{mousedown:function(t){e.mousedown(t,"m")}}},[e.isRoot?[n("div",{staticClass:"line-s line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.s,expression:"show.s"}],staticClass:"circle",staticStyle:{cursor:"ns-resize"},on:{mousedown:function(t){t.stopPropagation(),e.mousedown(t,"s")}}})])]:[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.r&&!e.accessResizeRotate,expression:"show.r && !accessResizeRotate"}],staticClass:"rotate-circle",on:{mousedown:function(t){e.mousedown(t,"r")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.r&&!e.accessResizeRotate,expression:"show.r && !accessResizeRotate"}],staticClass:"rotate-line"}),n("div",{staticClass:"bar bar-m-line"}),n("div",{staticClass:"line-n line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.n,expression:"show.n"}],staticClass:"circle",staticStyle:{cursor:"ns-resize"},on:{mousedown:function(t){t.stopPropagation(),e.mousedown(t,"n")}}})]),n("div",{staticClass:"line-e line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.e,expression:"show.e"}],staticClass:"circle",staticStyle:{cursor:"ew-resize"},on:{mousedown:function(t){t.stopPropagation(),e.mousedown(t,"e")}}})]),n("div",{staticClass:"line-s line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.s,expression:"show.s"}],staticClass:"circle",staticStyle:{cursor:"ns-resize"},on:{mousedown:function(t){t.stopPropagation(),e.mousedown(t,"s")}}})]),n("div",{staticClass:"line-w line resizable"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.w,expression:"show.w"}],staticClass:"circle",staticStyle:{cursor:"ew-resize"},on:{mousedown:function(t){t.stopPropagation(),e.mousedown(t,"w")}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.nw,expression:"show.nw"}],staticClass:"circle-nw circle resizable",staticStyle:{cursor:"nwse-resize"},on:{mousedown:function(t){e.mousedown(t,"nw")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.ne,expression:"show.ne"}],staticClass:"circle-ne circle resizable",staticStyle:{cursor:"nesw-resize"},on:{mousedown:function(t){e.mousedown(t,"ne")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.se,expression:"show.se"}],staticClass:"circle-se circle resizable",staticStyle:{cursor:"nwse-resize"},on:{mousedown:function(t){e.mousedown(t,"se")}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.show.sw,expression:"show.sw"}],staticClass:"circle-sw circle resizable",staticStyle:{cursor:"nesw-resize"},on:{mousedown:function(t){e.mousedown(t,"sw")}}}),e.movable?n("div",{staticClass:"circle-center resizable",class:{canDraged:e.canDraged},on:{mousedown:function(t){e.mousedown(t,"m")}}}):e._e()]],2):e._e()},xn=[];function kn(e,t){return $n(e)||Cn(e,t)||_n()}function _n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Cn(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{a||null==r["return"]||r["return"]()}finally{if(i)throw o}}return n}function $n(e){if(Array.isArray(e))return e}var Sn={mixins:[f["a"]],name:"Selecter",props:{warpStyle:{type:Object},visible:{type:Boolean,default:!1},canDraged:{type:Boolean,default:!1},movable:{type:Boolean,default:!0},isRoot:{type:Boolean,default:!1}},data:function(){return{allRectProps:["top","left","bottom","right","width","height"],isSetArray:[],isUnSetArray:[],rectangles:null,sorbRectangles:{},isMoved:!1,keyShifted:!1,startPos:{x:0,y:0,initx:0,inity:0},doType:"",show:{n:!0,e:!0,s:!0,w:!0,nw:!0,ne:!0,se:!0,sw:!0,r:!0},accessResizeRotate:!1}},watch:{"warpStyle.position":function(e){this.changeStatus(e)},visible:function(e){!e&&this.EditorValue&&this.ema.fire("dock.onceDialogClose",this.EditorValue)}},mounted:function(){var e=this;this.ema.bind("shift.down",function(t){e.keyShifted=!0}),this.ema.bind("shift.up",function(t){e.keyShifted=!1}),this.ema.bind("ui.mouseup",function(t){e.visible&&(e.rectangles=null,e.doType="",e.isRoot||e.setRectInfo(e.isSetArray,e.isUnSetArray),e.ema.fire("AssistLines.hide"))}),this.ema.bind("ui.mousemove",function(t){e.visible&&(e.isMoved=!0,e.doType&&((e.Setting.line||e.Setting.sorb)&&e.initAllSorbLine(),e.Setting.line&&e.updateLine(),e.dealMove(t)))}),this.bindArrowMove(),this.changeStatus(this.warpStyle?this.warpStyle.position:"")},methods:{initAllSorbLine:function(){if(!this.rectangles){var e=[];for(var t in window.$_nodecomponents)if(window.$_nodecomponents.hasOwnProperty(t)){if(t==this.$parent.nodeInfo.id)continue;var n=window.$_nodecomponents[t],a=n.$el.getBoundingClientRect();e.push(a)}this.rectangles=e}return e},updateLine:function(e){var t=15,n=this.$el.getBoundingClientRect(),a={x1:[],x2:[],x3:[],y1:[],y2:[],y3:[]};for(var i in this.rectangles)if(this.rectangles.hasOwnProperty(i)){var o=this.rectangles[i];Math.abs(n.left-o.left)<t&&a.x1.push(parseInt(o.left)),Math.abs(n.left-(o.left+o.width/2))<t&&a.x1.push(parseInt(o.left+o.width/2)),Math.abs(n.left-o.right)<t&&a.x1.push(parseInt(o.right)),Math.abs(n.left+n.width/2-o.left)<t&&a.x2.push(parseInt(o.left)),Math.abs(n.left+n.width/2-(o.left+o.width/2))<t&&a.x2.push(parseInt(o.left+o.width/2)),Math.abs(n.left+n.width/2-o.right)<t&&a.x2.push(parseInt(o.right)),Math.abs(n.right-o.left)<t&&a.x3.push(parseInt(o.left)),Math.abs(n.right-(o.left+o.width/2))<t&&a.x1.push(parseInt(o.left+o.width/2)),Math.abs(n.right-o.right)<t&&a.x3.push(parseInt(o.right)),Math.abs(n.top-o.top)<t&&a.y1.push(parseInt(o.top)),Math.abs(n.top-(o.top+o.height/2))<t&&a.y1.push(parseInt(o.top+o.height/2)),Math.abs(n.top-o.bottom)<t&&a.y1.push(parseInt(o.bottom)),Math.abs(n.top+n.height/2-o.top)<t&&a.y2.push(parseInt(o.top)),Math.abs(n.top+n.height/2-(o.top+o.height/2))<t&&a.y2.push(parseInt(o.top+o.height/2)),Math.abs(n.top+n.height/2-o.bottom)<t&&a.y2.push(parseInt(o.bottom)),Math.abs(n.bottom-o.top)<t&&a.y3.push(parseInt(o.top)),Math.abs(n.bottom-(o.top+o.height/2))<t&&a.y3.push(parseInt(o.top+o.height/2)),Math.abs(n.bottom-o.bottom)<t&&a.y3.push(parseInt(o.bottom))}for(var s in a)a[s].sort();this.ema.fire("AssistLines.update",a),this.sorbRectangles=a},getSorbPos:function(e){var t=8,n=this.startPos.bottomControl?this.startPos.parentSize.height-this.startPos.bottom-this.startPos.h:this.startPos.top,a=this.startPos.rightControl?this.startPos.parentSize.width-this.startPos.right-this.startPos.w:this.startPos.left,i={top:n+(e.pageY-this.startPos.y),left:a+(e.pageX-this.startPos.x)},o={width:this.startPos.w,height:this.startPos.h,top:this.startPos.size.top+(e.pageY-this.startPos.y),left:this.startPos.size.left+(e.pageX-this.startPos.x)};if(this.Setting.sorb){var s={x1:o.left,x2:o.left+this.startPos.w/2,x3:o.left+this.startPos.w},r={y1:o.top,y2:o.top+this.startPos.h/2,y3:o.top+this.startPos.h},c=[];for(var l in s)c.push(s[l]-this.sorbRectangles[l][0]);var d=this.getMiniNumberIndex(c);d>=0&&this.sorbRectangles["x".concat(d+1)].length>0&&Math.abs(c[d])<t&&(i.left=i.left-c[d]);var u=[];for(var p in r)u.push(r[p]-this.sorbRectangles[p][0]);var m=this.getMiniNumberIndex(u);m>=0&&this.sorbRectangles["y".concat(m+1)].length>0&&Math.abs(u[m])<t&&(i.top=i.top-u[m])}return i},getMiniNumberIndex:function(e){var t=1e9,n=-1;return e.forEach(function(e,a){e=Math.abs(e),e&&(Math.min(t,e)==e&&(n=a),t=Math.min(t,e))}),n},dealMove:function(e){var t,n,a,i,o,s,r=this.$parent.nodeInfo.style,c=this.doType,l=this.startPos.rightControl,d=this.startPos.bottomControl;switch(c.includes("s")&&(t=e.pageY-this.startPos.y+this.startPos.h,d&&(s=this.startPos.bottom-(e.pageY-this.startPos.y))),c.includes("e")&&(n=e.pageX-this.startPos.x+this.startPos.w,l&&(o=this.startPos.right-(e.pageX-this.startPos.x))),c.includes("w")&&(n=this.startPos.x-e.pageX+this.startPos.w,l||(a=this.startPos.left+(e.pageX-this.startPos.x))),c.includes("n")&&(t=this.startPos.y-e.pageY+this.startPos.h,d||(i=this.startPos.top+(e.pageY-this.startPos.y))),c){case"se":if(this.keyShifted){var u=S(n,t,this.startPos.aspect),p=kn(u,2);n=p[0],t=p[1],d&&(s=this.startPos.bottom+(this.startPos.h-t)),l&&(o=this.startPos.right+(this.startPos.w-n))}break;case"sw":if(this.keyShifted){var m=S(n,t,this.startPos.aspect),f=kn(m,2);n=f[0],t=f[1],l||(a=this.startPos.left+(this.startPos.w-n)),d&&(s=this.startPos.bottom+(this.startPos.h-t))}break;case"nw":if(this.keyShifted){var h=S(n,t,this.startPos.aspect),g=kn(h,2);n=g[0],t=g[1],d||(i=this.startPos.top+(this.startPos.h-t)),l||(a=this.startPos.left+(this.startPos.w-n))}break;case"ne":if(this.keyShifted){var b=S(n,t,this.startPos.aspect),v=kn(b,2);n=v[0],t=v[1],d||(i=this.startPos.top+(this.startPos.h-t)),l&&(o=this.startPos.right+(this.startPos.w-n))}break;case"m":var y=this.getSorbPos(e);l?o=this.startPos.parentSize.width-this.startPos.w-y.left:a=y.left,d?s=this.startPos.parentSize.height-this.startPos.h-y.top:i=y.top;break;case"r":var w=10,x={left:this.startPos.size.left+this.startPos.size.width/2,top:this.startPos.size.top+this.startPos.size.height/2},k={x:e.pageX-x.left,y:e.pageY-x.top},_=30;w=180/Math.PI*Math.atan(k.y/k.x)+90;var C=w%_,$=Math.round(w/_);C<6&&(w=$*_),k.x<0&&(w-=180),w=w.toFixed(2),this.$set(r,"transform","rotateZ(".concat(w,"deg)"));break}function S(e,t,n){var a=e/n,i=t*n;return[i>e?e:i,a>t?t:a]}Object(I["e"])(i)||this.$set(r,"top",i+"px"),Object(I["e"])(a)||this.$set(r,"left",a+"px"),Object(I["e"])(s)||this.$set(r,"bottom",s+"px"),Object(I["e"])(o)||this.$set(r,"right",o+"px"),Object(I["e"])(n)||this.$set(r,"width",n+"px"),Object(I["e"])(t)||this.$set(r,"height",t+"px")},setRectInfo:function(e,t){var n=this,a=this.$parent.nodeInfo.style;if("relative"!=a.position){var i=Object(I["c"])(window.$vue.$el),o=null;"fixed"==a.position?o=Object(I["c"])(document.querySelector("#stage")):window.$vue.$parent.nodeInfo&&(o=Object(I["c"])(window.$vue.$parent.$el)),e.forEach(function(e){if("height"==e||"width"==e)n.$set(a,e,"".concat(Math.abs(i[e]).toFixed(2),"px"));else{var t=0;t=i[e]-o[e],n.$set(a,e,"".concat(t.toFixed(2),"px"))}}),t.forEach(function(e){n.$delete(a,e)})}},changeDraged:function(){},keydown:function(e){},changeStatus:function(e){"absolute"==e||"fixed"==e?(this.show.n=!0,this.show.w=!0,this.show.nw=!0,this.show.ne=!0,this.show.sw=!0,this.show.r=!0):(this.show.n=!1,this.show.w=!1,this.show.nw=!1,this.show.ne=!1,this.show.sw=!1,this.show.r=!1)},mousedown:function(e,t){var n=this;this.isMoved=!1,this.isRoot||(this.isSetArray=[],this.isUnSetArray=[],this.allRectProps.forEach(function(e){var t=n.$parent.nodeInfo.style;Object(I["e"])(t[e])?n.isUnSetArray.push(e):n.isSetArray.push(e)})),this.doType=t;var a=this.$parent,i=this.$parent.$parent||{},o=Object(I["b"])(a.$el,i.$el);this.startPos={size:o.rect,parentSize:o.parentRect,x:e.pageX,y:e.pageY,w:o.width,h:o.height,aspect:o.width/o.height,left:o.left,top:o.top,bottom:o.bottom,right:o.right,initx:e.offsetX,inity:e.offsetY,rightControl:o.rightControl,bottomControl:o.bottomControl},this.allRectProps.map(function(e){var t=o[e];"left"==e&&o.rightControl?n.$set(a.nodeInfo.style,"left",null):"top"==e&&o.bottomControl?n.$set(a.nodeInfo.style,"top",null):Object(I["e"])(t)||n.$set(a.nodeInfo.style,e,t+"px")}),e.stopPropagation()},bindArrowMove:function(){var e=this;function t(t,n){var a=window.$vue;if("widgetScene"==n.panelName&&e.visible){if(!a.stacked&&"down"==t)return e.moveLayer(1);if(!a.stacked&&"up"==t)return e.moveLayer(-1);e.mousedown({stopPropagation:function(){}},"");var i=e.$parent.nodeInfo.style,o=e.startPos.top,s=e.startPos.left,r=e.startPos.right,c=e.startPos.bottom,l=e.startPos.rightControl,d=e.startPos.bottomControl;switch(t){case"down":d?c-=1:o+=1;break;case"up":d?c+=1:o-=1;break;case"left":l?r+=1:s-=1,s-=1;break;case"right":l?r-=1:s+=1;break}l?i.right=r+"px":i.left=s+"px",d?i.bottom=c+"px":i.top=o+"px"}}this.ema.bind("arrowdown.down",function(e){return t("down",e)}),this.ema.bind("arrowup.down",function(e){return t("up",e)}),this.ema.bind("arrowleft.down",function(e){return t("left",e)}),this.ema.bind("arrowright.down",function(e){return t("right",e)})},moveLayer:function(e){var t=window.$vue;t&&t.$parent&&t.$parent.moveLayer(t.nodeInfo,e)}}},jn=Sn,En=(n("f8dd"),Object(b["a"])(jn,wn,xn,!1,null,"e3b28524",null)),In=En.exports;function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){An(e,t,n[t])})}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function On(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){Nn(o,a,i,s,r,"next",e)}function r(e){Nn(o,a,i,s,r,"throw",e)}s(void 0)})}}var Pn={mixins:[yn,f["a"]],name:"node",components:{Selecter:In},props:{info:{required:!0,type:Object},stacked:{type:Boolean,default:!0},nodeIndex:{type:Number}},data:function(){return{dragenteredDivider:!1,componentStyle:{"pointer-events":"auto"},canDraged:!1,oldId:"",isActive:!1,dragentered:!1,mouseovered:!1,currPage:""}},watch:{isActive:function(e){this.componentStyle["pointer-events"]=e?"none":"audo"},"nodeInfo.type":function(e,t){this.nodeInfo.props={},"node"!==this.nodeInfo.type?("truckpageContainer"==this.nodeInfo.type&&(this.nodeInfo.style.width="100%",this.nodeInfo.style.height="100%",this.nodeInfo.style.left="0",this.nodeInfo.style.top="0",this.nodeInfo.style.position="absolute"),this.doLoad()):this.currPage=""},"nodeInfo.version":function(e,t){this.doLoad()},stacked:{handler:function(e){var t=this.nodeInfo.style,n=this.nodeInfo.bakedStyle;if("fixed"!==t.position)if(["fixed","relative","absolute"].includes(t.position)){if(1!=arguments.length||!e){var a=e?["absolute","relative"]:["relative","absolute"];t.position!=a[0]&&t.position==a[1]&&(this.nodeInfo.style=Object.assign({},this.nodeInfo.style,n&&n.position==a[0]?n:{position:a[0],left:"0px",top:"0px",bottom:null,right:null}),this.nodeInfo.bakedStyle={left:t.left,top:t.top,bottom:t.bottom,right:t.right,position:t.position})}}else this.nodeInfo.style=Object.assign({},this.nodeInfo.style||{},{position:"relative",left:"0px",top:"0px",bottom:null,right:null})},immediate:!1}},computed:{nodeInfo:function(){return this.$set(this.info,"version",this.info.version||"0.1.0"),this.info},phoneSize:function(){return this.$store.state.setting.phoneSize},visible:{get:function(){return!!this.nodeInfo&&this.nodeInfo.visible},set:function(e){this.nodeInfo.visible=e}}},beforeDestroy:function(){delete window.$_nodecomponents[this.oldId]},mounted:function(){this.oldId=this.nodeInfo.id,this.initBaseCss(),this.bindSelectOne(),this.bindCopy(),this.bindDrag(),this.bindpageContainerSelect(),this.bindRunAnimation(),this.bindReload(),this.registerNodeToGlobal(),this.doLoad(),console.log("mounted",this.nodeInfo.id)},methods:{registerNodeToGlobal:function(){window.$_nodecomponents=window.$_nodecomponents||{},window.$_nodecomponents[this.nodeInfo.id]=this},initBaseCss:function(){},showContextMenu:function(e,t){this.ema.fire("show.contextMenu",this,t)},getComponent:function(e,t){var n=window.$_nodecomponents[e];return t&&n?n.$refs[e]:n},bindRunAnimation:function(){var e=this;this.ema.bind("animate.timeline.move",function(t,n){e.nodeInfo.animate.length>0&&e.isVisible(e)&&e.setAnimationFrame(t,n)}),this.ema.bind("animate.timeline.move.end",function(t){e.nodeInfo.animate.length>0&&(e.$el.style.animation="")})},setAnimationFrame:function(e,t){for(var n=this.nodeInfo.animate,a=null,i=0,o=0,s=0;s<n.length;s++){var r=n[s];if(r.infinite){o=i,i=t,a=r;break}if(i+=r.duration*r.countNum+r.delay,i>=e){a=r;break}}if(a){var c=a.duration,l=a.timingFunction||"ease",d=(i-e-a.duration*a.countNum)%a.duration,u=1;a.infinite&&(d=-(e-o-a.delay)%a.duration);var p=a.type,m="".concat(c,"s ").concat(l," ").concat(d,"s ").concat(u," normal none paused ").concat(p);this.$el.style.animation=p?m:""}},bindDrag:function(){var e=this;this.ema.bind("dragenter.one",function(t){t&&t==e.nodeInfo.id?e.dragentered=!0:e.dragentered=!1})},bindSelectOne:function(){var e=this;this.ema.bind("select.one",function(t,n){if(!e.nodeInfo.locked)if(t!=e.nodeInfo.id)e.isActive=!1;else{(!n||n instanceof window.Event)&&e.ema.fire("hide.contextMenu"),e.isActive=!0,e.mergeProps(),window.$vue=e,setTimeout(function(){e.ema.fire("select.oneInfo",{vm:e})},200);var a=e.$parent;a&&a.nodeInfo&&-1!=a.nodeInfo.type.indexOf("pageContainer")&&e.ema.fire("select.truckpageContainer",t)}}),this.ema.bind("select.noOne",function(){e.isActive=!1,window.$vue=null}),this.ema.bind("delete.down",function(t){e.isActive&&"widgetScene"===t.panelName&&e.$confirm("确认删除该组件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.ema.fire("move.node",e.nodeInfo.id,null),e.ema.fire("select.noOne")}).catch(function(){e.$message({type:"info",message:"已取消"})})})},bindCopy:function(){var e=this;this.ema.bind("node.copy",function(t){t&&t.id&&t.id==e.nodeInfo.id&&e.$parent.copyChild(e.nodeInfo,{})})},bindpageContainerSelect:function(){var e=this,t=this.$parent;t&&t.nodeInfo&&-1!=t.nodeInfo.type.indexOf("pageContainer")&&this.ema.bind("select.truckpageContainer",function(t){t!=e.nodeInfo.id?e.nodeInfo.visible=!1:e.nodeInfo.visible=!0})},doLoad:function(){var e=On(u.a.mark(function e(){var t,n,a,i,o,s;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,"node"!==this.nodeInfo.type||window.$vue){e.next=5;break}return t.$set(t.info,"stack",!1!==t.info.stack),this.ema.fire("select.one",this.nodeInfo.id),e.abrupt("return");case 5:return e.next=7,fn.load(this.nodeInfo);case 7:return n=e.sent,a=this.nodeInfo.type,t.$set(t.info,"label",t.info.label?t.info.label:t.info.id.replace(a,n.label||a)),t.$set(t.info,"stack","boolean"===typeof t.info.stack?t.info.stack:!1!==n.stack),t.$set(t.info,"childLimit","number"===typeof t.info.childLimit?t.info.childLimit:Object(I["h"])(n.childLimit,9999)),t.$set(t.info,"leaf","boolean"===typeof t.info.leaf?t.info.leaf:!!n.leaf||"0"===String(n.childLimit)),t.info.style&&"{}"!=JSON.stringify(t.info.style)?i=t.info.style:(i=Object.assign({position:"absolute",width:"80px",height:"80px",left:"0px",top:"0px"},n.style||{},t.info.forceStyle||{},this.stacked?{}:{position:"relative",left:null,top:null,bottom:null,right:null}),t.info.forceStyle&&delete t.info.forceStyle),t.$set(t.info,"style",i),t.currPage="",this.isNodeRegisted(this.nodeInfo.id)||this.registerNode(this.nodeInfo),this.currPage=this.nodeInfo.id,e.next=20,t.$nextTick();case 20:o=this.nodeInfo.id,s=this.$refs[o]&&this.$refs[o].$props,s&&(Object.keys(t.nodeInfo.props)||[]).forEach(function(e){void 0===s[e]&&delete t.nodeInfo.props[e]}),"root"!==o||window.$vue||this.ema.fire("select.one",this.nodeInfo.id);case 24:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),bindReload:function(){var e=this;this.ema.bind("component.reload",function(t){t==e.nodeInfo.id&&"node"!==e.nodeInfo.type&&(e.currPage="",e.registerNode(e.nodeInfo),e.currPage=e.nodeInfo.id,e.$nextTick(e.actived))})},mergeProps:function(){var e=this.nodeInfo.id;if(this.$refs[e]&&this.$refs[e].$props)for(var t in this.$refs[e].$props)if(this.$refs[e].$props.hasOwnProperty(t)){var n=this.$refs[e].$props[t];this.$set(this.nodeInfo.props,t,n)}},mouseover:function(){},mouseenter:function(e){this.mouseovered=!0,this.componentStyle["pointer-events"]="none"},mouseout:function(e){this.mouseovered=!1,this.componentStyle["pointer-events"]="auto"},actived:function(e){this.nodeInfo.lock?this.$message({type:"warning",message:"已被锁定，请先解锁"}):this.ema.fire("select.one",this.nodeInfo.id,e)},dragenter:function(e){e.stopPropagation(),this.ema.fire("dragenter.one",this.nodeInfo.id)},dragleave:function(e){e.stopPropagation()},dragover:function(e){e.stopPropagation(),e.preventDefault()},dragenterDivider:function(e){e.stopPropagation(),this.dragenteredDivider=!0,this.ema.fire("dragenter.one",null)},dragleaveDivider:function(e){e.stopPropagation(),this.dragenteredDivider=!1},dragoverDivider:function(e){e.stopPropagation(),e.preventDefault()},dropDivider:function(e){var t=this;e.stopPropagation(),e.preventDefault();var n=this.$parent.nodeInfo;console.log("drop",e),this.dragenteredDivider=!1,this.dragentered=!1;var a=JSON.parse(e.dataTransfer.getData("componentInfo"));if(a.name){var i=Object(ve["b"])(a);n.child.splice(this.nodeIndex,0,i),this.$nextTick(function(){t.ema.fire("select.one",i.id)})}},dragstart:function(e,t){e.stopPropagation(),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("moveid",this.nodeInfo.id),e.dataTransfer.setData("dragPos",JSON.stringify({x:e.offsetX,y:e.offsetY})),e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY)},dragend:function(e,t){e.stopPropagation()},drop:function(e){var t=this;if(e.stopPropagation(),e.preventDefault(),this.dragentered=!1,this.nodeInfo.leaf)return this.$alert("不能为目标节点添加子组件");if(this.nodeInfo.childLimit&&this.nodeInfo.child&&this.nodeInfo.child.length>=this.nodeInfo.childLimit)return this.$alert("目标节点最多可添加".concat(this.nodeInfo.childLimit,"个子组件，已达限额"));this.nodeInfo.child||this.$set(this.nodeInfo,"child",[]);var n=this.$el.getBoundingClientRect(),a={top:e.pageY,left:e.pageX},i=e.dataTransfer.getData("dragPos");try{i=JSON.parse(i)}catch(l){i={x:0,y:0}}var o={top:a.top-n.top-i.y+"px",left:a.left-n.left-i.x+"px"},s=e.dataTransfer.getData("moveid");if(s)s!=this.nodeInfo.id&&this.ema.fire("move.node",s,this.nodeInfo,o);else{var r=JSON.parse(e.dataTransfer.getData("componentInfo"));if(r.name){var c=Object(ve["b"])(r);c.forceStyle={left:o.left,top:o.top},/pageContainer$/i.test(this.nodeInfo.type)&&(c.forceStyle={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"}),this.nodeInfo.child.push(c),this.$nextTick(function(){t.ema.fire("select.one",c.id)})}}},moveLayer:function(e,t){var n=this.nodeInfo.child,a=n.indexOf(e);if(-1!=a){t==Number.MAX_VALUE?t=n.length-1-a:t==Number.MIN_VALUE&&(t=-a);var i=a+t;if(i<0||i>n.length-1)return;var o=n.splice(a,1)[0];n.splice(i,0,Object.assign({},o))}},copyChild:function(e,t){var n=t.isJson,a=t.keepPos;console.log("copyChild"),this.nodeInfo.child||this.$set(this.nodeInfo,"child",[]);var i,o,s,r=this.nodeInfo.child,c=n?JSON.parse(e):x()(e);!a&&c.style.left&&(i=parseInt(c.style.left),s=String(c.style.left).replace(/^[-\d.]+/,""),c.style.left=i+("%"==s?2:20)+s),!a&&c.style.top&&(o=parseInt(c.style.top),s=String(c.style.top).replace(/^[-\d.]+/,""),c.style.top=o+("%"==s?2:20)+s),c=Object(I["f"])(c,Object.keys(window.$_nodecomponents||{})),r.push(c),console.log("childs",r)},copyStyle:function(){var e=Tn({},this.nodeInfo.style);window.$copyedStyle=e},pasteStyle:function(){if(window.$copyedStyle){var e=window.$copyedStyle;this.nodeInfo.style=Object.assign(this.nodeInfo.style,e)}},isNodeRegisted:function(e){return Boolean(r.a.component(e))}}},Dn=Pn,Mn=(n("79bc5"),Object(b["a"])(Dn,dn,un,!1,null,"6df0af27",null)),Ln=Mn.exports,Fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"AssistLines"},[e._l(e.pos,function(t,a){return[t?n("div",{key:a,staticClass:"line",class:{v:-1!=a.indexOf("x")},style:e.getStyle(a,t)}):e._e()]})],2):e._e()},Bn=[],Rn={mixins:[f["a"]],name:"AssistLines",props:{},data:function(){return{appWarpOffset:{top:0,left:0},visible:!1,pos:{x1:0,x2:0,x3:0,y1:0,y2:0,y3:0}}},watch:{},mounted:function(){var e=this;this.ema.bind("AssistLines.update",function(t){for(var n in e.parentBox||(e.parentBox=e.$parent.$el.getBoundingClientRect()),e.visible=!0,t){var a=t[n];e.pos[n]=a[0]}}),this.ema.bind("AssistLines.hide",function(t){e.visible=!1,e.parentBox=null}),this.ema.bind("appWarpOffsetChange",function(t){e.appWarpOffset=t})},methods:{getStyle:function(e,t){var n=this;this.parentBox||(this.parentBox=this.$parent.$el.getBoundingClientRect()),this.uptime&&clearTimeout(this.uptime),this.uptime=setTimeout(function(e){n.parentBox=null},1e3);var a={};return a=-1!=e.indexOf("x")?{top:this.appWarpOffset.top+"px",left:t-this.parentBox.left+"px"}:{top:t-this.parentBox.top+this.appWarpOffset.top+"px",left:0},a["background-color"]=this.Setting.color,a}}},zn=Rn,Hn=(n("f2d4"),Object(b["a"])(zn,Fn,Bn,!1,null,"7c0ecc66",null)),Gn=Hn.exports,Un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"node",class:{active:e.isActive},style:e.computedStyle},[n(e.currPage,e._b({ref:e.nodeInfo.id,tag:"component",scopedSlots:e._u([{key:"ListContainer",fn:function(t){return e.isListContainer?[n("prenode",{attrs:{info:e.nodeChild[0],scope:t}})]:void 0}}])},"component",e.nodeInfo.props,!1),[e.ispageContainer?e._l(e.nodeChild,function(t){return n("prenode",{key:t.id,attrs:{slot:"pageContainer",scope:e.scope,info:t},slot:"pageContainer"})}):e._e()],2),!e.hasChild||e.isListContainer||e.ispageContainer?e._e():e._l(e.nodeInfo.child,function(t){return n("prenode",{key:t.id,attrs:{stacked:e.nodeInfo.stack,scope:e.scope,info:t}})})],2)},Vn=[];function Wn(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function qn(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){Wn(o,a,i,s,r,"next",e)}function r(e){Wn(o,a,i,s,r,"throw",e)}s(void 0)})}}var Kn={mixins:[yn,f["a"]],name:"prenode",props:{scope:{type:Object},stacked:{type:Boolean,default:!0},info:{required:!0,type:Object}},data:function(){var e=this;return{oldId:"",isActive:!1,currPage:"",oldStyle:{},nodeInfo:function(){return e.scope?x()(e.info):e.info}()}},watch:{"nodeInfo.type":function(e,t){"EDITOR"!==Object({NODE_ENV:"production",BASE_URL:"/assets/game/",CODE_ENV:"production"}).PAGE&&(this.nodeInfo.props={},"node"!==this.nodeInfo.type?this.doLoad():this.currPage="")},"nodeInfo.visible":function(e,t){!1===t&&e&&this.doAfterMounted()},info:{deep:!0,handler:function(e){var t={};t=this.scope?x()(e):e,this.nodeInfo=t}},scope:{handler:function(e){e&&this.$nextTick(this.passScopeToComponentInstance)},deep:!0}},computed:{visible:{get:function(){return!!this.nodeInfo&&this.nodeInfo.visible},set:function(e){this.nodeInfo.visible=e}},nodeChild:function(){return this.nodeInfo.child||[]},hasChild:function(){return this.nodeChild&&this.nodeChild.length>0},isListContainer:function(){return this.nodeInfo&&this.nodeInfo.type.indexOf("ListContainer")>-1},ispageContainer:function(){return this.nodeInfo&&this.nodeInfo.type.indexOf("pageContainer")>-1}},beforeDestroy:function(){delete window.$_nodePrecomponents[this.oldId]},mounted:function(){this.oldId=this.nodeInfo.id,this.registerNodeToGlobal(),this.doLoad()},methods:{cloneDeep:x.a,initNodeEvent:function(){var e=this;this.initEvented||(this.initEvented=!0,this.nodeInfo.events&&this.nodeInfo.events.forEach(function(t){e.getComponent(e.nodeInfo.id,!0).$el.addEventListener(t.event,function(n){e.getComponent(e.nodeInfo.id,!0).oncallExecute(t.callList,[n])})}))},getComponent:function(e,t){var n=window.$_nodePrecomponents[e];return t&&n?n.$refs[e]:n},registerNodeToGlobal:function(){window.$_nodePrecomponents=window.$_nodePrecomponents||{},window.$_nodePrecomponents[this.nodeInfo.id]=this},passScopeToComponentInstance:function(){var e=this.scope,t=this.$refs[this.nodeInfo.id];e&&t&&t.$set(t.$data,"inscope",e.data||e)},doLoad:function(){var e=qn(u.a.mark(function e(){return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("node"!==this.nodeInfo.type){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fn.load(this.nodeInfo);case 4:this.isNodeRegisted(this.nodeInfo.id)||this.registerNode(this.nodeInfo),this.currPage=this.nodeInfo.id,this.doAfterMounted();case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),doAfterMounted:function(){var e=this;this.$nextTick(function(){e.passScopeToComponentInstance(),e.runAnimate(),e.initNodeEvent()})},isNodeRegisted:function(e){return Boolean(r.a.component(e))},isNodeStartRegiste:function(e){return e in(window.$_nodePrecomponents||{})}}},Xn=Kn,Yn=(n("011d"),Object(b["a"])(Xn,Un,Vn,!1,null,"319471ba",null)),Jn=Yn.exports,Zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tool",attrs:{"fixed-tool":""}},[n("el-popover",{ref:"popover4",attrs:{placement:"right",width:"180",trigger:"click"}},[n("el-form",{attrs:{model:e.setting,size:"mini","label-width":"90px"}},[n("el-form-item",{attrs:{label:"参考线颜色"}},[n("el-color-picker",{model:{value:e.setting.color,callback:function(t){e.$set(e.setting,"color",t)},expression:"setting.color"}})],1),n("el-form-item",{attrs:{label:"智能参考线"}},[n("el-switch",{model:{value:e.setting.line,callback:function(t){e.$set(e.setting,"line",t)},expression:"setting.line"}})],1),n("el-form-item",{attrs:{label:"吸附效果"}},[n("el-switch",{model:{value:e.setting.sorb,callback:function(t){e.$set(e.setting,"sorb",t)},expression:"setting.sorb"}})],1)],1)],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"撤消(ctrl+z)",placement:"right-start"}},[n("a",{staticClass:"item",on:{click:e.revocation}},[n("i",{staticClass:"iconfont icon-revocation"})])]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"恢复(ctrl+y)",placement:"right-start"}},[n("a",{staticClass:"item",on:{click:e.forword}},[n("i",{staticClass:"iconfont icon-forward"})])]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"预览",placement:"right-start"}},[n("a",{staticClass:"item",on:{click:e.preview}},[n("i",{staticClass:"iconfont el-icon-view"})])]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"保存",placement:"right-start"}},[n("a",{staticClass:"item",on:{click:function(t){t.stopPropagation(),e.save(t)}}},[n("i",{staticClass:"iconfont icon-save"})])]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"参考线",placement:"right-start"}},[n("a",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],staticClass:"item"},[n("i",{staticClass:"iconfont icon-grid"})])]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",enterable:!1,content:"psd",placement:"right-start"}},[n("a",{staticClass:"item",on:{click:function(t){t.stopPropagation(),e.psd(t)}}},[n("i",{staticClass:"iconfont el-icon-picture-outline"})])])],1)},Qn=[],ea={mixins:[f["a"]],components:{},name:"SliderTool",props:{},data:function(){return{setting:{open:!0,line:!0,color:"#409EFF",phoneline:!0,sorb:!0}}},watch:{setting:{deep:!0,handler:function(e){this.$store.dispatch("SettingChange",e),window.localStorage.setItem("EditorSetting",JSON.stringify(e))}}},mounted:function(){try{var e=JSON.parse(window.localStorage.getItem("EditorSetting"));e&&Object.assign(this.setting,e)}catch(t){}},methods:{preview:function(){var e=I["a"].parseURL(window.location.href);this.openDialog({name:"d-Preview",data:{key:e.params&&e.params.key}})},revocation:function(){this.ema.fire("history.back")},forword:function(){this.ema.fire("history.forword")},save:function(){this.ema.fire("pageInfo.save",!0)},saveTemp:function(){this.ema.fire("pageInfo.saveTemp")},phoneDisplay:function(){},psd:function(){this.ema.fire("pageInfo.psd")}}},ta=ea,na=(n("d19a"),Object(b["a"])(ta,Zn,Qn,!1,null,"d4b0cb04",null)),aa=na.exports,ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp",class:{enable:!!e.info}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},e._l(e.aligns,function(t,a){return n("div",{key:a,staticClass:"align-item",on:{click:function(n){n.stopPropagation(),e.handleClick(t)}}},[n("a",{staticClass:"iconfont",class:[t.icon],attrs:{title:t.desc}})])}))],1)},oa=[];function sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){ra(e,t,n[t])})}return e}function ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ca={mixins:[f["a"]],name:"StyleSize",components:{},props:{info:{required:!0,type:Object},stacked:{type:Boolean,default:!0}},computed:{aligns:function(){return this.stacked?[{name:"align-top",desc:"上对齐",icon:"icon-align-top"},{name:"align-bottom",desc:"下对齐",icon:"icon-align-bottom"},{name:"align-left",desc:"左对齐",icon:"icon-align-left"},{name:"align-right",desc:"右对齐",icon:"icon-align-right"},{name:"align-center",desc:"垂直居中",icon:"icon-align-center"},{name:"align-middle",desc:"水平居中",icon:"icon-align-middle"},{name:"one-bottom",desc:"下移一层",icon:"icon-one-bottom"},{name:"one-top",desc:"上移一层",icon:"icon-one-top"},{name:"all-bottom",desc:"置底",icon:"icon-all-bottom"},{name:"all-top",desc:"置顶",icon:"icon-all-top"},{name:"fill-width",desc:"横向填充",icon:"icon-full-width"},{name:"fill-half-width",desc:"横向1/2填充",icon:"icon-half-width"},{name:"fill-height",desc:"纵向填充",icon:"icon-full-height"},{name:"fill-half-height",desc:"纵向1/2填充",icon:"icon-half-height"}]:[{name:"align-left",desc:"左对齐",icon:"icon-align-left"},{name:"align-right",desc:"右对齐",icon:"icon-align-right"},{name:"align-top",desc:"上对齐",icon:"icon-align-top"},{name:"align-middle",desc:"水平居中",icon:"icon-align-middle"},{name:"fill-width",desc:"横向填充",icon:"icon-full-width"},{name:"fill-half-width",desc:"横向1/2填充",icon:"icon-half-width"}]}},mounted:function(){},methods:{handleClick:function(e){var t=window.$vue&&window.$vue.$el,n=window.$vue&&window.$vue.$parent.$el,a=this.getRect(t,n),i=a.width,o=a.height,s=sa({},this.info);switch(this.isPositionEl(t)||(s.position="relative"),s.right="",s.bottom="",e.name){case"align-top":s.top=0;break;case"align-right":s.left=i-t.clientWidth+"px";break;case"align-middle":s.left=(i-t.clientWidth)/2+"px";break;case"align-left":s.left=0;break;case"align-center":s.top=(o-t.clientHeight)/2+"px";break;case"align-bottom":s.top=o-t.clientHeight+"px";break;case"one-bottom":this.moveLayer(-1);break;case"one-top":this.moveLayer(1);break;case"all-bottom":this.moveLayer(Number.MIN_VALUE);break;case"all-top":this.moveLayer(Number.MAX_VALUE);break;case"fill-width":s.width=i+"px";break;case"fill-half-width":s.width=(i/2|0)+"px";break;case"fill-height":s.height=o+"px";break;case"fill-half-height":s.height=(o/2|0)+"px";break}this.$reactiveSet(this.info,s)},isPositionEl:function(e){return!!e&&["relative","absolute","fixed"].indexOf(window.getComputedStyle(e).position)>-1},getRect:function(e,t){return e&&t?t.classList.contains("appWarp")?e.getBoundingClientRect():t.getBoundingClientRect():{width:0,height:0}},moveLayer:function(e){var t=window.$vue;t&&t.$parent&&t.$parent.moveLayer(t.nodeInfo,e)}}},la=ca,da=(n("5085"),Object(b["a"])(la,ia,oa,!1,null,"5cbad8ac",null)),ua=da.exports;function pa(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function ma(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){pa(o,a,i,s,r,"next",e)}function r(e){pa(o,a,i,s,r,"throw",e)}s(void 0)})}}var fa={mixins:[f["a"]],name:"widgetScene",components:{Node:Ln,PerviewNode:Jn,AssistLines:Gn,sliderTool:aa,Align:ua},computed:Object(se["mapState"])({Config:function(e){return e.Config},RootNodeInfo:function(e){return e.RootNodeInfo},phoneSize:function(e){return e.setting.phoneSize},PHONE_SIZES:function(e){return e.Metadata.phoneSize}}),watch:{active:function(e){this.active&&(this.selectNode=window.$vue&&window.$vue.nodeInfo,this.selectNodeStacked=window.$vue&&window.$vue.stacked)},phoneSize:function(e){this.info.canvas=e},editType:{handler:function(e,t){var n=this;window.EDIT_TYPE=String(e).toUpperCase(),this.previewInfo=x()(this.info),this.ema&&this.ema.fire("edit-type.change",window.EDIT_TYPE),"EDITOR"==window.EDIT_TYPE&&this.ema&&this.selectNode&&this.$nextTick(function(){n.ema.fire("select.one",n.selectNode.id)})},immediate:!0}},data:function(){return{info:window.Editor.nodeInfo,previewInfo:null,selectNode:null,selectNodeStacked:!0,editType:"editor",pageInfo:{id:1,name:"目名",categoryId:2,content:"",desc:"项目描述"}}},beforeCreate:function(){},created:function(){},mounted:function(){var e=this;this.selectNode=window.$vue&&window.$vue.nodeInfo,this.selectNodeStacked=window.$vue&&window.$vue.stacked,this.ema.bind("select.oneInfo",function(t){var n=t.vm;e.selectNode=n.nodeInfo,e.selectNodeStacked=n.stacked}),this.ema.bind("select.noOne",function(){e.selectNode=null,e.selectNodeStacked=!0}),this.ema.bind("nodeInfo.replace",function(t){e.info=t}),this.ema.bind("allToPx",ma(u.a.mark(function t(){var n;return u.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("此操作将组件位置和大小属性的相对单位转化为绝对单位，可能造成在更换画布之后出现不符合预期的显示，请谨慎操作！");case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:e.allToPx();case 6:case"end":return t.stop()}},t)}))),this.ema.bind("nodeInfo.change",function(){e.info=window.Editor.nodeInfo}),this.bindMove(),this.bindLock(),window.$app=this},methods:{changePhoneSize:function(e){var t=this;this.$confirm("确定要将画布切换为 ".concat(parseInt(e.width)," x ").concat(parseInt(e.height)," 吗？")).then(function(){t.$store.dispatch("SettingChange",{phoneSize:e})}).catch(function(e){return console.log(e)})},scrollChange:function(e){var t=this.$refs["appWarp"];this.ema.fire("appWarpOffsetChange",{top:t.scrollTop,left:t.scrollLeft})},allToPx:function(){var e=ma(u.a.mark(function e(){var t,n,a,i,o,s,r;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=function(){return r=ma(u.a.mark(function e(t){var n,o;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("function"===typeof t.actived){e.next=2;break}return e.abrupt("return");case 2:return t.actived(),e.next=5,a.$nextTick();case 5:return e.next=7,Object(I["g"])(100);case 7:return n=t.$refs.selector,n.mousedown({stopPropagation:function(){}},""),e.next=11,a.$nextTick();case 11:return e.next=13,Object(I["g"])(100);case 13:if(o=t.$children.filter(function(e){return"node"===e.$options.name}),!o||!o.length){e.next=17;break}return e.next=17,i(o);case 17:case"end":return e.stop()}},e)})),r.apply(this,arguments)},s=function(e){return r.apply(this,arguments)},o=function(){return o=ma(u.a.mark(function e(t){var n,a,i,o,r,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=!0,a=!1,i=void 0,e.prev=3,o=t[Symbol.iterator]();case 5:if(n=(r=o.next()).done){e.next=12;break}return c=r.value,e.next=9,s(c);case 9:n=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),a=!0,i=e.t0;case 18:e.prev=18,e.prev=19,n||null==o.return||o.return();case 21:if(e.prev=21,!a){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,null,[[3,14,18,26],[19,,21,25]])})),o.apply(this,arguments)},i=function(e){return o.apply(this,arguments)},t=this.$loading({lock:!0,text:"处理中，请稍等",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),n=this.$refs.node.$children.filter(function(e){return"node"===e.$options.name}),a=this,e.next=9,i(n);case 9:t.close();case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),bgClick:function(){this.ema.fire("hide.contextMenu"),this.ema.fire("select.noOne")},mouseup:function(e){this.ema.fire("ui.mouseup",e)},mousemove:function(e){this.ema.fire("ui.mousemove",e)},dragenter:function(e){e.stopPropagation()},dragover:function(e){e.preventDefault()},deleteNode:function(e){var t=null,n=null,a=0,i=function i(o){o=o||[];for(var s=0;s<o.length;s++){var r=o[s];if(r.id===e)return t=r,a=s,void(n=o);r.child&&i(r.child)}};if(i([this.info]),n)return this.$delete(n,a),t},bindMove:function(){var e=this;this.ema.bind("move.node",function(t,n,a){var i=x()(e.deleteNode(t));a&&(i.style.left=a.left,i.style.top=a.top),n&&n.child.push(i)})},lockNode:function(e,t){var n=this,a=null,i=function e(a){for(var i=0;i<a.length;i++)n.$set(a[i],"lock",t),a[i].child&&e(a[i].child)},o=function o(s){s=s||[];for(var r=0;r<s.length;r++){var c=s[r];if(c.id===e)return n.$set(c,"lock",t),a=c,r,s,c.child&&i(c.child),a;c.child&&o(c.child)}};o([this.info])},bindLock:function(){var e=this;this.ema.bind("lock.node",function(t,n){e.lockNode(t,n)})}}},ha=fa,ga=(n("9b64"),Object(b["a"])(ha,cn,ln,!1,null,null,null)),ba=ga.exports,va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pageTemplate widget"},[a("div",{staticClass:"box-search"},[a("el-input",{staticClass:"searchInput",attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.loadData(1)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){t.stopPropagation(),e.loadData(1)}},slot:"append"})],1),a("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),a("div",{staticClass:"components"},e._l(e.list,function(t,i){return a("el-card",{key:i,staticClass:"itemWarp",attrs:{shadow:"hover"}},[a("div",{staticClass:"n1"},[a("div",{staticClass:"img"},[t.image?a("img",{attrs:{src:t.image+"?x-oss-process=image/resize,w_120/crop,w_120,h_170"}}):a("img",{attrs:{src:n("9d64")}})]),a("h3",{staticClass:"label"},[e._v("\n          "+e._s(t.name)+"\n        ")])]),a("div",{staticClass:"n2"},[t.image?a("img",{staticClass:"img",attrs:{src:t.image+"?x-oss-process=image/resize,w_120/crop,w_120,h_170"}}):e._e(),a("div",{staticClass:"mask"}),a("div",{staticClass:"desc"},[e._v(e._s(t.desc||"该作者很懒，没有写详细描述。"))]),a("el-button",{staticClass:"btn",attrs:{type:"primary",round:"",size:"mini"},on:{click:function(n){e.selectOne(t)}}},[e._v("使用")])],1)])}))])},ya=[],wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.sortedTags&&e.sortedTags.length?n("div",{staticClass:"assets-tags",class:{opend:e.opend}},[e._l(e.sortedTags,function(t){return n("el-tag",{key:t.id,staticStyle:{"margin-right":"2px","margin-top":"6px",cursor:"pointer"},attrs:{size:"mini",type:t.selected?"warning":"info","disable-transitions":!0},nativeOn:{click:function(n){e.onclick(t)}}},[n("i",{staticClass:"iconfont icon-tag"}),e._v(e._s(t.name)+"\n  ")])}),n("div",{staticClass:"show-more",on:{click:function(t){e.opend=!e.opend}}},[e._v(e._s(e.opend?"收起▲":"查看更多标签▼"))])],2):e._e()},xa=[];function ka(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function _a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){ka(o,a,i,s,r,"next",e)}function r(e){ka(o,a,i,s,r,"throw",e)}s(void 0)})}}var Ca={mixins:[f["a"]],components:{},name:"assets-tags",props:{assetsId:{type:[Number,String]}},data:function(){return{opend:!1,assetsTags:[],historyTagsId:[]}},computed:{sortedTags:function(){var e=this.historyTagsId,t=this.assetsTags.map(function(t,n){var a=e.indexOf(String(t.id));return t.weight=a>-1?a-e.length:n,t}).sort(function(e,t){return e.weight>t.weight?1:-1});return t},ASSETS_TAG_KEY:function(){return"ASSETS_TAG_".concat(this.assetsId)}},mounted:function(){},methods:{onclick:function(e){this.$set(e,"selected",!e.selected),this.$emit("selectchange",this.sortedTags.filter(function(e){return e.selected})),e.selected&&this.addTagToHistory(e.id)},getAssetsTags:function(){var e=_a(u.a.mark(function e(){return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(A["a"])({url:"editor/tags/list",method:"get",data:{categoryId:this.assetsId,name:""}}).then(function(e){var t=e.data;return t.data||[]}).catch(function(e){return[]});case 2:this.assetsTags=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),initHistoryTags:function(){var e=(window.localStorage.getItem(this.ASSETS_TAG_KEY)||"").split(",").filter(function(e){return e&&e.length});this.historyTagsId=e},addTagToHistory:function(e){e=String(e);var t=this.historyTagsId.indexOf(e);t>-1&&this.historyTagsId.splice(t,1),this.historyTagsId.unshift(e),window.localStorage.setItem(this.ASSETS_TAG_KEY,String(this.historyTagsId))}}},$a=Ca,Sa=(n("20f6"),Object(b["a"])($a,wa,xa,!1,null,"3237076e",null)),ja=Sa.exports,Ea={mixins:[f["a"]],name:"pageTemplate",components:{AssetsTags:ja},data:function(){return{categoryId:1,searchKey:"",selectedTags:[],list:[]}},computed:Object(se["mapState"])({}),mounted:function(){this.loadData()},methods:{loadData:function(){var e=this,t=this.selectedTags.map(function(e){return{id:e.id,name:e.name}});Object(A["a"])({url:"editor/pages/publiclist",method:"post",needLoading:!1,data:{name:this.searchKey,tags:t||[]}}).then(function(t){var n=t.data;e.list=n.data})},changePage:function(e){var t=this;Object(A["a"])({url:"editor/pages/info",method:"post",needLoading:!1,data:{id:e.id+""}}).then(function(e){var n=e.data.data,a=null;if(n.content)try{a=JSON.parse(n.content)}catch(i){window.alert("模板解析失败")}t.ema.fire("selectPageTemplate",a)})},onTagSelect:function(e){this.selectedTags=e,this.loadData(1,!0)},selectOne:function(e){var t=this;this.$confirm("确认使用?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.changePage(e)}).catch(function(){t.$message({type:"warning",message:"已取消"})})}}},Ia=Ea,Ta=(n("3884"),n("9a0d"),Object(b["a"])(Ia,va,ya,!1,null,"76ffd370",null)),Aa=Ta.exports,Na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mycomponents"},[n("div",{staticClass:"box-search"},[n("el-input",{staticStyle:{width:"98%"},attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.search()}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[n("el-select",{staticClass:"type-select",staticStyle:{width:"74px"},attrs:{slot:"prepend",size:"mini",placeholder:"请选择"},slot:"prepend",model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[n("el-option",{attrs:{label:"全部",value:1}}),n("el-option",{attrs:{label:"自建",value:2}})],1),n("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){t.stopPropagation(),e.search()}},slot:"append"})],1),n("el-dropdown",{staticClass:"component-menu",on:{command:e.handlePointMenu}},[n("i",{staticClass:"iconfont icon-point-menu",staticStyle:{"font-size":"20px"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"list"}},[e._v("列表")]),n("el-dropdown-item",{attrs:{command:"card"}},[e._v("卡片")])],1)],1),n("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),n("div",{staticClass:"components",class:[e.comListsStyle]},[e._l(e.comLists,function(t){return n("div",{key:t.id,staticClass:"com-item",attrs:{draggable:"true"},on:{dragstart:function(n){e.dragstart(n,t)},click:function(n){e.addOne(t)}}},[n("div",{staticClass:"com-item-avatar"},[n("img",{staticClass:"icon-img",attrs:{src:e._f("componentIcon")(t.path)}})]),n("div",{staticClass:"com-item-content"},[n("p",{staticClass:"com-item-name"},[e._v(e._s(t.name))]),n("p",{staticClass:"com-item-desc",on:{click:function(n){n.stopPropagation(),e.readme(t)}}},[e._v(e._s(t.desc))]),n("p",{staticClass:"com-item-count"},[n("i",{staticClass:"iconfont icon-download"}),e._v(" "+e._s(t.useNumber||0))])])])}),n("a",{staticClass:"addComponent",attrs:{target:"_blank",href:"https://godspen.ymm56.com/doc/develop/component.html"}},[e._v("添加组件")])],2)])},Oa=[],Pa={mixins:[f["a"]],name:"Components",components:{AssetsTags:ja},props:{},filters:{componentIcon:function(e){return e?e.replace(/index.js$/,"icon.png"):"https://imagecdn.ymm56.com/ymmfile/explore-biz/ymm_1527843621175.png"}},data:function(){return{categoryId:3,searchKey:"",selectedTags:[],searchType:1,activeNames:["base","container","struct"],structPanel:["struct"],comLists:[],comListsStyle:"card"}},computed:Object(se["mapState"])({componentList:function(e){var t=[];for(var n in e.componentList)if(e.componentList.hasOwnProperty(n)){var a=e.componentList[n];t.push({name:n,label:a.label,child:a.child})}return t},pageType:function(){return this.$store.state.viewOption.pageType||0}}),watch:{},mounted:function(){this.search()},methods:{onTagSelect:function(e){this.selectedTags=e,this.search()},dragstart:function(e,t){return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("componentInfo",JSON.stringify(t)),e.dataTransfer.setData("dragPos",JSON.stringify({x:e.offsetX,y:e.offsetY})),e.dataTransfer.setDragImage(e.target,e.offsetX,e.offsetY),!0},addOne:function(e){this.ema.fire("commponent.addOne",e),this.ema.fire("dock.panelActive","widgetScene")},search:function(){var e=this,t=(this.searchKey||"").trim();t=t.replace(/^#+/,""),Object(A["a"])({url:"component/searchByName",method:"get",needLoading:!1,data:{tags:this.selectedTags,type:this.pageType,name:t,onlyMine:2==this.searchType}}).then(function(t){var n=t.data;e.comLists=n.data&&n.data||[]})},readme:function(e){this.ema.fire("widgetComponentInfo.selectOne",e)},handlePointMenu:function(e){this.comListsStyle=e}}},Da=Pa,Ma=(n("fca1"),n("d4a8"),Object(b["a"])(Da,Na,Oa,!1,null,"1302a47c",null)),La=Ma.exports,Fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"componentInfo"},[e.info?n("div",[n("div",{staticClass:"title"},[n("div",{staticClass:"icon"},[n("img",{attrs:{src:e.getIcon(e.info),alt:""}})]),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[e._v(e._s(e.info.name))]),n("div",{staticClass:"laberWarp"},[n("span",{staticClass:"version"},[n("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("版本:"+e._s(e.info.version))])],1),n("span",{staticClass:"down"},[n("el-tag",{attrs:{size:"mini",type:"warning"}},[n("i",{staticClass:"iconfont icon-download"}),e._v(" "+e._s(e.info.ComponentUse?e.info.ComponentUse.useNumber:0)+"\n            ")])],1),n("span",{staticClass:"status"},[n("el-tag",{attrs:{size:"mini"}},[e._v(e._s(1==e.info.status?"公开":"私有")+" ")])],1),n("span",{staticClass:"uptime"},[e._v(e._s(e._f("datetime")(e.info.updateTime)))])]),n("div",{staticClass:"desc"},[e._v(e._s(e.info.desc))])])]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"markdown"},[n("div",{domProps:{innerHTML:e._s(e.md)}})])]):n("i",{staticClass:"iconfont icon-nodata nodata"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},Ba=[],Ra=n("0e54"),za=n.n(Ra),Ha=n("bc3a"),Ga=n.n(Ha),Ua={mixins:[f["a"]],name:"widgetComponentInfo",components:{},props:{},data:function(){return{loading:!0,forbidEdit:!1,info:null,md:""}},computed:Object(se["mapState"])({}),watch:{},created:function(){var e=this;this.ema.bind("widgetComponentInfo.selectOne",function(t){e.ema.fire("dock.panelActive","widgetComponentInfo"),e.info=t,e.loadMd(t)}),this.ema.bind("edit-type.change",function(t){e.forbidEdit="EDITOR"!==t})},methods:{getIcon:function(e){var t=e.path.replace(/index.js$/,"icon.png");return t},loadMd:function(e){var t=this,n=e.path.replace(/index.js$/,"README.md");this.loading=!0;var a=Ga.a.create({timeout:36e5,headers:{},trimNull:!1,withCredentials:!1});a({url:n,method:"get",needLoading:!1}).then(function(e){var n=e.data;t.loading=!1;var a=n||"hello world";t.md=za()(a)}).catch(function(){t.loading=!1})}}},Va=Ua,Wa=(n("a06e"),Object(b["a"])(Va,Fa,Ba,!1,null,"015e166c",null)),qa=Wa.exports,Ka=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"widget attribute"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.selectNode,expression:"selectNode"}]},[e.newVersion?n("el-alert",{staticClass:"alerttip",attrs:{title:"组件有更新,点击查看详情",type:"warning",closable:!1},nativeOn:{click:function(t){e.showUpdate=!e.showUpdate}}}):e._e(),e.newVersion&&e.showUpdate?n("div",{staticClass:"update"},[n("div",{staticClass:"desc"},[n("div",[e._v("\n          新版本："+e._s(this.newNodeInfo.version)+",当前版本："+e._s(e.selectNode.version)+"\n        ")])]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.updateComponent}},[e._v("更新组件")])],1):e._e(),n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"基础信息",name:"base"}},[e.selectNode?n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"100px",model:e.selectNode}},[n("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"唯一id"}},[n("el-input",{staticStyle:{"padding-right":"25px"},attrs:{size:"mini",disabled:!e.canEditId},on:{change:e.idChange},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}},[n("template",{slot:"append"},[n("el-tooltip",{attrs:{content:"复制id",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-copy",on:{click:function(t){e.copyId(e.id)}}})])],1)],2),"root"!==e.id&&"node"!=e.selectNode.type?[n("a",{directives:[{name:"show",rawName:"v-show",value:e.canEditId,expression:"canEditId"}],staticClass:"id-lock iconfont icon-unlock",attrs:{title:"启用"},on:{click:function(t){e.canEditId=!1}}}),n("a",{directives:[{name:"show",rawName:"v-show",value:!e.canEditId,expression:"!canEditId"}],staticClass:"id-lock iconfont icon-lock",attrs:{title:"禁用"},on:{click:function(t){e.canEditId=!0}}})]:e._e()],2),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{staticStyle:{"padding-right":"25px"},attrs:{size:"mini"},model:{value:e.selectNode.label,callback:function(t){e.$set(e.selectNode,"label",t)},expression:"selectNode.label"}})],1),n("el-form-item",{attrs:{label:"显示"}},[n("el-switch",{key:"1",attrs:{size:"mini"},model:{value:e.selectNode.visible,callback:function(t){e.$set(e.selectNode,"visible",t)},expression:"selectNode.visible"}})],1),n("el-form-item",[n("el-tooltip",{attrs:{slot:"label",content:"禁用后，子组件不再堆叠排布，而是按顺序向下扩展",placement:"top"},slot:"label"},[n("span",[e._v("堆叠模式")])]),n("el-switch",{key:"1",attrs:{size:"mini"},model:{value:e.selectNode.stack,callback:function(t){e.$set(e.selectNode,"stack",t)},expression:"selectNode.stack"}})],1)],1):e._e()],1),n("el-collapse-item",{attrs:{title:"属性设置",name:"attr"}},[e.selectNode?n("div",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.selectNode}},[e.currEditor?n(e.currEditor,{key:e.currEditor,tag:"component",attrs:{"component-info":e.currEditorData}}):e._e(),e._l(e.propsInfo,function(t,a){return[t.work&&!t.work()||t.meta.ignore?e._e():n("div",{key:t.key,staticClass:"form-item"},[[n("span",{staticClass:"label"},[n("el-tooltip",{attrs:{content:t.desc||"无",placement:"top"}},[n("span",[e._v(e._s(t.label||t.key))])])],1),t?n("span",{staticClass:"value"},["string"==t.type?n("el-input",{attrs:{size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"number"==t.type?n("el-input",{attrs:{type:"number",size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,e._n(n))},expression:"selectNode.props[item.key]"}}):"input"==t.type?n("el-input",{attrs:{size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"text"==t.type?n("el-input",{attrs:{autosize:{minRows:2,maxRows:5},type:"textarea",size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"richtext"==t.type?n("rich-text",{attrs:{id:e.id},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"color"==t.type?n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):e.isCollapsed("attr")&&"object"==t.type?n("attr-data",{attrs:{type:"object",content:e.selectNode.props[t.key]},on:{"update:content":function(n){e.$set(e.selectNode.props,t.key,n)}}}):e.isCollapsed("attr")&&"array"==t.type?n("attr-data",{attrs:{type:"array",content:e.selectNode.props[t.key]},on:{"update:content":function(n){e.$set(e.selectNode.props,t.key,n)}}}):e.isCollapsed("attr")&&"data"==t.type?n("attr-data",{attrs:{content:e.selectNode.props[t.key]},on:{"update:content":function(n){e.$set(e.selectNode.props,t.key,n)}}}):"boolean"==t.type?n("el-switch",{attrs:{size:"mini"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"image"==t.type?[n("resource",{attrs:{type:"image",url:e.selectNode.props[t.key]},on:{"update:url":function(n){e.$set(e.selectNode.props,t.key,n)}}})]:"audio"==t.type?n("resource",{attrs:{type:"audio",url:e.selectNode.props[t.key]},on:{"update:url":function(n){e.$set(e.selectNode.props,t.key,n)}}}):"video"==t.type?n("resource",{attrs:{type:"video",url:e.selectNode.props[t.key]},on:{"update:url":function(n){e.$set(e.selectNode.props,t.key,n)}}}):"file"==t.type?n("resource",{attrs:{type:"file",url:e.selectNode.props[t.key]},on:{"update:url":function(n){e.$set(e.selectNode.props,t.key,n)}}}):"function"==t.type?n("attr-function",{attrs:{content:e.selectNode.props[t.key]},on:{"update:content":function(n){e.$set(e.selectNode.props,t.key,n)}}}):"date"==t.type?n("el-date-picker",{attrs:{"value-format":"yyyy/MM/dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}}):"enum"==t.type?n("el-select",{attrs:{multiple:t.meta&&t.meta.multiple,size:"mini",placeholder:"请选择"},model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}},e._l(e.enumFilter(t.meta.defaultList),function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})):"checkbox"==t.type?[t.meta.defaultList?n("el-checkbox-group",{model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}},e._l(e.enumFilter(t.meta.defaultList),function(t,a){return n("el-checkbox",{key:a,attrs:{label:t.value}},[e._v(e._s(t.label))])})):n("el-checkbox",{model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}})]:"radio"==t.type?n("el-radio-group",{model:{value:e.selectNode.props[t.key],callback:function(n){e.$set(e.selectNode.props,t.key,n)},expression:"selectNode.props[item.key]"}},e._l(e.enumFilter(t.meta.defaultList),function(t,a){return n("el-radio",{key:a,attrs:{label:t.value}},[e._v(e._s(t.label))])})):e._e()],2):e._e()]],2)]})],2):e._e()]),n("el-collapse-item",{attrs:{title:"事件管理",name:"event"}},[e.selectNode?n("attr-event",{attrs:{content:e.selectNode.events},on:{"update:content":function(t){e.$set(e.selectNode,"events",t)}}}):e._e()],1)],1)],1),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.selectNode,expression:"!selectNode"}],staticClass:"iconfont icon-nodata nodata"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},Xa=[],Ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"color-picker-wrapper"},[n("el-input",{attrs:{size:"mini"},model:{value:e.rawColor,callback:function(t){e.rawColor=t},expression:"rawColor"}},[n("el-color-picker",{attrs:{slot:"prefix",size:"mini","show-alpha":""},slot:"prefix",model:{value:e.rawColor,callback:function(t){e.rawColor=t},expression:"rawColor"}})],1)],1)},Ja=[],Za={mixins:[f["a"]],name:"ColorPicker",components:{},props:{value:String,showAlpha:Boolean},data:function(){return{rawColor:""}},mounted:function(){this.rawColor=this.value},watch:{rawColor:function(e){var t;if(""===e||Object(I["d"])(e))return this.$emit("input","");(this.isHex(e)||this.isRgb(e))&&(t=this.showAlpha?this.anyToRgba(e):this.anyToHex(e),t&&this.$emit("input",t))},value:function(e){this.rawColor=e}},methods:{isHex:function(e){var t=/^#[0-9A-Fa-f]{6}$|^#[0-9A-Fa-f]{8}$/;return t.test((e||"").trim())},isRgb:function(e){var t=/^rgb\(\d+\,\d+\,[\d.]+\)$|^rgba\(\d+\,\d+\,\d+\,[\d.]+\)$/;return t.test((e||"").replace(/\s/g,""))},anyToRgba:function(e){var t;return this.isRgb(e)?(t=e.replace(/rgba?\((.+)\)/,"$1").replace(/\s/g,"").split(","),t.push("1"),t=t.slice(0,4),"rgba(".concat(t.join(","),")")):this.isHex(e)?(t=e.replace("#","").replace(/(.{2})/g,"$1_").split("_").slice(0,4).map(function(e){return parseInt(e,16)}),t[3]=(Number(t[3]||"255")/255).toFixed(2),"rgba(".concat(t.join(","),")")):""},anyToHex:function(e){var t;return this.isRgb(e)?(t=e.replace(/rgba?\((.+)\)/,"$1").replace(/\s/g,"").split(",").rgba.slice(0,3).map(Number).map(function(e){return e.toString(16)}).map(function(e){return e.padStart(2,"0")}),"#(".concat(t.join(""),")")):this.isHex(e)?e.slice(0,7):""}}},Qa=Za,ei=(n("9dfc"),Object(b["a"])(Qa,Ya,Ja,!1,null,null,null)),ti=ei.exports;function ni(e,t){return oi(e)||ii(e,t)||ai()}function ai(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function ii(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{a||null==r["return"]||r["return"]()}finally{if(i)throw o}}return n}function oi(e){if(Array.isArray(e))return e}function si(e){return si="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function ri(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function ci(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){ri(o,a,i,s,r,"next",e)}function r(e){ri(o,a,i,s,r,"throw",e)}s(void 0)})}}var li={mixins:[f["a"]],name:"Attribute",components:{RichText:on,Resource:Zt,AttrData:Pt,AttrFunction:Ht,YColorPicker:ti,AttrEvent:Wt},data:function(){return{currEditor:"",currEditorData:{},showUpdate:!1,id:"",canEditId:!1,propsInfo:{},targetVm:null,activeNames:["base","animate","attr"],selectNode:null,newNodeInfo:null,oldStyle:null,forbidEdit:!1,vm:null}},props:{active:{type:[Number,Boolean],default:0}},computed:Object(se["mapState"])({newVersion:function(){return!(!this.selectNode||!this.newNodeInfo||this.newNodeInfo.name!=this.selectNode.type||this.newNodeInfo.version==this.selectNode.version)},componentMap:function(e){return e.componentMap},componentList:function(e){var t=[{name:"empty",label:"空节点",child:[{name:"node",label:"空"}]}];for(var n in e.componentList)if(e.componentList.hasOwnProperty(n)){var a=e.componentList[n];t.push({name:n,label:a.label,child:a.child})}return t}}),watch:{active:function(e){this.active&&window.$vue&&this.onSelectOne(window.$vue)},selectNode:function(e){e&&e.lock?this.forbidEdit=!0:this.forbidEdit=!1,e&&this.checkNew(e)}},mounted:function(){var e=this;window.$vue&&this.onSelectOne(window.$vue),this.ema.bind("select.oneInfo",function(t){var n=t.vm;e.onSelectOne(n)}),this.ema.bind("edit-type.change",function(t){e.forbidEdit="EDITOR"!==t}),this.ema.bind("select.noOne",function(){e.selectNode=null,e.newNodeInfo=null,e.vm=null})},methods:{onSelectOne:function(e){var t=e.nodeInfo.id;this.selectNode=null,this.targetVm=e.$refs[t],this.vm=e,this.dealPropsType(),this.loadEditor(e.nodeInfo),this.selectNode=e.nodeInfo,this.selectNode.animate=this.selectNode.animate||[],this.selectNode.events=this.selectNode.events||[],this.selectNode&&(this.id=e.nodeInfo.id)},loadEditor:function(){var e=ci(u.a.mark(function e(t){var n,a;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.currEditor="",this.currEditorData=null,e.next=4,fn.loadEditor(t);case 4:n=e.sent,n&&(a=t.id+"_Editor",r.a.component(a,n),this.currEditor=a,this.currEditorData=t.props);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),isCollapsed:function(e){var t=this.activeNames;return t&&(t.length&&t.indexOf(e)>-1||t==e)},checkNew:function(e){var t=this;Object(A["a"])({url:"component/find",method:"post",needLoading:!1,data:{name:e.type,version:""}}).then(function(e){var n=e.data,a=n.data.list||[];a.forEach(function(e){1==e.isnew&&(t.newNodeInfo=e)})}).catch(function(){})},copyId:function(e){this.ema.fire("clipboard.copy",e)},enumFilter:function(e){return e?e instanceof Array?e.map(function(e){return{label:e,value:e}}):"object"===si(e)?Object.entries(e).map(function(e){var t=ni(e,2),n=t[0],a=t[1];return{label:a,value:n}}):e:[]},onTypeChange:function(e){if(e){var t=this.componentMap[e];this.selectNode.version=t.version}},idChange:function(){var e=!1;window.$_nodecomponents[this.id]||(e=!0),e?this.$set(this.selectNode,"id",this.id):this.id=this.selectNode.id},dealPropsType:function(){var e=this.targetVm;function t(e){var t=e.editor||e.editer;if(t&&t.type)return t.type.toLocaleLowerCase();var n=e.type;if("string"==typeof n)return n;var i=n.toString().match(a),o="function"===typeof n&&i&&i[1]||"any";return o.toLocaleLowerCase()}if(this.propsInfo=[],e&&e.$options){var n=e.$options.props,a=/^(?:function|class) (\w+)/,i=[];for(var o in n){var s=n[o],r=s.editor||s.editer,c={key:o,value:e[o],type:t(s),work:(r&&r.work||function(){return!0}).bind(e),meta:r||{},order:s.order||1e4,required:!!s.required};r&&(c.label=r.label,c.desc=r.desc),i.push(c)}this.propsInfo=i||[],this.propsInfo=this.propsInfo.sort(function(e,t){return e.order-t.order})}},changeValue:function(e,t){},updateComponent:function(){var e=this;this.$confirm("更新组件后，该组件设置的数据会丢失，确认更新该组件?","提示",{confirmButtonText:"确认更新",cancelButtonText:"取消",type:"warning"}).then(function(){e.selectNode&&e.newNodeInfo&&(e.selectNode.path=e.newNodeInfo.path,e.selectNode.version=e.newNodeInfo.version)}).catch(function(){e.$message({type:"warning",message:"已取消"})})}}},di=li,ui=(n("a57d"),Object(b["a"])(di,Ka,Xa,!1,null,null,null)),pi=ui.exports,mi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-tree",on:{click:e.bgClick}},[n("div",{staticClass:"box-search"},[n("el-input",{attrs:{size:"mini",type:"text",placeholder:"输入搜索关键字..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[n("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.filterText=""}},slot:"suffix"}),n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){t.stopPropagation(),e.search(!0)}},slot:"append"})],1)],1),n("el-tree",{ref:"tree",attrs:{data:e.treeData,props:{children:"child"},"show-checkbox":!1,"highlight-current":"",indent:8,draggable:"","node-key":"id","filter-node-method":e.filterNode,"default-expand-all":"","expand-on-click-node":!1,"allow-drop":e.allowDrop},on:{"current-change":e.onCheckChange,"node-contextmenu":e.contextmenu,"node-drop":e.nodeDropEnd},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,i=t.data;return n("span",{staticClass:"custom-tree-node",attrs:{draggable:i.renaming},on:{dragstart:function(e){e.stopPropagation(),e.preventDefault()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!i.renaming,expression:"!data.renaming"}]},[n("i",{directives:[{name:"show",rawName:"v-show",value:i.script&&i.script.length>0,expression:"data.script && data.script.length > 0"}],staticClass:"iconfont icon-function"}),e._v(" "+e._s(i.label||i.id))]),n("input",{directives:[{name:"show",rawName:"v-show",value:i.renaming,expression:"data.renaming"},{name:"model",rawName:"v-model",value:i._label,expression:"data._label"}],domProps:{value:i._label},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.saveName(a,i)},input:function(t){t.target.composing||e.$set(i,"_label",t.target.value)}}}),"node"!==i.type&&"root"!==i.id?n("span",{staticClass:"teee-node-action"},[i.renaming?[n("el-tooltip",{attrs:{content:"保存",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-save-black",on:{click:function(t){e.saveName(a,i)}}})]),n("el-tooltip",{attrs:{content:"取消",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-close-black",on:{click:function(t){e.notSaveName(a,i)}}})])]:e._e(),i.renaming?e._e():[n("el-tooltip",{attrs:{content:"重命名",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-rename-box",on:{click:function(t){t.stopPropagation(),e.rename(a,i)}}})]),n("el-tooltip",{attrs:{content:"复制",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-copy",on:{click:function(t){t.stopPropagation(),e.copy(a,i)}}})]),n("el-tooltip",{attrs:{content:"复制id",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-id-black",on:{click:function(t){t.stopPropagation(),e.copyId(a,i)}}})]),n("el-tooltip",{attrs:{content:"移除",effect:"light",placement:"top"}},[n("a",{staticClass:"iconfont icon-delete",on:{click:function(t){t.stopPropagation(),e.remove(a,i)}}})]),i.lock?n("el-tooltip",{attrs:{content:"解锁",effect:"light",placement:"top"}},[n("a",{staticClass:"id-lock iconfont icon-lock",on:{click:function(t){t.stopPropagation(),e.lock(a,i,!1)}}})]):n("el-tooltip",{attrs:{content:"加锁",effect:"light",placement:"top"}},[n("a",{staticClass:"id-lock iconfont icon-unlock",on:{click:function(t){t.stopPropagation(),e.lock(a,i,!0)}}})])]],2):e._e()])}}])}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})],1)},fi=[],hi={name:"component-tree",componentName:"component-tree",mixins:[f["a"]],components:{},data:function(){return{filterText:"",forbidEdit:!1,info:window.Editor.nodeInfo,currentNode:{}}},computed:{treeData:function(){return[this.info]},rootNode:function(){return this.info}},watch:{filterText:function(e){this.search()}},methods:{allowDrop:function(e,t,n){if(!t||!t.id)return!1;if(!e||!e.id)return!1;if(e.data&&e.data.id==this.rootNode.id)return!1;if(t.data.id==this.rootNode.id&&("prev"==n||"next"==n))return!1;if(t.id==e.id)return!1;var a="inner"===n?t:t.parent,i=a.data&&a.data.leaf?0:a.data&&a.data.childLimit,o=a.data&&a.data.child&&a.data.child.length||0;return!(o>=i)},nodeDropEnd:function(e,t,n){var a="inner"===n?t:t.parent,i=a.data||{},o=e.data||{};o.style&&o.style.position===(i.stack?"relative":"absolute")&&(o.style=Object.assign({},o.style,{position:i.stack?"absolute":"relative",left:"0px",top:"0px"})),this.ema.fire("select.one",a.data.id)},remove:function(e,t){this.ema.fire("move.node",t.id,null)},rename:function(e,t){this.$set(t,"renaming",!0),this.$set(t,"_label",t.label||t.id)},copy:function(e,t){this.ema.fire("node.copy",t)},copyId:function(e,t){this.ema.fire("clipboard.copy",t.id)},saveName:function(e,t){if(t){var n=t._label;this.$delete(t,"renaming"),this.$delete(t,"_label"),t.label=n}},notSaveName:function(e,t){t&&(this.$delete(t,"renaming"),this.$delete(t,"_label"))},onCheckChange:function(e,t){if(e.lock)this.$message({type:"warning",message:"已被锁定，请先解锁"});else{var n=this.currentNode||{};if(e.id==n.key)return;this.notSaveName(n,n.data),this.currentNode=t,this.ema.fire("select.one",e.id)}},filterNode:function(e,t){return!e||-1!==(t.label||t.id).indexOf(e)},contextmenu:function(e,t,n,a){this.ema.fire("show.contextMenu",this.getComponentById(t.id),e)},search:function(){this.$refs["tree"].filter(this.filterText)},getComponentById:function(e){return window.$_nodecomponents[e]},bgClick:function(){this.ema.fire("hide.contextMenu")},lock:function(e,t,n){this.ema.fire("lock.node",t.id,n)},lock2:function(e,t,n){this.lockNode(t,n)},lockNode:function(e){var t=function e(t){for(var n=0;n<t.length;n++)t[n].lock=!0,t[n].child&&e(t[n].child)},n=function n(a){a=a||[];for(var i=0;i<a.length;i++){var o=a[i];o.id===e.id&&(o.lock=!0,o.child&&t(o.child)),o.child&&n(o.child)}};n([e]),this.$set(this.info,e)}},created:function(){},mounted:function(){var e=this,t=window.$comtree=this.$refs["tree"];this.ema.bind("select.one",function(n){n&&(t.getNode(n).data.lock?e.$message({type:"warning",message:"已被锁定，请先解锁"}):(t.setCurrentKey(n),e.currentNode=t.getNode(n)))}),this.ema.bind("edit-type.change",function(t){e.forbidEdit="EDITOR"!==t}),this.ema.bind("nodeInfo.replace",function(t){e.info=t}),this.ema.bind("select.noOne",function(){e.currentNode={}}),this.ema.bind("nodeInfo.change",function(){e.info=window.Editor.nodeInfo})}},gi=hi,bi=(n("012e"),Object(b["a"])(gi,mi,fi,!1,null,null,null)),vi=bi.exports,yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"CombinedComponents widget"},[a("div",{staticClass:"box-search"},[a("el-input",{staticClass:"searchInput",attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.loadData(1)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){t.stopPropagation(),e.loadData(1)}},slot:"append"})],1),a("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),a("div",{staticClass:"components"},[e._l(e.list,function(t,i){return a("el-card",{key:i,staticClass:"itemWarp",attrs:{shadow:"hover"}},[a("div",{staticClass:"n1"},[a("div",{staticClass:"img"},[t.icon?a("img",{attrs:{src:t.icon+"?x-oss-process=image/resize,w_120/crop,w_120,h_120"}}):a("img",{attrs:{src:n("9d64")}})]),a("h3",{staticClass:"label"},[e._v("\n          "+e._s(t.name)+"\n        ")])]),a("div",{staticClass:"n2"},[t.icon?a("img",{staticClass:"img",attrs:{src:t.icon+"?x-oss-process=image/resize,w_300/crop,w_300,h_300"}}):e._e(),a("div",{staticClass:"mask"}),a("div",{staticClass:"desc"},[e._v(e._s(t.desc||"该作者很懒，没有写详细描述。"))]),a("el-button",{staticClass:"btn",attrs:{type:"primary",round:"",size:"mini"},on:{click:function(n){e.install(t)}}},[e._v("使用")]),e.isMine(t)?a("el-button",{staticClass:"btn",attrs:{type:"danger",round:"",size:"mini"},on:{click:[function(n){n.stopPropagation(),e.remove(t)},function(n){e.install(t)}]}},[e._v("删除")]):e._e()],1)])}),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hasMore,expression:"hasMore"}],attrs:{type:"text"},on:{click:e.loadMore}},[e._v("加载更多")])],1)],2)])},wi=[],xi={mixins:[f["a"]],name:"CombinedComponents",components:{AssetsTags:ja},data:function(){return{list:[],selectedTags:[],hasMore:!0,categoryId:2,page:1,searchKey:"",pageSize:30}},computed:Object(se["mapState"])({App:function(e){return e.app}}),mounted:function(){var e=this;this.loadData(),this.ema.bind("combinedComponent.refresh",function(){e.loadData(1)})},methods:{loadData:function(e,t){var n=this;e>0&&(this.page=e,this.list=this.list.slice(0,this.pageSize*(e-1)));var a=this.selectedTags.map(function(e){return{id:e.id,name:e.name}});Object(A["a"])({url:"editor/resources/list",method:"post",needLoading:!1,data:{tags:a||[],name:this.searchKey||"",categoryId:this.categoryId,page:this.page,pageSize:this.pageSize}}).then(function(e){var a=e.data;a=a&&a.data;var i=a&&a.list||[];t?n.list=i:(n.list=n.list.concat(i),i.length<n.pageSize&&(n.hasMore=!1))})},loadMore:function(){this.page+=1,this.loadData()},install:function(e){var t=e.content;if(t){if(!window.$vue)return this.$alert("请先选中页面内的组件，再为其添加子组件");window.$vue.copyChild(t,{isJson:1,keepPos:1}),this.ema.fire("resource.use",e.id)}},isMine:function(e){var t=this.App.userInfo&&this.App.userInfo.userId;return e.userId==t},onTagSelect:function(e){this.selectedTags=e,this.loadData(1,!0)},remove:function(e){var t=this,n=e.id;n&&this.$confirm("确定要从组件库删除该组件吗？").then(function(){Object(A["a"])({url:"editor/resources/delete",method:"post",needLoading:!1,data:{id:n}}).then(function(e){e.data;t.$message({type:"info",message:"删除成功"}),setTimeout(function(){t.loadData(1)},500)})}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},ki=xi,_i=(n("5a79"),n("a97f"),Object(b["a"])(ki,yi,wi,!1,null,"24d7ec75",null)),Ci=_i.exports,$i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"script-editor widget"},[n("div",{staticClass:"box-search"},[n("el-input",{staticClass:"searchInput",attrs:{size:"mini",placeholder:"输入搜索关键字..."},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.loadData(1)}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[n("i",{staticClass:"el-icon-close el-input__icon",staticStyle:{color:"#999",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.searchKey=""}},slot:"suffix"}),n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){t.stopPropagation(),e.loadData(1)}},slot:"append"})],1),n("assets-tags",{attrs:{"assets-id":e.categoryId},on:{selectchange:e.onTagSelect}})],1),n("div",{staticClass:"components"},[n("div",{staticClass:"scripts-list",class:{fold:e.folded}},[e._l(e.scriptArray,function(t){return n("el-tag",{key:t.categoryId+"_"+t.id,staticClass:"addScriptWarp",staticStyle:{cursor:"pointer"},attrs:{type:"warning"}},[n("div",{attrs:{size:"mini"},on:{click:function(n){e.addScript(t)}}},[n("i",{staticClass:"iconfont icon-function"}),e._v("\n          "+e._s(t.name)+"\n        ")])])}),n("div",{staticClass:"toogle-more",on:{click:function(t){e.folded=!e.folded}}},[n("i",{staticClass:"el-icon-d-arrow-left"})])],2),n("div",{staticClass:"scriptWarp"},[e._l(e.array,function(t,a){return n("div",{key:t.name,staticClass:"script-item",attrs:{name:t.name},on:{click:function(n){e.editItem(t)}}},[n("div",{staticClass:"namewrap"},[e._v(e._s(t.name))]),n("div",{staticClass:"iconwarp"},[n("i",{staticClass:"iconfont icon-download",style:{transform:"rotate(180deg)"},attrs:{title:"保存到脚本库"},on:{click:function(n){n.stopPropagation(),e.saveTemplate(t)}}}),n("i",{staticClass:"iconfont icon-rename",attrs:{title:"重命名"},on:{click:function(n){n.stopPropagation(),e.renameItem(t)}}}),n("i",{staticClass:"iconfont el-icon-delete",attrs:{title:"删除"},on:{click:function(n){n.stopPropagation(),e.deleteItem(t)}}}),n("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":"14px"}})])])}),n("div",{staticClass:"add-script",on:{click:function(t){e.addScript()}}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 新建")])],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},Si=[],ji=n("2d7a");function Ei(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function Ii(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){Ei(o,a,i,s,r,"next",e)}function r(e){Ei(o,a,i,s,r,"throw",e)}s(void 0)})}}function Ti(e){return Ti="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(e)}var Ai={mixins:[f["a"]],name:"ScriptEditor",components:{AssetsTags:ja},props:{},data:function(){return{searchKey:"",selectedTags:[],categoryId:6,scriptArray:ji,info:null,activeNames:[],forbidEdit:!1,array:[],folded:!0,firstAdded:!1}},computed:{contents:function(){var e=this.info&&this.info.script||"";if(e instanceof Array){var t=e.filter(function(e){return e&&!Object(I["d"])(e.content)});t.length<e.length&&(e=t)}return e},id:function(){return this.info&&this.info.id||""},scriptIds:function(){return(this.array||[]).map(function(e){return e.id}).reverse()}},mounted:function(){var e=this;window.$vue&&this.onSelectOne(window.$vue),this.ema.bind("select.oneInfo",function(t){var n=t.vm;e.onSelectOne(n)}),this.ema.bind("edit-type.change",function(t){e.forbidEdit="EDITOR"!==t}),this.ema.bind("select.noOne",function(){e.info=null}),this.loadData()},methods:{onSelectOne:function(e){this.info=e.nodeInfo,this.firstAdded=!0},loadData:function(){var e=this,t=this.selectedTags.map(function(e){return{id:e.id,name:e.name}});Object(A["a"])({url:"editor/resources/list",method:"post",needLoading:!1,data:{tags:t||[],page:1,pageSize:1e3,categoryId:6,name:this.searchKey}}).then(function(t){var n=t.data;e.scriptArray=n.data.list||[]}).catch(function(){})},initData:function(e){this.array="string"==typeof e?e?[{name:"脚本1",content:e}]:[]:e},addScript:function(e){e?this.scriptIds.indexOf(e.id)>-1?this.$message({type:"error",message:"该脚本已经添加过，不可重复添加"}):(this.array.push({name:e.name,content:e.content,id:e.id}),this.ema.fire("resource.use",e.id)):(e={name:"未命名",content:"",id:Math.max(this.scriptIds[0]||0,65536)+1},this.array.push(e),this.editItem(e))},onTagSelect:function(e){this.selectedTags=e,this.loadData(1,!0)},deleteItem:function(e){var t=this;this.$confirm("确认删除该脚本?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.array.splice(t.array.indexOf(e),1),t.ema.fire("script.delete",{key:"".concat(t.id,"_").concat(e.id)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},editItem:function(e){var t=this;"$CodePanel"in window&&"object"===Ti(window.$CodePanel)?window.$CodePanel.openFile(e,{comId:this.id}):this.openDialog({name:"d-editScript",data:{content:e.content,name:e.name,runtimeOnly:e.runtimeOnly,categoryId:e.categoryId||this.categoryId},methods:{reloadScriptList:function(){t.loadScript(this.categoryId)},saveContent:function(n){var a=n.name,i=n.content,o=n.runtimeOnly;e.content=i,e.name=a,t.$set(e,"runtimeOnly",o)}}})},renameItem:function(e){var t=this;this.$prompt("输入脚本名称").then(function(n){var a=n.action,i=n.value;if("name"in e||t.$set(e,"name","未命名"),i=(i||"").trim(),!i||i.length<1)return t.$message("名称不能为空");"confirm"===a&&(e.name=i,t.ema.fire("script.rename",{key:"".concat(t.id,"_").concat(e.id),name:i}))}).catch(function(){return console.log("怂了")})},saveTemplate:function(){var e=Ii(u.a.mark(function e(t){var n,a=this;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.demoMode){e.next=2;break}return e.abrupt("return",this.$alert("您处在 demo 模式下，不能保存数据哦"));case 2:return e.next=4,this.$confirm("确定要将此脚本保存到脚本库中么，保存后可供下次使用（默认只对当前登陆用户可见，可至管理后台修改）。").catch(function(e){return!1});case 4:if(n=e.sent,n){e.next=7;break}return e.abrupt("return");case 7:Object(A["a"])({url:"editor/resources/save",method:"post",needLoading:!1,data:{categoryId:6,content:t.content,name:t.name,visibilitylevel:0}}).then(function(e){if(!e.data.data.id)throw new Error;a.$message({type:"success",message:"脚本保存成功"})}).catch(function(e){a.$message({type:"error",message:"脚本保存失败"})});case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),toogleRuntimeOnly:function(e){"runtimeOnly"in e||this.$set(e,"runtimeOnly",!1),e.runtimeOnly=!e.runtimeOnly}},watch:{active:function(e){this.active&&window.$vue&&this.onSelectOne(window.$vue)},contents:{deep:!0,handler:function(e){this.initData(e)}},array:{deep:!0,handler:function(e,t){this.info&&(this.info.script=this.array,this.ema.fire("component.reload",this.id))}}}},Ni=Ai,Oi=(n("c552"),n("a88b"),Object(b["a"])(Ni,$i,Si,!1,null,"34c305f0",null)),Pi=Oi.exports,Di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-animate widget"},[n("div",{staticClass:"content",attrs:{draggable:"false"}},[n("div",{staticClass:"left-slider"},[n("div",{staticClass:"a78"},[e._m(0,!1,!1),n("div",{staticClass:"aib"},[n("div",{staticClass:"aia"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重置时间",placement:"top"}},[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.resetTime}},[n("i",{staticClass:"icon el-icon-refresh"})])],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.isPlay?"暂停":"播放",placement:"top"}},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.play}},[e.isPlay?n("i",[e._v("暂停")]):n("i",{staticClass:"icon"},[e._v(" 播放")])])],1)],1)])]),n("div",{ref:"sliderNode",staticClass:"a7b",attrs:{"data-deselect-layers":"true"},on:{scroll:function(t){e.scroll(t,["scrollTop"])}}},[n("div",[e.rootNode?n("animate-layer-node",{attrs:{info:e.rootNode}}):e._e()],1)])]),n("div",{staticClass:"right-slider",on:{mousedown:e.mousedown,mouseup:e.mouseup,mousemove:e.mousemove}},[n("div",{staticClass:"cursor",style:{left:e.time/1e3*(e.timeSpace.length*e.timeSpace.num)-e.scrollLeft+"px"},on:{mousedown:e.timelineStart}},[n("div",{staticClass:"cum"},[n("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24"}},[n("g",[n("path",{attrs:{fill:"#faad14",d:"M9,4 L16,4 C17.1045695,4 18,4.8954305 18,6 L18,13.0070582 C18,14.3526183 17.4576726,15.6413868 16.4955882,16.5820916 L13,20 L12,20 L8.50441184,16.5820916 C7.5423274,15.6413868 7,14.3526183 7,13.0070582 L7,6 C7,4.8954305 7.8954305,4 9,4 Z"}}),n("g",{attrs:{transform:"translate(12.000000, 7.000000)",fill:"#FFFFFF","fill-opacity":"0.2"}},[n("rect",{attrs:{id:"Rectangle",x:"0",y:"0",width:"1",height:"1"}}),n("rect",{attrs:{id:"Rectangle",x:"0",y:"3",width:"1",height:"1"}}),n("rect",{attrs:{id:"Rectangle",x:"0",y:"6",width:"1",height:"1"}})])])])]),n("div",{staticClass:"cuk"},[e.cursorPos.time?n("div",{staticClass:"timetip"},[e._v(e._s(parseFloat(e.time/1e3).toFixed(2)+"s"))]):e._e()])]),n("div",{staticClass:"timeline"},[n("div",{staticClass:"aig",staticStyle:{left:"0px"}},[e._m(1,!1,!1),n("div",{ref:"timelineNav",staticClass:"aij",on:{scroll:function(t){e.scroll(t,["scrollLeft"])}}},[n("div",{style:{width:e.timeSpace.allTime*e.timeSpace.length*e.timeSpace.num+"px"}},[e._l(e.timeSpace.allTime,function(t){return e._l(e.timeSpace.num,function(a){return n("span",{key:t+"ail"+a,class:[1==a?"ail":"aik"],style:e.spaceStyle,attrs:{"data-unit":t-1}})})})],2)])])]),n("div",{ref:"timelineItem",staticClass:"nodeListWarp",on:{scroll:function(t){e.scroll(t,["scrollLeft","scrollTop"])}}},[n("div",{style:{width:e.timeSpace.allTime*e.timeSpace.length*e.timeSpace.num+"px"}},[e.rootNode?n("time-line-node",{attrs:{info:e.rootNode,"time-space":e.timeSpace}}):e._e()],1)])])]),n("div",{staticClass:"toolNav"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,size:"mini"}},[n("el-form-item",{attrs:{label:"总时间"}},[n("el-input",{staticStyle:{width:"60px"},attrs:{type:"number"},model:{value:e.timeSpace.allTime,callback:function(t){e.$set(e.timeSpace,"allTime",e._n(t))},expression:"timeSpace.allTime"}})],1),n("el-form-item",{attrs:{label:"刻度间隔"}},[n("el-input",{staticStyle:{width:"60px"},attrs:{type:"number"},model:{value:e.timeSpace.length,callback:function(t){e.$set(e.timeSpace,"length",e._n(t))},expression:"timeSpace.length"}})],1),n("el-form-item",{attrs:{label:"刻度数"}},[n("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini",label:"刻度数"},model:{value:e.timeSpace.num,callback:function(t){e.$set(e.timeSpace,"num",e._n(t))},expression:"timeSpace.num"}},[n("el-option",{attrs:{label:"10",value:10}}),n("el-option",{attrs:{label:"5",value:5}})],1)],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})])},Mi=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"a79"},[n("span",[e._v("图层")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aih"},[n("span",{staticClass:"aii"})])}],Li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"animateLayerNode"},[0!=e.level?n("div",{staticClass:"cellItem",class:{active:e.isActive},on:{click:e.selectOne}},[n("div",{staticClass:"label"},[n("div",{staticClass:"space",style:e.spaceStyle}),e._v("\n      "+e._s(e.info.label)+"\n    ")])]):e._e(),n("div",{staticClass:"ced"},[e._l(e.info.child,function(t){return n("animate-layer-node",{key:t.id,attrs:{info:t,level:e.level+1}})})],2)])},Fi=[],Bi={mixins:[yn,f["a"]],name:"animateLayerNode",props:{info:{required:!0,type:Object},level:{default:0}},data:function(){return{isActive:!1}},watch:{info:{deep:!0,handler:function(e){var t={};t=this.scope?x()(e):e,this.nodeInfo=t}}},computed:{spaceStyle:function(){return{width:10*this.level+"px"}}},beforeDestroy:function(){},mounted:function(){var e=this;this.isActive=window.$vue&&window.$vue.nodeInfo.id==this.info.id,this.ema.bind("select.one",function(t,n){t!=e.info.id?e.isActive=!1:e.isActive=!0}),this.ema.bind("select.noOne",function(){e.isActive=!1})},methods:{selectOne:function(){this.ema.fire("select.one",this.info.id)}}},Ri=Bi,zi=(n("a559"),Object(b["a"])(Ri,Li,Fi,!1,null,"8c78b0c8",null)),Hi=zi.exports,Gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timeLineNode"},[0!=e.level?n("div",{staticClass:"cellItem",class:{active:e.isActive},on:{click:e.selectOne,contextmenu:function(t){t.preventDefault(),t.stopPropagation(),e.showContextMenu(e.info,t)}}},[n("div",{staticClass:"cellItemWarp"},e._l(e.info.animate,function(t,a){return n("cell",{key:a,attrs:{animates:e.info.animate,info:t,"time-space":e.timeSpace}})})),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"插入动画",placement:"top"}},[null==e.info.animate||0==e.info.animate.length?n("i",{staticClass:"addFrame el-icon-circle-plus",on:{click:function(t){e.addFrame(t,e.info)}}}):e._e()])],1):e._e(),n("div",{staticClass:"ced"},[e._l(e.info.child,function(t){return[n("time-line-node",{key:t.id,attrs:{info:t,level:e.level+1,"time-space":e.timeSpace}})]})],2)])},Ui=[],Vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timeLineNodeCell",style:e.cellStyle,on:{click:function(e){e.stopPropagation()},mousedown:function(t){e.mousedown(t,"center")}}},[n("div",{staticClass:"timeLineNodeCellOne",style:e.oneCellStyle},[n("el-popover",{attrs:{placement:"top",width:"300",height:"400",value:e.showpicker,trigger:"click"}},[n("animate-picker",{attrs:{value:e.info.type,info:e.info,animates:e.animates}}),n("div",{staticClass:"cellItem",class:{active:e.isActive},attrs:{slot:"reference"},on:{click:function(t){t.stopPropagation(),e.selectOne(t)}},slot:"reference"},[e._v("\n      "+e._s(e.info.label||e.info.type||"无")),n("i",{staticClass:"el-icon-edit"})])],1),n("div",{staticClass:"presentation left",on:{click:function(e){e.stopPropagation()},mousedown:function(t){t.stopPropagation(),e.mousedown(t,"left")}}}),n("div",{staticClass:"presentation right",on:{click:function(e){e.stopPropagation()},mousedown:function(t){t.stopPropagation(),e.mousedown(t,"right")}}}),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向前插入动画",placement:"top"}},[n("i",{staticClass:"add left el-icon-circle-plus",on:{click:function(t){t.stopPropagation(),e.addFrame(0)}}})]),e.info.infinite?e._e():n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"向后插入动画",placement:"top"}},[n("i",{staticClass:"add right el-icon-circle-plus",on:{click:function(t){t.stopPropagation(),e.addFrame(1)}}})])],1)])},Wi=[],qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animatePicker"},[a("div",{staticClass:"tabsWarp"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.Metadata.Animate,function(t){return a("el-tab-pane",{key:t.value,attrs:{name:t.value,label:t.label||t.value}},[a("div",{staticClass:"itemWarp"},e._l(t.options,function(t){return a("div",{key:t.value,staticClass:"item",class:{active:e.isActive(t.value)},on:{click:function(n){e.selectOne(t.value)},mouseenter:function(n){e.preview(n,t,!0)},mouseleave:function(n){e.preview(n,t,!1)}}},[a("div",{staticClass:"icon"},[a("img",{attrs:{src:n("9d64")}})]),a("div",{staticClass:"label"},[e._v("\n          "+e._s(t.label||t.value)+"\n        ")])])}))])}),a("el-tab-pane",{key:"setting",attrs:{name:"设置",label:"设置"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-setting"})]),a("div",{staticClass:"itemWarp"},[a("el-form",{staticClass:"demo-ruleForm",attrs:{size:"mini","label-width":"80px"}},[a("el-form-item",{attrs:{label:"速度曲线",prop:"region"}},[a("el-select",{model:{value:e.info.timingFunction,callback:function(t){e.$set(e.info,"timingFunction",t)},expression:"info.timingFunction"}},e._l(e.Metadata.AnimationTimingFunction,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label||e.value}})}))],1),a("el-form-item",{attrs:{label:"无限循环",prop:"delivery"}},[a("el-switch",{attrs:{value:e.info.infinite},on:{change:e.infiniteChange}})],1),e.info.infinite?e._e():a("el-form-item",{attrs:{label:"循环次数",prop:"name"}},[a("el-input",{attrs:{type:"number"},model:{value:e.info.countNum,callback:function(t){e.$set(e.info,"countNum",t)},expression:"info.countNum"}})],1)],1)],1)])],2)],1),a("div",{staticClass:"toolNav"},[a("el-form",{staticClass:"ruleForm",attrs:{inline:!0,size:"mini","label-width":"80px"}},[a("el-form-item",{attrs:{label:"速度曲线",prop:"region"}},[a("el-select",{staticStyle:{width:"100px"},model:{value:e.info.timingFunction,callback:function(t){e.$set(e.info,"timingFunction",t)},expression:"info.timingFunction"}},e._l(e.Metadata.AnimationTimingFunction,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label||e.value}})}))],1)],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除动画",placement:"top"}},[a("i",{staticClass:"delete el-icon-delete",on:{click:e.deleteOne}})])],1)])},Ki=[],Xi={mixins:[yn,f["a"]],name:"timeLineNode",props:{value:{type:String,default:""},animates:{type:Array,default:function(){return[]}},info:{}},data:function(){return{activeName:"Attention Seekers",currentSelect:""}},watch:{},computed:{},beforeDestroy:function(){},mounted:function(){this.currentSelect=this.value},methods:{isActive:function(e){return this.currentSelect==e},infiniteChange:function(e){var t=this;1==e&&this.animates.indexOf(this.info)<this.animates.length-1?this.$confirm("开启无限循环，会删除该动画之后的动画效果","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"删除成功!"}),t.info.infinite=e,t.info.countNum=1,t.animates.splice(t.animates.indexOf(t.info)+1,t.animates.length)}).catch(function(){t.$message({type:"info",message:"已取消"})}):this.info.infinite=e},preview:function(e,t,n){n?(e.currentTarget.firstElementChild.style.animationName=t.value,e.currentTarget.firstElementChild.style.animationTimingFunction=this.info.timingFunction):(e.currentTarget.firstElementChild.style.animationTimingFunction="",e.currentTarget.firstElementChild.style.animationName="")},selectOne:function(e){this.currentSelect=e,this.info.type=e},deleteOne:function(){this.animates.splice(this.animates.indexOf(this.info),1),this.ema.fire("animate.cell.hideOtherPicker",null)}}},Yi=Xi,Ji=(n("ed84"),Object(b["a"])(Yi,qi,Ki,!1,null,"493824ad",null)),Zi=Ji.exports,Qi={mixins:[yn,f["a"]],name:"timeLineNode",components:{AnimatePicker:Zi},props:{info:{type:Object},animates:{type:Array,default:function(){return[]}},timeSpace:{type:Object,default:function(){return{num:5,length:18}}}},data:function(){return{showpicker:!1,isActive:!1,touchFlag:null,ismoved:!1,touchStart:{x:null,delay:null,duration:null}}},watch:{info:{deep:!0,handler:function(e,t){}}},computed:{cellStyle:function(){for(var e={marginLeft:(this.info.delay*(this.timeSpace.length*this.timeSpace.num)||0)+"px",width:this.info.duration*this.info.countNum*(this.timeSpace.num*this.timeSpace.length)+"px"},t=0,n=0;n<this.animates.length;n++){var a=this.animates[n];if(this.info===a)break;t+=a.duration*a.countNum+a.delay}return this.info.infinite&&(e.width=(this.timeSpace.allTime-t-this.info.delay)*(this.timeSpace.num*this.timeSpace.length)+"px"),e},oneCellStyle:function(){return{width:this.info.duration*(this.timeSpace.num*this.timeSpace.length)+"px"}}},beforeDestroy:function(){},mounted:function(){var e=this;this.ema.bind("animate.rightslider.movemove",function(t){e.touchFlag&&e.mousemove(t),e.ismoved=!1}),this.ema.bind("animate.rightslider.moveup",function(t){e.mouseup(t)}),this.ema.bind("animate.cell.hideOtherPicker",function(t){e.info!==t&&(e.showpicker=!1)})},methods:{mousedown:function(e,t){this.touchFlag=t,this.touchStart.x=e.x,this.touchStart.delay=this.info.delay||0,this.touchStart.duration=this.info.duration},mouseup:function(e,t){this.touchFlag=null,this.touchStart.x=null,this.touchStart.delay=null,this.touchStart.duration=null},mousemove:function(e){this.ismoved=!0;var t=e.x-this.touchStart.x,n=t/(this.timeSpace.num*this.timeSpace.length);"left"==this.touchFlag?(this.info.delay=Math.max(0,this.touchStart.delay+n),this.info.duration=Math.max(.5,this.touchStart.duration-n)):"right"==this.touchFlag?this.info.duration=Math.max(.5,this.touchStart.duration+n):"center"==this.touchFlag&&(this.info.delay=Math.max(0,this.touchStart.delay+n))},selectOne:function(e){this.ismoved||(this.showpicker=!this.showpicker,this.ismoved=!1),1==this.showpicker&&this.ema.fire("animate.cell.hideOtherPicker",this.info)},addFrame:function(e){var t=this.animates.indexOf(this.info);t+=e,t>=this.animates.length&&(t=this.animates.length),this.animates.splice(t,0,{type:"",duration:1,delay:0,countNum:1,infinite:!1})}}},eo=Qi,to=(n("ce3b"),Object(b["a"])(eo,Vi,Wi,!1,null,"52ea539f",null)),no=to.exports,ao={mixins:[yn,f["a"]],name:"timeLineNode",components:{Cell:no},props:{info:{required:!0,type:Object},level:{default:0},timeSpace:{type:Object,default:function(){return{num:5,length:18}}}},data:function(){return{isActive:!1,showAddFramePos:null}},watch:{info:{deep:!0,handler:function(e){var t={};t=this.scope?x()(e):e,this.nodeInfo=t}}},computed:{},beforeDestroy:function(){},mounted:function(){var e=this;this.isActive=window.$vue&&window.$vue.nodeInfo.id==this.info.id,this.ema.bind("select.one",function(t,n){t!=e.info.id?e.isActive=!1:e.isActive=!0}),this.ema.bind("select.noOne",function(){e.isActive=!1})},methods:{selectOne:function(){this.ema.fire("select.one",this.info.id)},timelineMousemove:function(e){},showContextMenu:function(e,t){this.showAddFramePos=t.offsetX},addFrame:function(e,t){t.animate.push({type:"",duration:1,delay:0,countNum:1,infinite:!1}),this.showAddFramePos=null}}},io=ao,oo=(n("80ea"),Object(b["a"])(io,Gi,Ui,!1,null,"89f7f86e",null)),so=oo.exports,ro={mixins:[f["a"]],name:"control",components:{AnimateLayerNode:Hi,TimeLineNode:so},props:{active:{type:[Number,Boolean],default:0}},data:function(){return{cursorPos:{time:null,startX:null},allNodeInfo:window.Editor.nodeInfo,time:0,timeSpace:{allTime:15,length:15,num:10},scrollLeft:0,scrollTop:0,isPlay:!1,forbidEdit:!1}},computed:{rootNode:function(){return this.allNodeInfo},spaceStyle:function(){return{"margin-right":"".concat(this.timeSpace.length-1,"px")}}},mounted:function(){var e=this;this.ema.bind("edit-type.change",function(t){e.forbidEdit="EDITOR"!==t})},watch:{scrollTop:function(e){this.$refs["sliderNode"].scrollTop=e,this.$refs["timelineItem"].scrollTop=e},scrollLeft:function(e){this.$refs["timelineNav"].scrollLeft=e,this.$refs["timelineItem"].scrollLeft=e}},filters:{animateFilter:function(e){var t=[];tt.Animate.forEach(function(e){t=t.concat(e.options)});var n=t.find(function(t){if(t.value==e)return!0});return n?n.label:e}},methods:{mousedown:function(e){this.ema.fire("animate.rightslider.movedown",e)},mousemove:function(e){this.ema.fire("animate.rightslider.movemove",e),this.timelineMove(e)},mouseup:function(e){this.ema.fire("animate.rightslider.moveup",e),this.timelineEnd(e)},timelineStart:function(e){this.cursorPos.startX=e.clientX,this.cursorPos.time=this.time,this.ema.fire("animate.timeline.move.start")},timelineMove:function(e){this.cursorPos.startX&&(this.time=this.cursorPos.time+(e.clientX-this.cursorPos.startX)/(this.timeSpace.length*this.timeSpace.num)*1e3,this.ema.fire("animate.timeline.move",(this.time/1e3).toFixed(2),this.timeSpace.allTime))},timelineEnd:function(e){this.cursorPos.startX=null,this.cursorPos.time=null,this.ema.fire("animate.timeline.move.end")},scroll:function(e,t){-1!=t.indexOf("scrollTop")&&(this.scrollTop=e.target.scrollTop),-1!=t.indexOf("scrollLeft")&&(this.scrollLeft=e.target.scrollLeft)},resetTime:function(){this.time=0},play:function(e){var t=this;this.isPlay?this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null,this.ema.fire("animate.timeline.move.end")):(this.ema.fire("animate.timeline.move.start"),this.timerInterval=setInterval(function(){t.time+=16,t.time>=1e3*t.timeSpace.allTime&&(clearInterval(t.timerInterval),t.time=0),t.ema.fire("animate.timeline.move",(t.time/1e3).toFixed(2),t.timeSpace.allTime)},16)),this.isPlay=!this.isPlay}}},co=ro,lo=(n("af18"),Object(b["a"])(co,Di,Mi,!1,null,"6b3c0354",null)),uo=lo.exports,po=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.pageInfo?n("div",{staticClass:"pageInfo widget"},[n("div",[e._v("发布地址")]),e.qrUrl?n("img",{staticClass:"qrcode",attrs:{src:e.qrUrl,alt:""}}):e._e(),n("div",{staticClass:"outLink"},[n("div",[e._v("\n      链接\n      "),n("i",{staticClass:"iconfont icon-link"}),e._v(" \n      "),n("a",{attrs:{target:"_blank",href:e.outUrl}},[e._v(e._s(e.outUrl))]),e._v(" \n      "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.copy(e.outUrl)}}},[e._v("拷贝")])],1),e.isYmm(e.outUrl)?n("div",[e._v("\n      短链\n      "),n("i",{staticClass:"iconfont icon-link"}),e._v(" \n      "),n("a",{attrs:{target:"_blank",href:e.outShortUrl}},[e._v(e._s(e.outShortUrl))]),e._v(" \n      "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.copy(e.outShortUrl)}}},[e._v("拷贝")])],1):e._e()]),n("el-form",{ref:"form",attrs:{"label-position":"left",size:"mini",model:e.pageInfo,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"页面名称"}},[n("el-input",{model:{value:e.pageInfo.title,callback:function(t){e.$set(e.pageInfo,"title",t)},expression:"pageInfo.title"}})],1),n("el-form-item",{attrs:{label:"页面uid"}},[n("el-input",{attrs:{disabled:""},model:{value:e.pageInfo.uid,callback:function(t){e.$set(e.pageInfo,"uid",t)},expression:"pageInfo.uid"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.savePage}},[e._v("保存修改")])],1)],1)],1):e._e()},mo=[],fo=n("f121"),ho=n.n(fo),go={mixins:[f["a"]],name:"WidgetPageInfo",components:{},data:function(){return{pageInfo:null,outShortUrl:""}},computed:{qrUrl:function(){var e=I["a"].parseURL(window.location.href),t=new Image;return t.src="".concat(ho.a.VIEW_PATH)+e.params.uid,"https://www.kuaizhan.com/common/encode-png?large=true&data="+encodeURIComponent(t.src)},outUrl:function(){var e=I["a"].parseURL(window.location.href),t=new Image;return t.src="".concat(ho.a.VIEW_PATH)+e.params.uid,t.src}},mounted:function(){this.pageInfo=window.Editor.pageInfo},methods:{copy:function(e){this.ema.fire("clipboard.copy",e)},savePage:function(e){window.Editor.savePage()},isYmm:function(e){return/ymm56\.com|ymmoa\.com/.test(e)}}},bo=go,vo=(n("8f36"),Object(b["a"])(bo,po,mo,!1,null,"6cbf2343",null)),yo=vo.exports,wo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[e.info?n("editor-advanced",{attrs:{"node-id":e.nodeId,info:e.info}}):n("i",{staticClass:"iconfont icon-nodata nodata"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forbidEdit,expression:"forbidEdit"}],staticClass:"forbid-edit-mask"})],1)},xo=[],ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[n("div",{staticClass:"style-tab tab"},[e.flutter?[n("div",{attrs:{label:"flutter 模式",name:"flutter"}},[n("editor-flutter",{attrs:{"node-id":e.nodeId,info:e.info}})],1)]:e._e(),e.flutter?e._e():["editer"==e.styleType?n("div",{attrs:{label:"设计模式",name:"base"}},[n("editor-base",{attrs:{"node-id":e.nodeId,info:e.info}})],1):e._e(),"code"==e.styleType?n("div",{staticClass:"cssEditorWarp",attrs:{label:"代码模式",name:"second",lazy:""}},[n("code-editor",{staticClass:"cssEditor",attrs:{ctype:"css",contents:e.cssCode},on:{"update:contents":function(t){e.cssCode=t}}}),n("el-button",{staticClass:"save",attrs:{type:"primary"},on:{click:e.saveCss}},[e._v("保存")])],1):e._e(),n("a",{staticClass:"codeBtn",on:{click:e.changeStyleType}},[e._v(" 打开"+e._s("editer"==e.styleType?"代码模式":"设计模式")+" ")])]],2)])},_o=[],Co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"内边距 Padding",name:"padding"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail1=!e.detail1}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["padding"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"padding",t)}}})],2),e.detail1?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("num",{attrs:{styleAttr:e.info["padding-top"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-top",t)}}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("num",{attrs:{styleAttr:e.info["padding-right"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-right",t)}}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("num",{attrs:{styleAttr:e.info["padding-bottom"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("num",{attrs:{styleAttr:e.info["padding-left"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-left",t)}}})],1)],1):e._e()],1)],1),n("el-collapse-item",{attrs:{title:"外边距 Margin",name:"margin"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail2=!e.detail2}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["margin"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"margin",t)}}})],2),e.detail2?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("num",{attrs:{styleAttr:e.info["margin-top"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-top",t)}}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("num",{attrs:{styleAttr:e.info["margin-right"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-right",t)}}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("num",{attrs:{styleAttr:e.info["margin-bottom"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("num",{attrs:{styleAttr:e.info["margin-left"],min:0,max:400},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-left",t)}}})],1)],1):e._e()],1)],1)],1)],1)},$o=[],So=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"sliderWarp"},[n("el-input",{staticClass:"input",attrs:{disabled:!e.canAdd,type:"number",size:"mini",placeholder:""},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}}),n("el-select",{staticClass:"nuit",attrs:{disabled:!e.canAdd,size:"mini",placeholder:"单位"},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}},[e.onlypx?e._e():e._l(e.Metadata.style.unit,function(e){return n("el-option",{key:e.value,attrs:{label:e.label||e.value,value:e.value}})}),e.onlypx?n("el-option",{attrs:{label:"px",value:"px"}}):e._e()],2),n("div",{staticClass:"style-lock",on:{click:function(t){e.canAdd=!e.canAdd}}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"启用",placement:"top"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:e.canAdd,expression:"canAdd"}],staticClass:"iconfont icon-unlock"})]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"禁用",placement:"top"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:!e.canAdd,expression:"!canAdd"}],staticClass:"iconfont icon-lock"})])],1)],1)])},jo=[],Eo={mixins:[f["a"]],name:"num",components:{},props:{styleAttr:{type:[String,Number]},min:{type:Number},max:{type:Number},step:{default:1,type:Number},onlypx:{default:!1,type:Boolean}},data:function(){return{canAdd:!0,value:0,unit:""}},watch:{styleAttr:{handler:function(e){e!==this.computedAttr&&this.parse(e)},immediate:!0},computedAttr:function(e){e!==this.styleAttr&&this.syncVal(e)}},computed:{computedAttr:function(){return this.canAdd?(this.onlypx&&(this.unit="px"),this.combine(this.value,this.unit)):null}},mounted:function(){},methods:{parse:function(e){return""===e?(this.value="",this.unit="",void(this.canAdd=!0)):Object(I["d"])(e)?(this.value=null,this.unit="",void(this.canAdd=!1)):/^-?0(?!\.)/.test(e)?(this.value=0,this.unit=String(e).replace(/^[-\d.]+/,"")||"",void(this.canAdd=!0)):/^[-\d.]/.test(e)?(this.value=parseFloat(e),this.unit=String(e).replace(/^[-\d.]+/,"")||"",void(this.canAdd=!0)):(this.value=e,this.unit="",void(this.canAdd=!0))},combine:function(e,t){var n=e;return""===e&&(n=""),Object(I["d"])(e)&&(n=null),/^-?[\d.]+$/.test(e)&&(n="".concat(e).concat(t||"")),n},syncVal:function(e){this.$emit("update:styleAttr",e)}}},Io=Eo,To=(n("063f"),Object(b["a"])(Io,So,jo,!1,null,"f5b5e07e",null)),Ao=To.exports,No={mixins:[f["a"]],name:"StyleLayout",components:{Num:Ao},props:{info:{required:!0,type:Object}},data:function(){return{activeNames:["margin","padding"],detail1:!1,detail2:!1}},methods:{handleClick:function(e,t){}}},Oo=No,Po=(n("df59"),Object(b["a"])(Oo,Co,$o,!1,null,"8faa6d74",null)),Do=Po.exports,Mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",{attrs:{label:"宽"}},[n("num",{attrs:{styleAttr:e.info.width,max:900},on:{"update:styleAttr":function(t){e.$set(e.info,"width",t)}}})],1),n("el-form-item",{attrs:{label:"高"}},[n("num",{attrs:{styleAttr:e.info.height},on:{"update:styleAttr":function(t){e.$set(e.info,"height",t)}}})],1),n("el-form-item",{attrs:{label:"溢出"}},[n("el-select",{attrs:{placeholder:"超出内容处理"},model:{value:e.info["overflow"],callback:function(t){e.$set(e.info,"overflow",t)},expression:"info['overflow']"}},e._l(e.Metadata.style.overflow,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])}))],1),n("el-form-item",{attrs:{label:"显示"}},[n("el-select",{attrs:{placeholder:"内部元素布局"},model:{value:e.info["display"],callback:function(t){e.$set(e.info,"display",t)},expression:"info['display']"}},e._l(e.Metadata.style.display,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"}})])}))],1)],1)],1)},Lo=[],Fo={mixins:[f["a"]],name:"StyleSize",components:{Num:Ao},props:{info:{required:!0,type:Object}},data:function(){return{}},mounted:function(){},methods:{handleClick:function(e,t){}}},Bo=Fo,Ro=(n("0388"),Object(b["a"])(Bo,Mo,Lo,!1,null,"415ea4d4",null)),zo=Ro.exports,Ho=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("div",{staticClass:"widget-outer"},[n("div",{attrs:{id:"upper"}},[n("div",{staticClass:"h-control-group layout horizontal center"},[n("el-checkbox",{staticClass:"checkbox",attrs:{tabindex:"-1",value:e.notEmpty(e.info.top),title:"是否对齐父节点顶边"},on:{change:function(t){e.handleCheckChange("top","bottom")}}},[e._v("上")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.top),expression:"notEmpty(info.top)"}],staticClass:"input top-input small",attrs:{size:"mini",tabindex:"-1",title:"本节点顶边和父节点顶边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 height 和百分比数值计算出距离"},model:{value:e.info.top,callback:function(t){e.$set(e.info,"top",t)},expression:"info.top"}})],1),n("div",{staticClass:"layout horizontal center"},[n("div",{staticClass:"v-control-group layout vertical end"},[n("el-checkbox",{staticClass:"v-checkbox",attrs:{tabindex:"-1",title:"是否对齐父节点左边",value:e.notEmpty(e.info.left)},on:{change:function(t){e.handleCheckChange("left","right")}}},[e._v("左")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.left),expression:"notEmpty(info.left)"}],staticClass:"input bottom-input small",attrs:{tabindex:"-1",size:"mini",title:"本节点左边和父节点左边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 width 和百分比数值计算出距离"},model:{value:e.info.left,callback:function(t){e.$set(e.info,"left",t)},expression:"info.left"}})],1),n("div",{staticClass:"content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.top),expression:"notEmpty(info.top)"}],staticStyle:{position:"absolute",height:"0px",width:"84px","border-width":"1px 0px 0px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",left:"0px",top:"12px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.left),expression:"notEmpty(info.left)"}],staticStyle:{position:"absolute",height:"84px",width:"0px","border-width":"0px 0px 0px 1px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",top:"0px",left:"12px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.right),expression:"notEmpty(info.right)"}],staticStyle:{position:"absolute",height:"84px",width:"0px","border-width":"0px 0px 0px 1px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",top:"0px",right:"12px"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.bottom),expression:"notEmpty(info.bottom)"}],staticStyle:{position:"absolute",height:"0px",width:"84px","border-width":"1px 0px 0px","border-style":"dashed","border-color":"rgb(165, 165, 165)","border-image":"initial",left:"0px",bottom:"12px"}}),n("div",{staticClass:"inContent"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.left),expression:"notEmpty(info.left)"}],staticClass:"left-arrow"},[n("div",{staticClass:"h-arrow-line"}),n("div",{staticClass:"arrow left"}),n("div",{staticClass:"arrow right"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.right),expression:"notEmpty(info.right)"}],staticClass:"right-arrow"},[n("div",{staticClass:"h-arrow-line"}),n("div",{staticClass:"arrow left"}),n("div",{staticClass:"arrow right"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.top),expression:"notEmpty(info.top)"}],staticClass:"top-arrow"},[n("div",{staticClass:"v-arrow-line"}),n("div",{staticClass:"arrow up"}),n("div",{staticClass:"arrow down"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.bottom),expression:"notEmpty(info.bottom)"}],staticClass:"bottom-arrow"},[n("div",{staticClass:"v-arrow-line"}),n("div",{staticClass:"arrow up"}),n("div",{staticClass:"arrow down"})])])]),n("div",{staticClass:"v-control-group layout vertical"},[n("el-checkbox",{staticClass:"v-checkbox",attrs:{tabindex:"-1",title:"是否对齐父节点右边",value:e.notEmpty(e.info.right)},on:{change:function(t){e.handleCheckChange("right","left")}}},[e._v("右")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.right),expression:"notEmpty(info.right)"}],staticClass:"input bottom-input small",attrs:{tabindex:"-1",size:"mini",title:"本节点右边和父节点右边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 width 和百分比数值计算出距离"},model:{value:e.info.right,callback:function(t){e.$set(e.info,"right",t)},expression:"info.right"}})],1)]),n("div",{staticClass:"h-control-group layout horizontal center"},[n("el-checkbox",{staticClass:"checkbox",attrs:{tabindex:"-1",value:e.notEmpty(e.info.bottom),title:"是否对齐父节点底边"},on:{change:function(t){e.handleCheckChange("bottom","top")}}},[e._v("下")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.notEmpty(e.info.bottom),expression:"notEmpty(info.bottom)"}],staticClass:"input right-input small",attrs:{size:"mini",tabindex:"-1",title:"本节点底边和父节点底边的距离，可输入负值，默认单位为像素（px），也可以输入百分比，根据父节点 height 和百分比数值计算出距离"},model:{value:e.info.bottom,callback:function(t){e.$set(e.info,"bottom",t)},expression:"info.bottom"}})],1)])]),n("el-form",{attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{"label-width":"190px",label:"固定在屏幕上"}},[n("el-switch",{model:{value:e.fixed,callback:function(t){e.fixed=t},expression:"fixed"}})],1)],1)],1)},Go=[],Uo={mixins:[f["a"]],name:"StyleSize",components:{},props:{info:{required:!0,type:Object}},data:function(){return{fixed:this.info&&"fixed"==this.info.position,top:this.notEmpty(this.info.top),left:this.notEmpty(this.info.left),right:this.notEmpty(this.info.right),bottom:this.notEmpty(this.info.bottom)}},computed:{},watch:{fixed:{handler:function(e,t){this.positionChange(e)},immediate:!0},info:{handler:function(e,t){this.makeFixed()},immediate:!0}},methods:{makeFixed:function(){this.fixed=this.info&&"fixed"==this.info.position},notEmpty:function(e){return null!=e&&""!=e},handleCheckChange:function(e,t){this.notEmpty(this.info[e])?(this.$delete(this.info,e),this.setOffset(t),"left"==e||"right"==e?this.setOffset("width"):"bottom"!=e&&"top"!=e||this.setOffset("height")):(this.setOffset(e),this.notEmpty(this.info[t])&&("left"==e||"right"==e?this.$delete(this.info,"width"):"bottom"!=e&&"top"!=e||this.$delete(this.info,"height")))},setOffset:function(e){var t=Object(I["c"])(window.$vue.$el);if("height"!=e&&"width"!=e){var n=null;if("fixed"==this.info.position?n=Object(I["c"])(document.querySelector("#stage")):window.$vue.$parent.nodeInfo&&(n=Object(I["c"])(window.$vue.$parent.$el)),n){var a=0;a=t[e]-n[e],this.$set(this.info,e,"".concat(a.toFixed(2),"px"))}}else this.$set(this.info,e,"".concat(Math.abs(t[e]).toFixed(2),"px"))},positionChange:function(e){var t=this;if((!window.$vue||!window.$vue.isRootNode)&&window.$vue){var n=Object(I["c"])(window.$vue.$el),a=Object(I["c"])(document.querySelector("#stage")),i=Object(I["c"])(window.$vue.$parent.$el),o=[];["left","right","top","bottom"].forEach(function(e){t.notEmpty(t.info[e])&&o.push(e)}),e?(this.info.position="fixed",i=a):this.info.position="absolute",o.forEach(function(e){var a=0;a=n[e]-i[e],t.$set(t.info,e,"".concat(a.toFixed(2),"px"))})}},handleClick:function(e,t){}}},Vo=Uo,Wo=(n("d42c"),Object(b["a"])(Vo,Ho,Go,!1,null,"7be05962",null)),qo=Wo.exports,Ko=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"宽度",name:"width"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail1=!e.detail1}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["border-width"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"border-width",t)}}})],2),e.detail1?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("num",{attrs:{styleAttr:e.info["border-top-width"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"border-top-width",t)}}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("num",{attrs:{styleAttr:e.info["border-right-width"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"border-right-width",t)}}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("num",{attrs:{styleAttr:e.info["border-bottom-width"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"border-bottom-width",t)}}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("num",{attrs:{styleAttr:e.info["border-left-width"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"border-left-width",t)}}})],1)],1):e._e()],1)],1),n("el-collapse-item",{attrs:{title:"样式",name:"style"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail2=!e.detail2}}},[e._v("展开")])]),n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-style"],callback:function(t){e.$set(e.info,"border-style",t)},expression:"info['border-style']"}},e._l(e.Metadata.style.borderStyle,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])}))],2),e.detail2?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-top-style"],callback:function(t){e.$set(e.info,"border-top-style",t)},expression:"info['border-top-style']"}},e._l(e.Metadata.style.borderStyle,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])}))],1),n("el-form-item",{attrs:{label:"右边:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-right-style"],callback:function(t){e.$set(e.info,"border-right-style",t)},expression:"info['border-right-style']"}},e._l(e.Metadata.style.borderStyle,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])}))],1),n("el-form-item",{attrs:{label:"底部:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-bottom-style"],callback:function(t){e.$set(e.info,"border-bottom-style",t)},expression:"info['border-bottom-style']"}},e._l(e.Metadata.style.borderStyle,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])}))],1),n("el-form-item",{attrs:{label:"左边:"}},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.info["border-left-style"],callback:function(t){e.$set(e.info,"border-left-style",t)},expression:"info['border-left-style']"}},e._l(e.Metadata.style.borderStyle,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])}))],1)],1):e._e()],1)],1),n("el-collapse-item",{attrs:{title:"颜色",name:"color"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail3=!e.detail3}}},[e._v("展开")])]),n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-color"],callback:function(t){e.$set(e.info,"border-color",t)},expression:"info['border-color']"}})],2),e.detail3?n("div",[n("el-form-item",{attrs:{label:"顶部:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-top-color"],callback:function(t){e.$set(e.info,"border-top-color",t)},expression:"info['border-top-color']"}})],1),n("el-form-item",{attrs:{label:"右边:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-right-color"],callback:function(t){e.$set(e.info,"border-right-color",t)},expression:"info['border-right-color']"}})],1),n("el-form-item",{attrs:{label:"底部:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-bottom-color"],callback:function(t){e.$set(e.info,"border-bottom-color",t)},expression:"info['border-bottom-color']"}})],1),n("el-form-item",{attrs:{label:"左边:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-left-color"],callback:function(t){e.$set(e.info,"border-left-color",t)},expression:"info['border-left-color']"}})],1)],1):e._e()],1)],1)],1)],1)},Xo=[],Yo={mixins:[f["a"]],name:"StyleBorder",components:{Num:Ao,YColorPicker:ti},props:{info:{required:!0,type:Object}},data:function(){return{activeNames:["width","color","style"],detail1:!1,detail2:!1,detail3:!1}},methods:{handleClick:function(e,t){}}},Jo=Yo,Zo=(n("b4ac"),Object(b["a"])(Jo,Ko,Xo,!1,null,"a4ebddce",null)),Qo=Zo.exports,es=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",[e._t("label",[n("span",{staticClass:"openDetail",on:{click:function(t){e.detail1=!e.detail1}}},[e._v("展开")])]),n("num",{attrs:{styleAttr:e.info["border-radius"],max:100},on:{"update:styleAttr":function(t){e.$set(e.info,"border-radius",t)}}})],2),e.detail1?n("div",[n("el-form-item",{attrs:{label:"左上角:"}},[n("num",{attrs:{styleAttr:e.info["border-top-left-radius"],max:100},on:{"update:styleAttr":function(t){e.$set(e.info,"border-top-left-radius",t)}}})],1),n("el-form-item",{attrs:{label:"右上角:"}},[n("num",{attrs:{styleAttr:e.info["border-top-right-radius"],max:100},on:{"update:styleAttr":function(t){e.$set(e.info,"border-top-right-radius",t)}}})],1),n("el-form-item",{attrs:{label:"右下角:"}},[n("num",{attrs:{styleAttr:e.info["border-bottom-right-radius"],max:100},on:{"update:styleAttr":function(t){e.$set(e.info,"border-bottom-right-radius",t)}}})],1),n("el-form-item",{attrs:{label:"左下角:"}},[n("num",{attrs:{styleAttr:e.info["border-bottom-left-radius"],max:100},on:{"update:styleAttr":function(t){e.$set(e.info,"border-bottom-left-radius",t)}}})],1)],1):e._e()],1)],1)},ts=[],ns={mixins:[f["a"]],name:"StyleRadius",components:{Num:Ao},props:{info:{required:!0,type:Object}},data:function(){return{detail1:!1}},methods:{handleClick:function(e,t){}}},as=ns,is=(n("3619"),Object(b["a"])(as,es,ts,!1,null,"6b95d0ba",null)),os=is.exports,ss=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"50px",model:e.info}},[n("el-form-item",{attrs:{label:"字体:"}},[n("el-select",{attrs:{placeholder:"字体"},model:{value:e.info["font-family"],callback:function(t){e.$set(e.info,"font-family",t)},expression:"info['font-family']"}},e._l(e.Metadata.style.fontFamily,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"}})])}))],1),n("el-form-item",{attrs:{label:"对齐:"}},[n("el-select",{attrs:{placeholder:"对齐方式"},model:{value:e.info["text-align"],callback:function(t){e.$set(e.info,"text-align",t)},expression:"info['text-align']"}},e._l(e.Metadata.style.textAlign,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"}})])}))],1),n("el-form-item",{attrs:{label:"加粗:"}},[n("el-select",{attrs:{placeholder:"加粗大小"},model:{value:e.info["font-weight"],callback:function(t){e.$set(e.info,"font-weight",t)},expression:"info['font-weight']"}},e._l(e.Metadata.style.fontWeight,function(e){return n("el-option",{key:e.value,attrs:{label:e.desc||e.value,value:e.value,title:e.desc}})}))],1),n("el-form-item",{attrs:{label:"字号:"}},[n("num",{attrs:{styleAttr:e.info["font-size"],min:10,max:100},on:{"update:styleAttr":function(t){e.$set(e.info,"font-size",t)}}})],1),n("el-form-item",{attrs:{label:"行高:"}},[n("num",{attrs:{styleAttr:e.info["line-height"],max:100},on:{"update:styleAttr":function(t){e.$set(e.info,"line-height",t)}}})],1),n("el-form-item",{attrs:{label:"颜色:"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["color"],callback:function(t){e.$set(e.info,"color",t)},expression:"info['color']"}})],1)],1)],1)},rs=[],cs={mixins:[f["a"]],name:"StyleText",components:{Num:Ao,YColorPicker:ti},props:{info:{required:!0,type:Object}},data:function(){return{}},methods:{handleClick:function(e,t){}}},ls=cs,ds=(n("8f22"),Object(b["a"])(ls,ss,rs,!1,null,"3e2e8d84",null)),us=ds.exports,ps=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditorWarp"},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"70px",model:e.info}},[n("el-form-item",{attrs:{label:"图片"}},[n("resource",{attrs:{type:"image",url:e.backgroundImage},on:{"update:url":function(t){e.backgroundImage=t}}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.backgroundImage,expression:"backgroundImage"}],attrs:{label:"填充"}},[n("el-select",{attrs:{placeholder:"填充方式"},model:{value:e.backgroundFill,callback:function(t){e.backgroundFill=t},expression:"backgroundFill"}},e._l(e.Metadata.style.backgroundFill,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])}))],1),n("el-form-item",{attrs:{label:"颜色"}},[n("y-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["background-color"],callback:function(t){e.$set(e.info,"background-color",t)},expression:"info['background-color']"}})],1)],1)],1)},ms=[],fs={mixins:[f["a"]],name:"StyleBackground",components:{Resource:Zt,YColorPicker:ti},props:{info:{required:!0,type:Object}},data:function(){return{backgroundFill:""}},watch:{info:function(){this.backgroundFill=""},backgroundFill:function(e,t){e&&this.transferFillToCss(e)}},computed:{backgroundImage:{get:function(){var e=this.info["background-image"];return e?e.replace(/url\(['"\s]*(.+?)['"\s]*\)/,"$1"):""},set:function(e){e?this.$set(this.info,"background-image","url('".concat(e,"')")):this.$set(this.info,"background-image",null)}}},methods:{colorChange:function(e){"transparent"==e&&(e="rgba(0, 0, 0, 0)"),this.info["background-color"]=e},transferFillToCss:function(e){var t=this.resetBg();switch(e){case"repeat":t["background-repeat"]="repeat";break;case"repeat-x":t["background-repeat"]="repeat-x",t["background-size"]="auto 100%";break;case"repeat-y":t["background-repeat"]="repeat-y",t["background-size"]="100% auto";break;case"contain":t["background-size"]="contain";break;case"center":t["background-size"]="contain",t["background-position"]="center center";break;case"cover":t["background-size"]="cover",t["background-position"]="center center";break;case"stretch":t["background-size"]="100% 100%",t["background-position"]="0 0";break}this.$reactiveSet(this.info,t)},resetBg:function(){var e={},t=["background-position-x","background-position-y","background-size-x","background-size-y"];return this.$reactiveDelete(this.info,t),e["background-repeat"]="no-repeat",e["background-position"]="0 0",e["background-size"]="auto auto",e}}},hs=fs,gs=(n("dda0"),Object(b["a"])(hs,ps,ms,!1,null,"1c8f17ee",null)),bs=gs.exports,vs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"大小位置",name:"size"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"宽"}},[n("num",{attrs:{styleAttr:e.info.width,max:900},on:{"update:styleAttr":function(t){e.$set(e.info,"width",t)}}})],1),n("el-form-item",{attrs:{label:"高"}},[n("num",{attrs:{styleAttr:e.info.height},on:{"update:styleAttr":function(t){e.$set(e.info,"height",t)}}})],1),e.isShowPosiition?n("editor-position",{attrs:{info:e.info}}):e._e(),n("el-form-item",{attrs:{label:"透明度"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:1,step:.1},model:{value:e.info.opacity,callback:function(t){e.$set(e.info,"opacity",e._n(t))},expression:"info.opacity"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:.1,max:1,step:.1,size:"mini",placeholder:"0-1"},model:{value:e.info.opacity,callback:function(t){e.$set(e.info,"opacity",e._n(t))},expression:"info.opacity"}})],1)])],1)],1),n("el-collapse-item",{attrs:{title:"对齐",name:"align"}},[n("align",{attrs:{info:e.info}})],1),n("el-collapse-item",{attrs:{title:"背景",name:"background"}},[n("editor-background",{attrs:{info:e.info}})],1),n("el-collapse-item",{attrs:{title:"边框",name:"border"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"样式"}},[n("div",{staticClass:"sliderWarp"},[n("el-select",{attrs:{placeholder:"边框类型"},model:{value:e.style.borderStyle,callback:function(t){e.$set(e.style,"borderStyle",t)},expression:"style.borderStyle"}},e._l(e.Metadata.style.borderStyle,function(t){return n("el-option",{key:t.value,attrs:{label:t.label||t.value,value:t.value,title:t.desc}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label||t.value))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t.desc}})])})),n("el-color-picker",{attrs:{"show-alpha":""},on:{"active-change":e.colorChange},model:{value:e.info["border-color"],callback:function(t){e.$set(e.info,"border-color",t)},expression:"info['border-color']"}})],1)]),n("el-form-item",{attrs:{label:"宽度"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:50,step:1},model:{value:e.style.borderWidth,callback:function(t){e.$set(e.style,"borderWidth",e._n(t))},expression:"style.borderWidth"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:50,step:1,size:"mini",placeholder:"0-50"},model:{value:e.style.borderWidth,callback:function(t){e.$set(e.style,"borderWidth",e._n(t))},expression:"style.borderWidth"}})],1)]),n("el-form-item",{attrs:{label:"圆角"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:25,step:1},model:{value:e.style.borderRadius,callback:function(t){e.$set(e.style,"borderRadius",e._n(t))},expression:"style.borderRadius"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:25,step:1,size:"mini",placeholder:"0-25"},model:{value:e.style.borderRadius,callback:function(t){e.$set(e.style,"borderRadius",e._n(t))},expression:"style.borderRadius"}})],1)])],1)],1),n("el-collapse-item",{attrs:{title:"阴影",name:"boxShadow"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"阴影大小"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:150,step:1},model:{value:e.boxShadow.shadow,callback:function(t){e.$set(e.boxShadow,"shadow",e._n(t))},expression:"boxShadow.shadow"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:150,step:1,size:"mini",placeholder:"0-25"},model:{value:e.boxShadow.shadow,callback:function(t){e.$set(e.boxShadow,"shadow",e._n(t))},expression:"boxShadow.shadow"}})],1)]),n("el-form-item",{attrs:{label:"阴影模糊"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:150,step:1},model:{value:e.boxShadow.blur,callback:function(t){e.$set(e.boxShadow,"blur",e._n(t))},expression:"boxShadow.blur"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:150,step:1,size:"mini",placeholder:"0-25"},model:{value:e.boxShadow.blur,callback:function(t){e.$set(e.boxShadow,"blur",e._n(t))},expression:"boxShadow.blur"}})],1)]),n("el-form-item",{attrs:{label:"阴影方向"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:359,step:10},model:{value:e.boxShadow.angle,callback:function(t){e.$set(e.boxShadow,"angle",e._n(t))},expression:"boxShadow.angle"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:359,step:1,size:"mini",placeholder:"0-359"},model:{value:e.boxShadow.angle,callback:function(t){e.$set(e.boxShadow,"angle",e._n(t))},expression:"boxShadow.angle"}})],1)]),n("el-form-item",{attrs:{label:"阴影颜色"}},[n("el-color-picker",{attrs:{"show-alpha":""},on:{"active-change":e.colorChange},model:{value:e.boxShadow.color,callback:function(t){e.$set(e.boxShadow,"color",t)},expression:"boxShadow.color"}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"内外边距",name:"margin"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"内边距"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:25,step:1},model:{value:e.style.padding,callback:function(t){e.$set(e.style,"padding",e._n(t))},expression:"style.padding"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:25,step:1,size:"mini",placeholder:"0-25"},model:{value:e.style.padding,callback:function(t){e.$set(e.style,"padding",e._n(t))},expression:"style.padding"}})],1)]),e.fixedOrAbsolute?e._e():n("el-form-item",{attrs:{label:"外边距"}},[n("div",{staticClass:"sliderWarp"},[n("el-slider",{staticClass:"slider",attrs:{size:"mini",min:0,max:25,step:1},model:{value:e.style.margin,callback:function(t){e.$set(e.style,"margin",e._n(t))},expression:"style.margin"}}),n("el-input",{staticClass:"input",attrs:{type:"number",min:0,max:25,step:1,size:"mini",placeholder:"0-25"},model:{value:e.style.margin,callback:function(t){e.$set(e.style,"margin",e._n(t))},expression:"style.margin"}})],1)])],1)],1)],1)],1)},ys=[],ws={mixins:[f["a"]],name:"BaseStyleEditor",components:{Num:Ao,EditorBackground:bs,Align:ua,EditorPosition:qo},props:{info:{required:!0,type:Object},nodeId:{type:String}},data:function(){return{isShowPosiition:!1,activeNames:["size","border","align","background","border","boxShadow","margin","text"],style:{borderStyle:"none",borderWidth:0,borderRadius:0,margin:0,padding:0},boxShadow:{shadow:0,blur:0,angle:0,color:"rgba(0,0,0,1)"}}},computed:{fixedOrAbsolute:function(){return!(!this.info.position||"fixed"!=this.info.position&&"absolute"!=this.info.position)}},watch:{style:{deep:!0,handler:function(e){""===e.borderWidth&&(e.borderWidth=0),""===e.borderRadius&&(e.borderRadius=0),""===e.margin&&(e.margin=0),""===e.padding&&(e.padding=0),this.$set(this.info,"border-width","".concat(e.borderWidth,"px")),this.$set(this.info,"border-style","".concat(e.borderStyle)),this.$set(this.info,"border-radius","".concat(e.borderRadius,"px")),this.$set(this.info,"margin","".concat(e.margin,"px")),this.$set(this.info,"padding","".concat(e.padding,"px"))}},boxShadow:{deep:!0,handler:function(e){var t,n,a=e.shadow,i=e.angle;""===i&&(e.angle=0),""===a&&(e.shadow=0),""===e.blur&&(e.blur=0);var o=function(e){return 2*Math.PI/360*e};0==i?(t=0,n=a):i>0&&i<90?(t=-parseInt(Math.sin(o(i))*a),n=parseInt(Math.sin(o(90-i))*a)):90==i?(t=-a,n=0):i>90&&i<180?(t=-parseInt(Math.sin(o(180-i))*a),n=-parseInt(Math.sin(o(i-90))*a)):180==i?(t=0,n=-a):i>180&&i<270?(t=parseInt(Math.sin(o(i-180))*a),n=-parseInt(Math.sin(o(270-i))*a)):270==i?(t=a,n=0):i>270&&i<360&&(t=parseInt(Math.sin(o(360-i))*a),n=parseInt(Math.sin(o(i-270))*a)),this.$set(this.info,"box-shadow","".concat(e.color," ").concat(t,"px ").concat(n,"px ").concat(e.blur,"px"))}},info:{deep:!0,handler:function(e,t){""===e.opacity&&(e.opacity=0),this.isShowPosiition=window.$vue&&!window.$vue.isRootNode&&this.fixedOrAbsolute,this.makeCssCode()},immediate:!0}},mounted:function(){this.isShowPosiition=window.$vue&&!window.$vue.isRootNode&&this.fixedOrAbsolute,this.style={borderWidth:this.info["border-width"]?parseFloat(this.info["border-width"]):0,borderRadius:this.info["border-radius"]?parseFloat(this.info["border-radius"]):0,borderStyle:this.info["border-style"]?this.info["border-style"]:"none",margin:this.info["margin"]?parseFloat(this.info["margin"]):0,padding:this.info["padding"]?parseFloat(this.info["padding"]):0}},methods:{makeCssCode:function(){var e=[];if(this.info){var t=Object(I["d"])(this.info.opacity)?1:Number(this.info.opacity);for(var n in this.$set(this.info,"opacity",t),this.info)if(this.info.hasOwnProperty(n)&&"bakedPosition"!=n){var a=this.info[n];a&&e.push("".concat(n," : ").concat(a,";"))}e=e.sort(function(e,t){return e.key>t.key}),e=e.join("\n    ")}else e="";this.cssCode=".in{\n    ".concat(e,"\n}")},saveCss:function(e,t){var n={},a=this.cssCode;a=a.match(/.*\n/gi)||[],a.forEach(function(e){var t=e.split(/:(?!\/\/)/);if(2==t.length){var a=t[0].trim(),i=t[1].trim().replace(/;$/,"");"null"!==i&&(n[a]=i)}}),this.$emit("update:info",n)},colorChange:function(e,t){this.$set(this.info,"border-color",e)}}},xs=ws,ks=(n("bd37"),Object(b["a"])(xs,vs,ys,!1,null,"32e5ca78",null)),_s=ks.exports,Cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styleEditor"},[n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"大小",name:"size"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"宽"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.width,max:900},on:{"update:styleAttr":function(t){e.$set(e.info,"width",t)}}})],1),n("el-form-item",{attrs:{label:"高"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.height},on:{"update:styleAttr":function(t){e.$set(e.info,"height",t)}}})],1),n("el-form-item",{attrs:{label:"最大宽度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["max-width"],max:900},on:{"update:styleAttr":function(t){e.$set(e.info,"max-width",t)}}})],1),n("el-form-item",{attrs:{label:"最大高度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["max-height"]},on:{"update:styleAttr":function(t){e.$set(e.info,"max-height",t)}}})],1),n("el-form-item",{attrs:{label:"最小宽度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["min-width"],max:900},on:{"update:styleAttr":function(t){e.$set(e.info,"min-width",t)}}})],1),n("el-form-item",{attrs:{label:"最小高度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["min-height"]},on:{"update:styleAttr":function(t){e.$set(e.info,"min-height",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"位置",name:"position"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"模式"}},[n("el-select",{attrs:{placeholder:"定位类型"},model:{value:e.info.position,callback:function(t){e.$set(e.info,"position",t)},expression:"info.position"}},e._l(["relative","absolute"],function(t){return n("el-option",{key:t,attrs:{label:t,value:t,title:t}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t))]),n("a",{staticClass:"iconfont icon-info-light",staticStyle:{float:"right","font-size":"13px"},attrs:{title:t}})])}))],1),n("el-form-item",{attrs:{label:"left"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.left},on:{"update:styleAttr":function(t){e.$set(e.info,"left",t)}}})],1),n("el-form-item",{attrs:{label:"top"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.top,max:900},on:{"update:styleAttr":function(t){e.$set(e.info,"top",t)}}})],1),n("el-form-item",{attrs:{label:"right"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.right},on:{"update:styleAttr":function(t){e.$set(e.info,"right",t)}}})],1),n("el-form-item",{attrs:{label:"bottom"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info.bottom},on:{"update:styleAttr":function(t){e.$set(e.info,"bottom",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"背景",name:"background"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"图片"}},[n("resource",{attrs:{type:"image",url:e.backgroundImage},on:{"update:url":function(t){e.backgroundImage=t}}})],1),n("el-form-item",{attrs:{label:"颜色"}},[n("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["background-color"],callback:function(t){e.$set(e.info,"background-color",t)},expression:"info['background-color']"}})],1),e.backgroundImage?[n("el-form-item",{attrs:{label:"repeat"}},[n("el-select",{model:{value:e.info["background-repeat"],callback:function(t){e.$set(e.info,"background-repeat",t)},expression:"info['background-repeat']"}},e._l(e.backgroundRepeat,function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})}))],1),n("el-form-item",{attrs:{label:"size"}},[n("el-select",{model:{value:e.info["background-size"],callback:function(t){e.$set(e.info,"background-size",t)},expression:"info['background-size']"}},e._l(e.backgroundSize,function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})}))],1),n("el-form-item",{attrs:{label:"position"}},[n("el-select",{model:{value:e.info["background-position"],callback:function(t){e.$set(e.info,"background-position",t)},expression:"info['background-position']"}},e._l(e.backgroundPosition,function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})}))],1)]:e._e()],2)],1),n("el-collapse-item",{attrs:{title:"内边距",name:"padding"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"top"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-top"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-top",t)}}})],1),n("el-form-item",{attrs:{label:"right"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-right"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-right",t)}}})],1),n("el-form-item",{attrs:{label:"bottom"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-bottom"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"left"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["padding-left"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"padding-left",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"外边距",name:"margin"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"top"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-top"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-top",t)}}})],1),n("el-form-item",{attrs:{label:"right"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-right"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-right",t)}}})],1),n("el-form-item",{attrs:{label:"bottom"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-bottom"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-bottom",t)}}})],1),n("el-form-item",{attrs:{label:"left"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["margin-left"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"margin-left",t)}}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"边框",name:"border"}},[n("el-form",{attrs:{size:"mini","label-position":"left","label-width":"80px",model:e.info}},[n("el-form-item",{attrs:{label:"宽度"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["border-width"],min:0,max:50},on:{"update:styleAttr":function(t){e.$set(e.info,"border-width",t)}}})],1),n("el-form-item",{attrs:{label:"样式"}},[n("el-select",{attrs:{placeholder:"边框样式"},model:{value:e.info["border-style"],callback:function(t){e.$set(e.info,"border-style",t)},expression:"info['border-style']"}},e._l(e.borderStyle,function(e){return n("el-option",{key:e.val,attrs:{label:e.desc,value:e.val}})}))],1),n("el-form-item",{attrs:{label:"颜色"}},[n("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.info["border-color"],callback:function(t){e.$set(e.info,"border-color",t)},expression:"info['border-color']"}})],1),n("el-form-item",{attrs:{label:"圆角"}},[n("num",{attrs:{onlypx:"",styleAttr:e.info["border-radius"],max:500},on:{"update:styleAttr":function(t){e.$set(e.info,"border-radius",t)}}})],1)],1)],1)],1)],1)},$s=[],Ss={backgroundSize:[{val:"contain",desc:"contain"},{val:"cover",desc:"cover"},{val:"none",desc:"none"},{val:"scaleDown",desc:"scaleDown"},{val:"100% 100%",desc:"fill"},{val:"100% auto",desc:"fitWidth"},{val:"auto 100%",desc:"fitHeight"}],backgroundRepeat:[{val:"repeat",desc:"repeat"},{val:"repeat-x",desc:"repeat-x"},{val:"repeat-y",desc:"repeat-y"},{val:"no-repeat",desc:"no-repeat"}],backgroundPosition:[{val:"left top",desc:"left top"},{val:"center top",desc:"center top"},{val:"right top",desc:"right top"},{val:"left center",desc:"left center"},{val:"center",desc:"center"},{val:"center center",desc:"center center"},{val:"right center",desc:"right center"},{val:"left bottom",desc:"left bottom"},{val:"center bottom",desc:"center bottom"},{val:"right bottom",desc:"right bottom"}],borderStyle:[{val:"solid",desc:"solid"},{val:"none",desc:"none"}]},js={mixins:[f["a"]],name:"BaseStyleEditor",components:{Num:Ao,Resource:Zt},props:{info:{required:!0,type:Object},nodeId:{type:String}},data:function(){return{activeNames:["size","position","border","align","background","border","padding","margin","text"],backgroundSize:Ss.backgroundSize,backgroundRepeat:Ss.backgroundRepeat,backgroundPosition:Ss.backgroundPosition,borderStyle:Ss.borderStyle}},computed:{backgroundImage:{get:function(){var e=this.info["background-image"];return e?e.replace(/url\(['"\s]*(.+?)['"\s]*\)/,"$1"):null},set:function(e){e?this.$set(this.info,"background-image","url('".concat(e,"')")):this.$set(this.info,"background-image",null)}}},watch:{},mounted:function(){},methods:{}},Es=js,Is=(n("17f5"),Object(b["a"])(Es,Cs,$s,!1,null,"7412befb",null)),Ts=Is.exports,As={mixins:[f["a"]],name:"AdvancedStyleEditor",components:{EditorBase:_s,EditorFlutter:Ts,EditorLayout:Do,EditorSize:zo,EditorPosition:qo,EditorBorder:Qo,EditorRadius:os,EditorText:us,EditorBackground:bs,CodeEditor:Tt["a"],Align:ua},props:{info:{required:!0,type:Object},nodeId:{type:String}},data:function(){return{activeName:"base",styleType:"editer",cssCode:"",lists:[{label:"对齐",component:"Align"},{label:"宽高",component:"EditorSize"},{label:"定位",component:"EditorPosition"},{label:"内外边距",component:"EditorLayout"},{label:"边框",component:"EditorBorder"},{label:"圆角",component:"EditorRadius"},{label:"背景",component:"EditorBackground"},{label:"文字样式",component:"EditorText"}],currentPage:"",activeNames:[0,1,2,3,4,5,6]}},computed:{flutter:function(){return 1==this.$store.state.viewOption.pageType}},watch:{flutter:{handler:function(e){this.activeName=e?"flutter":"base"},immediate:!0},info:{deep:!0,handler:function(e,t){var n=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(e){n.makeCssCode()},0)}}},mounted:function(){this.styleType=window.localStorage.getItem("styleEditerType")||"editer",this.makeCssCode()},methods:{changeStyleType:function(){"editer"==this.styleType?this.styleType="code":this.styleType="editer",window.localStorage.setItem("styleEditerType",this.styleType)},makeCssCode:function(){var e=[];if(this.info){for(var t in this.info)if(this.info.hasOwnProperty(t)){var n=this.info[t];n&&e.push("".concat(t," : ").concat(n,";"))}e=e.sort(function(e,t){return e.key>t.key}),e=e.join("\n    ")}else e="";this.cssCode=".in{\n    ".concat(e,"\n}")},saveCss:function(e,t){var n={},a=this.cssCode;for(var i in a=a.match(/.*\n/gi)||[],a.forEach(function(e){var t=e.split(/:(?!\/\/)/);if(2==t.length){var a=t[0].trim(),i=t[1].trim().replace(/;$/,"");"null"!==i&&(n[a]=i)}}),this.info)n[i]||this.$delete(this.info,i);for(var o in n)this.$set(this.info,o,n[o])}}},Ns=As,Os=(n("64d9"),Object(b["a"])(Ns,ko,_o,!1,null,"3d1f037e",null)),Ps=Os.exports,Ds={mixins:[f["a"]],name:"StyleEditor",components:{EditorAdvanced:Ps},props:{active:{type:[Number,Boolean],default:0}},data:function(){return{info:null,forbidEdit:!1,nodeId:null}},watch:{isBase:function(e){window.localStorage.setItem("editorStyleStatus",e)},active:function(e){this.active&&(this.info=window.$vue&&window.$vue.nodeInfo.style,this.nodeId=window.$vue&&window.$vue.nodeInfo.id)}},mounted:function(){var e=this,t=this;this.info=window.$vue&&window.$vue.nodeInfo.style,this.nodeId=window.$vue&&window.$vue.nodeInfo.id,this.ema.bind("select.oneInfo",function(e){var n=e.vm;t.active&&(t.info=n.nodeInfo.style,t.nodeId=n.nodeInfo.id)}),this.ema.bind("edit-type.change",function(t){e.forbidEdit="EDITOR"!==t}),this.ema.bind("select.noOne",function(){e.info=null,e.nodeId=null})},methods:{}},Ms=Ds,Ls=(n("f0d9f"),Object(b["a"])(Ms,wo,xo,!1,null,"e831dd80",null)),Fs=Ls.exports,Bs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-panel ns65536"},[e.codes&&e.codes.length||e.showSearchPanel?[n("el-tabs",{attrs:{closable:"",type:"card"},on:{"tab-remove":e.onTabRemove},model:{value:e.currentCode,callback:function(t){e.currentCode=t},expression:"currentCode"}},[e._l(e.codes,function(t,a){return n("el-tab-pane",{key:t.key,attrs:{label:t.name,name:t.key}},[n("span",{staticStyle:{display:"inline-block",height:"28px"},attrs:{slot:"label",title:t.comId+"_"+t.name+"_"+t.id},slot:"label"},[e._v(e._s(t.name)+" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.dirty,expression:"item.dirty"}]},[e._v("*")])]),n("code-editor",{attrs:{ctype:"javascript",highlight:t.highlight,dirty:t.dirty,ctrls:!0,options:{},contents:t.content},on:{"update:dirty":function(n){e.$set(t,"dirty",n)},ctrls:t.onSave}})],1)}),e.showSearchPanel?n("el-tab-pane",{attrs:{label:"搜索",name:"SEARCHRESULT"}},[n("span",{staticStyle:{display:"inline-block",height:"28px"},attrs:{slot:"label"},slot:"label"},[n("i",{class:{"el-icon-search":!e.searching,"el-icon-loading":e.searching}}),n("i",{}),e._v(" 搜索")]),n("div",{staticClass:"search-section"},[n("el-input",{staticStyle:{width:"40%"},attrs:{size:"small"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.doSearch(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[n("el-checkbox-group",{attrs:{slot:"append",size:"mini"},slot:"append",model:{value:e.pickedSearchRules,callback:function(t){e.pickedSearchRules=t},expression:"pickedSearchRules"}},e._l(e.searchRules,function(t,a){return n("el-checkbox-button",{key:t.type,attrs:{label:t.type}},[e._v(e._s(t.name))])}))],1),n("div",{staticClass:"search-result"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"__NULL__"===e.searchResult,expression:"searchResult === '__NULL__'"}],staticStyle:{"font-size":"12px",margin:"7px 3px"}},[e._v("找不到结果")]),e.searchResult&&e.searchResult.map?e._l(e.searchResult,function(t,a){return n("div",{key:a,staticClass:"search-result-item"},[n("i",{staticClass:"iconfont icon-function"}),n("div",{staticClass:"search-result-path"},[e._v("\n                  "+e._s(t.file.name)+"\n                  "),n("span",[e._v(e._s(t.comId)+" "),n("i",[e._v(">")]),e._v(" "+e._s(t.file.name)+e._s(t.file.id))])]),n("div",{staticClass:"search-result-content",on:{click:function(n){e.openFile(t.file,{comId:t.comId,highlight:t.highlight})}}},[e._v("\n                  "+e._s(t.snippet[0])),n("i",{staticClass:"highlight"},[e._v(e._s(t.snippet[1]))]),e._v(e._s(t.snippet[2])+"\n                ")])])}):e._e()],2)],1)]):e._e()],2)]:n("div",{staticClass:"codepanel-hint",staticStyle:{"padding-top":"1px","pointer-events":"none"}},[n("div",{staticClass:"codepanel-logo"},[e._v("GODSPEN")]),e._m(0,!1,!1),e._m(1,!1,!1),e._m(2,!1,!1),e._m(3,!1,!1),e._m(4,!1,!1),e._m(5,!1,!1)])],2)},Rs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("脚本全局搜索")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+shift+F")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("保存脚本")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+S")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("脚本内查找")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+F")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("替换")]),n("div",{staticClass:"hint-item-right"},[e._v("ctrl+H")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("格式化代码")]),n("div",{staticClass:"hint-item-right"},[e._v("shift+alt+F")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hint-item"},[n("div",{staticClass:"hint-item-left"},[e._v("显式所有命令")]),n("div",{staticClass:"hint-item-right"},[e._v("F1")])])}];function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Hs(e,t,n[t])})}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gs="SEARCHRESULT",Us={mixins:[f["a"]],name:"code-panel",components:{CodeEditor:Tt["a"]},data:function(){return{currentCode:"",codes:[],showSearchPanel:!1,searching:!1,keyword:"",searchResult:[],pickedSearchRules:[],searchRules:[{type:"caseSensitive",name:"Aa"},{type:"useReg",name:".*"}]}},computed:{ids:function(){return(this.codes||[]).map(function(e){return e.key})},activeComponentId:function(){return this.currentCode.split("_")[0]},useReg:function(){return this.pickedSearchRules.includes("useReg")},ignoreCase:function(){return!this.pickedSearchRules.includes("caseSensitive")}},beforeMount:function(){window.$CodePanel=this},mounted:function(){var e=this;this.ema.bind("script.rename",function(t){var n=t.key,a=t.name;e.codes.map(function(e){e.key===n&&(e.name=a)})}),this.ema.bind("script.delete",function(t){var n=t.key;e.codes.map(function(t,a){t.key===n&&e.closeFile(a,t)})}),this.ema.bind("ctrl.shift.f.up",function(t){"widgetCodePanel"===t.panelName&&(e.showSearchPanel=!0,e.currentCode=Gs)})},watch:{activeComponentId:function(e,t){e&&"0"!==e&&e!==Gs&&this.ema.fire("select.one",e)}},destroyed:function(){delete window.$CodePanel},methods:{onTabRemove:function(e){var t=this;if(e===Gs)return this.closeFile(Gs);this.codes.map(function(n,a){n.key===e&&(n.dirty?t.$confirm("尚有未保存内容，直接关闭会丢失未保存改动，确认要关闭吗？",{confirmButtonText:"直接关闭",cancelButtonText:"我再想想"}).then(function(){return t.closeFile(a)}).catch(function(e){return console.log("放弃编辑内容")}):t.closeFile(a))})},openFile:function(e,t){var n=t.comId,a=t.highlight;this.ema.fire("dock.panelActive","widgetCodePanel");var i=this;if(e){e.id||this.$set(e,"id",65536+(65536*Math.random()|0));var o="".concat(n,"_").concat(e.id),s=this.ids.indexOf(o);if(s>-1){var r=this.codes[s];return"highlight"in r?r.highlight=a:this.$set(r,"highlight",a),void(this.currentCode=o)}this.codes.push(zs({},e,{comId:n,key:o,highlight:a,dirty:!1,onSave:function(t){e.content=t,i.$message({type:"success",message:"已保存"})}})),this.currentCode=o}},closeFile:function(e,t){if(e===Gs)return this.showSearchPanel=!1,void(this.currentCode=this.currentCode===Gs?this.codes[this.codes.length-1].key:this.currentCode);this.codes.splice(e,1),e==this.codes.length&&(e-=1),e<0||this.codes.length<=0||(this.currentCode=this.codes[e].key)},doSearch:function(){var e=(this.keyword||"").trim();if(e.length){var t,n,a;this.searching=!0;try{e=this.useReg?e:e.replace(/[.*\/?|()\[\]{}\^$\\]/g,function(e){return"\\".concat(e)}),t=new RegExp(e,this.ignoreCase?"mgi":"mg"),n=window.$app.info,a=i(n),a&&0!=a.length||(a="__NULL__"),this.searchResult=a}catch(o){this.ema.fire("bughd.open",o)}this.searching=!1}function i(e){var n=(e.script instanceof Array?e.script:[]).reduce(function(n,a){var i,o=a&&a.content||String(a),s=[];while(i=t.exec(o),i){var r=i.index,c=i[0];c&&c.length&&s.push([o.slice(Math.max(0,r-90),r),c,o.slice(i.index+c.length,i.index+90),o.slice(0,i.index)])}return n=n.concat((s||[]).map(function(t){var n=t[3].split(/[\n]/m)||[],i=n[n.length-1]||"";return{file:a,snippet:t,highlight:{line:n&&n.length||1,start:i.length+1,end:i.length+t[1].length+1},comId:e.id}})),n},[]),a=(e.child||[]).map(i).reduce(function(e,t){return e.concat(t)},[]);return n.concat(a)}}}},Vs=Us,Ws=(n("78db"),n("d3d6"),Object(b["a"])(Vs,Bs,Rs,!1,null,"e8a5f8d4",null)),qs=Ws.exports;function Ks(){r.a.component("widgetScene",ba),r.a.component("widgetPageTemplate",Aa),r.a.component("widgetAttribute",pi),r.a.component("widgetComponent",La),r.a.component("widgetComponentTree",vi),r.a.component("widgetStyleEditor",Fs),r.a.component("widgetScriptEditor",Pi),r.a.component("widgetAnimate",uo),r.a.component("widgetPageInfo",yo),r.a.component("widgetComponentInfo",qa),r.a.component("widgetCombinedComponents",Ci),r.a.component("widgetCodePanel",qs)}var Xs={install:Ks},Ys=n("028e"),Js={mixin:Ys["a"]},Zs=Js,Qs={searchParams:"URLSearchParams"in window,iterable:"Symbol"in window&&"iterator"in Symbol,blob:"FileReader"in window&&"Blob"in window&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in window,arrayBuffer:"ArrayBuffer"in window};function er(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Qs.arrayBuffer)var tr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],nr=ArrayBuffer.isView||function(e){return e&&tr.indexOf(Object.prototype.toString.call(e))>-1};function ar(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");var t=["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Ranges","Authorization","Cache-Control","Connection","Cookie","Content-Length","Content-Type","Date","Expect","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Pragma","Proxy-Authorization","Range","Referer","TE","Upgrade","User-Agent","Via","Warning","Accept-Ranges","Age","Allow","Cache-Control","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-MD5","Content-Range","Content-Type","Date","ETag","Expires","Last-Modified","Location","Pragma","Proxy-Authenticate","refresh","Retry-After","Server","Set-Cookie","Trailer","Transfer-Encoding","Vary","Via","Warning","WWW-Authenticate"].some(function(t){return new RegExp(t,"i").test(e)});return t?e.toLowerCase():e}function ir(e){return"string"!==typeof e&&(e=String(e)),e}function or(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Qs.iterable&&(t[Symbol.iterator]=function(){return t}),t}function sr(e){this.map={},e instanceof sr?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function rr(e){e.bodyUsed=!0}function cr(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function lr(e){var t=new FileReader,n=cr(t);return t.readAsArrayBuffer(e),n}function dr(e){var t=new FileReader,n=cr(t);return t.readAsText(e),n}function ur(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}function pr(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function mr(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:Qs.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Qs.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Qs.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Qs.arrayBuffer&&Qs.blob&&er(e)?(this._bodyArrayBuffer=pr(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Qs.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||nr(e))?this._bodyArrayBuffer=pr(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Qs.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Qs.blob&&(this.blob=function(){var e=rr(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?rr(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(lr)}),this.text=function(){var e=rr(this);if(e)return e;if(this._bodyBlob)return dr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ur(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Qs.formData&&(this.formData=function(){return this.text().then(br)}),this.json=function(){return this.text().then(JSON.parse)},this}sr.prototype.append=function(e,t){e=ar(e),t=ir(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},sr.prototype["delete"]=function(e){delete this.map[ar(e)]},sr.prototype.get=function(e){return e=ar(e),this.has(e)?this.map[e]:null},sr.prototype.has=function(e){return this.map.hasOwnProperty(ar(e))},sr.prototype.set=function(e,t){this.map[ar(e)]=ir(t)},sr.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},sr.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),or(e)},sr.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),or(e)},sr.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),or(e)},Qs.iterable&&(sr.prototype[Symbol.iterator]=sr.prototype.entries);var fr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function hr(e){var t=e.toUpperCase();return fr.indexOf(t)>-1?t:e}function gr(e,t){t=t||{};var n=t.body;if(e instanceof gr){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new sr(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new sr(t.headers)),this.method=hr(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function br(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}}),t}function vr(e){var t=new sr,n=e.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(e){var n=e.split(":"),a=n.shift().trim();if(a){var i=n.join(":").trim();t.append(a,i)}}),t}function yr(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new sr(t.headers),this.url=t.url||"",this._initBody(e)}gr.prototype.clone=function(){return new gr(this,{body:this._bodyInit})},mr.call(gr.prototype),mr.call(yr.prototype),yr.prototype.clone=function(){return new yr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new sr(this.headers),url:this.url})},yr.error=function(){var e=new yr(null,{status:0,statusText:""});return e.type="error",e};var wr=[301,302,303,307,308];yr.redirect=function(e,t){if(-1===wr.indexOf(t))throw new RangeError("Invalid status code");return new yr(null,{status:t,headers:{location:e}})};var xr=window.DOMException;try{new xr}catch(Tr){xr=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},xr.prototype=Object.create(Error.prototype),xr.prototype.constructor=xr}function kr(e,t){return new Promise(function(n,a){var i=new gr(e,t);if(i.signal&&i.signal.aborted)return a(new xr("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:vr(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new yr(t,e))},o.onerror=function(){a(new TypeError("Network request failed"))},o.ontimeout=function(){a(new TypeError("Network request failed"))},o.onabort=function(){a(new xr("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&Qs.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})}function _r(e,t){return Sr(e)||$r(e,t)||Cr()}function Cr(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function $r(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)if(n.push(s.value),t&&n.length===t)break}catch(Tr){i=!0,o=Tr}finally{try{a||null==r["return"]||r["return"]()}finally{if(i)throw o}}return n}function Sr(e){if(Array.isArray(e))return e}function jr(){}window.Truck=window.$GP={Util:ve["a"],ESlog:{pageview:jr,track:jr,getFingerPrint:jr},Maliang:Zs,Env:{},Native:{},Server:{fetch:kr}},window.Truck.Maliang=Zs,window.$GP.VueExtend=Zs,r.a.use(Qe.a),r.a.use(Xs),r.a.use(rn),r.a.prototype.$reactiveSet=function(e,t){for(var n=0,a=Object.entries(t);n<a.length;n++){var i=_r(a[n],2),o=i[0],s=i[1];this.$set(e,o,s)}},r.a.prototype.$reactiveDelete=function(e,t){var n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var r=o.value;this.$delete(e,r)}}catch(Tr){a=!0,i=Tr}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}},window.resourceEndTime=new Date-0,window.EMA=Je.a;var Er=r.a.config.optionMergeStrategies;Er.editorMethods=Er.methods,Er.editerMethods=Er.methods;var Ir=new r.a({store:Ct,render:function(e){return e(Xe)}});Ir.$mount("#app"),window.onbeforeunload=function(){var e="确认退出?";return e},window.onunload=function(){},$t["languages"].registerCompletionItemProvider("javascript",{provideCompletionItems:function(){return jt||[]}})},"8f22":function(e,t,n){"use strict";var a=n("1ab2"),i=n.n(a);i.a},"8f36":function(e,t,n){"use strict";var a=n("b701"),i=n.n(a);i.a},"8fc5":function(e,t,n){},"913c":function(e,t,n){},"922e":function(e,t,n){},"93a6":function(e,t,n){"use strict";var a=n("f8bd"),i=n.n(a);i.a},9594:function(e,t,n){"use strict";var a=n("d518"),i=n.n(a);i.a},"97ba":function(e,t,n){},"99cc":function(e,t,n){"use strict";var a=n("d7b5"),i=n.n(a);i.a},"9a0d":function(e,t,n){"use strict";var a=n("bf62"),i=n.n(a);i.a},"9b21":function(e,t,n){},"9b64":function(e,t,n){"use strict";var a=n("fe0f"),i=n.n(a);i.a},"9d64":function(e,t,n){e.exports=n.p+"editor/img/logo.4f076a82.png"},"9dfc":function(e,t,n){"use strict";var a=n("0e83"),i=n.n(a);i.a},a05f:function(e,t,n){"use strict";var a=n("f413"),i=n.n(a);i.a},a06e:function(e,t,n){"use strict";var a=n("7983"),i=n.n(a);i.a},a28e:function(e,t){Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e}},a559:function(e,t,n){"use strict";var a=n("8a43"),i=n.n(a);i.a},a57d:function(e,t,n){"use strict";var a=n("61b3"),i=n.n(a);i.a},a700:function(e,t,n){},a7fe:function(e,t,n){"use strict";function a(e,t){return s(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{a||null==r["return"]||r["return"]()}finally{if(i)throw o}}return n}function s(e){if(Array.isArray(e))return e}function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function c(e){var t=window.document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){for(var e,n={},a=t.search.replace(/^\?/,"").split("&"),i=a.length,o=0;o<i;o++)a[o]&&(e=a[o].split("="),n[e[0]]=e[1]);return n}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;t=t.split(".");var a=t.pop(),i=e;try{i=t.reduce(function(e,t){return e&&"object"===r(e)||(e={}),e[t]&&"object"===r(e[t])||(e[t]={}),e[t]},e)}catch(o){console.error(o)}return i[a]=n,e}function d(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{e=n.split(".").reduce(function(e,t){return e&&e[t]},t)}catch(a){console.error(a)}return e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"child",o=[];function s(e){var l=e[i];return l&&l.length&&(l=l.map(function(e){return s(e)})),(!e[a]||r(t,e[a])&&!r(n,e[a])||r(o,e[a]))&&(e[a]=c(e[a]),o.push(e[a])),e}function r(e,t){return e.indexOf(t)>-1}function c(e){var t;while(!t||r(o,t))t="".concat(e||"").concat((1296*Math.random()|0).toString(32));return t}return s(e)}function p(e){var t=e.getBoundingClientRect(),n={x:t.left+t.width/2,y:t.top+t.height/2};return{top:n.y-e.offsetHeight/2,left:n.x-e.offsetWidth/2}}function m(e){var t=window.innerWidth,n=window.innerHeight,a=p(e),i=b(e);"stage"==e.id&&(i={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});var o={bottom:n-e.offsetHeight-a.top-i.marginBottom,height:e.offsetHeight,left:a.left-i.marginLeft,right:t-a.left-e.offsetWidth-i.marginRight,top:a.top-i.marginTop,width:e.offsetWidth,x:a.left,y:a.top};return o}function f(e,t){if(!e||!t)return{width:0,height:0,left:0,top:0};var n=e.style.position||window.getComputedStyle(e).position,i="appWarp"==t.getAttribute("id");(i||"fixed"===n)&&(t=document.getElementById("stage"));var o=[t,e].map(function(e){return m(e)}),s=a(o,2),r=s[0],c=s[1],l={left:null,top:null,width:c.width,height:c.height,rect:c,parentRect:r,bottom:null,right:null};switch(n){case"relative":var d=g(e,t);l.left=d.left,l.top=d.top;break;case"absolute":l.left=c.left-r.left,l.top=c.top-r.top;break;case"fixed":l.left=c.left-r.left,l.top=c.top-r.top,l.right=c.right-r.right,l.bottom=c.bottom-r.bottom,h(e.style.right)||(l.rightControl=!0),h(e.style.bottom)||(l.bottomControl=!0);break}return l}function h(e){return"unset"===e||"initial"===e||isNaN(parseFloat(e))||v(e)}function g(e,t){var n=window.getComputedStyle(e),a=t.getBoundingClientRect(),i={left:o(n.left,a.width),bottom:o(n.bottom,a.height),right:o(n.right,a.width),top:o(n.top,a.height)};return i.top||(i.top=-(parseInt(i.bottom)||0)),i.left&&(i.left=-(parseInt(i.right)||0)),i;function o(e,t){return t=parseInt(t),"auto"!=e&&e?/%$/.test(e)?t*parseFloat(e)/100|0:parseInt(e):0}}function b(e){return["marginTop","marginRight","marginBottom","marginLeft"].reduce(function(t,n){var a=window.getComputedStyle(e)[n];return t[n]=parseFloat(a)||0,t},{})}function v(e){return null===e||void 0===e}function y(e){return v(e)||""===e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return 0===e||"0"===e?0:!e||isNaN(Number(e))?t:Number(e)}function x(e){return new Promise(function(t){return setTimeout(t,e)})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,a=void 0===n?"get":n;return new Promise(function(t,n){var i=new XMLHttpRequest;i.onload=function(){var e=i.response;try{e=JSON.parse(i.response)}catch(n){console.log(n)}t(e)},i.onerror=n,i.onabort=n,i.open(a,e),i.send()})}n.d(t,"b",function(){return f}),n.d(t,"d",function(){return v}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return x}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return w}),n.d(t,"c",function(){return m}),t["a"]={parseURL:c,isFalsy:y,isUnset:h,sleep:x,isNullOrUndefined:v,dimensionAnyTopx:f,objectSetByPath:l,objectGetByPath:d,modifyNodeId:u,toSafeNumber:w,getNoRotateBoundingClientRect:m,fetch:k}},a81d:function(e){e.exports={layout:{children:[{children:[{children:[{name:"组件列表",component:"widgetComponent",close:!0,pop:!0},{name:"合成组件",component:"widgetCombinedComponents",close:!0,pop:!0}],type:"panel",flex:.5},{children:[{name:"组件树",component:"widgetComponentTree",close:!0,pop:!0}],type:"panel",flex:.5}],type:"column",flex:.20626959247648904},{children:[{children:[{name:"组场景",component:"widgetScene",close:!1,pop:!1},{name:"组件详情",component:"widgetComponentInfo",close:!0,pop:!0},{name:"页面设置",component:"widgetPageInfo",close:!0,pop:!0}],type:"panel",flex:1}],type:"column",flex:.5512481056767048},{children:[{children:[{name:"属性",component:"widgetAttribute",close:!1,pop:!0},{name:"样式",component:"widgetStyleEditor",close:!1,pop:!0},{name:"脚本",component:"widgetScriptEditor",style:{width:"300px",height:"400px",left:"300px",top:"300px"},close:!0,pop:!0}],type:"panel",flex:1}],type:"column",flex:.2424823018468062}],type:"row"},dialogs:[],version:1,name:"default"}},a88b:function(e,t,n){"use strict";var a=n("5b37"),i=n.n(a);i.a},a97f:function(e,t,n){"use strict";var a=n("3c69"),i=n.n(a);i.a},a9d6:function(e,t,n){},acb6:function(e,t,n){},af18:function(e,t,n){"use strict";var a=n("8ac1"),i=n.n(a);i.a},af2c:function(e,t,n){},b0ee:function(e,t,n){},b328:function(e){e.exports={$schema:"vscode://schemas/color-theme",name:"Light+ (default light)",include:"./light_vs.json",tokenColors:[{name:"Function declarations",scope:["entity.name.function","support.function","support.constant.handlebars"],settings:{foreground:"#795E26"}},{name:"Types declaration and references",scope:["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],settings:{foreground:"#267f99"}},{name:"Types declaration and references, TS grammar specific",scope:["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"],settings:{foreground:"#267f99"}},{name:"Control flow keywords",scope:"keyword.control",settings:{foreground:"#AF00DB"}},{name:"Variable and parameter name",scope:["variable","meta.definition.variable.name","support.variable"],settings:{foreground:"#001080"}},{name:"Object keys, TS grammar specific",scope:["meta.object-literal.key"],settings:{foreground:"#001080"}},{name:"CSS property value",scope:["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],settings:{foreground:"#0451a5"}},{name:"Regular expression groups",scope:["punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"],settings:{foreground:"#d16969"}},{scope:["constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"],settings:{foreground:"#811f3f"}},{scope:"keyword.operator.quantifier.regexp",settings:{foreground:"#000000"}},{scope:["keyword.operator.or.regexp","keyword.control.anchor.regexp"],settings:{foreground:"#ff0000"}},{scope:"constant.character",settings:{foreground:"#0000ff"}},{scope:"constant.character.escape",settings:{foreground:"#ff0000"}}]}},b4ac:function(e,t,n){"use strict";var a=n("72a6"),i=n.n(a);i.a},b4bc:function(e,t,n){"use strict";var a=n("922e"),i=n.n(a);i.a},b701:function(e,t,n){},bd37:function(e,t,n){"use strict";var a=n("3fd2"),i=n.n(a);i.a},bf62:function(e,t,n){},bfb3:function(e,t,n){var a={"./d-Preview":["3ecb","chunk-58613c59"],"./d-Preview.vue":["3ecb","chunk-58613c59"],"./d-crop":["0861","chunk-659ec982"],"./d-crop.vue":["0861","chunk-659ec982"],"./d-editScript":["c254","chunk-d32dd2e4"],"./d-editScript.vue":["c254","chunk-d32dd2e4"],"./d-nodejson":["23e6","chunk-f5e811a4"],"./d-nodejson.vue":["23e6","chunk-f5e811a4"],"./d-psd":["9761","chunk-b192e116"],"./d-psd.vue":["9761","chunk-b192e116"],"./d-resourceSelect":["a7c7","chunk-7d97fcbc"],"./d-resourceSelect.vue":["a7c7","chunk-7d97fcbc"],"./d-saveCombinedComponent":["aa78","chunk-26e92c02"],"./d-saveCombinedComponent.vue":["aa78","chunk-26e92c02"]};function i(e){var t=a[e];return t?n.e(t[1]).then(function(){var e=t[0];return n(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}i.keys=function(){return Object.keys(a)},i.id="bfb3",e.exports=i},c247:function(e){e.exports={information_for_contributors:["This file has been converted from https://github.com/Microsoft/TypeScript-TmLanguage/blob/master/TypeScriptReact.tmLanguage","If you want to provide a fix or improvement, please create a pull request against the original repository.","Once accepted there, we are happy to receive an update request."],version:"https://github.com/Microsoft/TypeScript-TmLanguage/commit/88217b1c7d36ed5d35adc3099ba7978aabe2531b",name:"JavaScript (with React support)",scopeName:"source.js",patterns:[{include:"#directives"},{include:"#statements"},{name:"comment.line.shebang.ts",match:"\\A(#!).*(?=$)",captures:{1:{name:"punctuation.definition.comment.ts"}}}],repository:{statements:{patterns:[{include:"#string"},{include:"#template"},{include:"#comment"},{include:"#declaration"},{include:"#control-statement"},{include:"#after-operator-block-as-object-literal"},{include:"#decl-block"},{include:"#label"},{include:"#expression"},{include:"#punctuation-semicolon"}]},declaration:{patterns:[{include:"#decorator"},{include:"#var-expr"},{include:"#function-declaration"},{include:"#class-declaration"},{include:"#interface-declaration"},{include:"#enum-declaration"},{include:"#namespace-declaration"},{include:"#type-alias-declaration"},{include:"#import-equals-declaration"},{include:"#import-declaration"},{include:"#export-declaration"}]},"control-statement":{patterns:[{include:"#switch-statement"},{include:"#for-loop"},{name:"keyword.control.trycatch.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(catch|finally|throw|try)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(break|continue|goto)\\s+([_$[:alpha:]][_$[:alnum:]]*)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",captures:{1:{name:"keyword.control.loop.js"},2:{name:"entity.name.label.js"}}},{name:"keyword.control.loop.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(break|continue|do|goto|while)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.control.flow.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(return)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.control.switch.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(case|default|switch)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.control.conditional.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(else|if)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.control.with.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(with)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.other.debugger.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(debugger)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"storage.modifier.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(declare)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"}]},label:{patterns:[{begin:"([_$[:alpha:]][_$[:alnum:]]*)\\s*(:)(?=\\s*\\{)",beginCaptures:{1:{name:"entity.name.label.js"},2:{name:"punctuation.separator.label.js"}},end:"(?<=\\})",patterns:[{include:"#decl-block"}]},{match:"([_$[:alpha:]][_$[:alnum:]]*)\\s*(:)",captures:{1:{name:"entity.name.label.js"},2:{name:"punctuation.separator.label.js"}}}]},expression:{patterns:[{include:"#expressionWithoutIdentifiers"},{include:"#identifiers"},{include:"#expressionPunctuations"}]},expressionWithoutIdentifiers:{patterns:[{include:"#jsx"},{include:"#string"},{include:"#regex"},{include:"#template"},{include:"#comment"},{include:"#function-expression"},{include:"#class-expression"},{include:"#arrow-function"},{include:"#paren-expression-possibly-arrow"},{include:"#cast"},{include:"#ternary-expression"},{include:"#new-expr"},{include:"#instanceof-expr"},{include:"#object-literal"},{include:"#expression-operators"},{include:"#function-call"},{include:"#literal"},{include:"#support-objects"},{include:"#paren-expression"}]},expressionPunctuations:{patterns:[{include:"#punctuation-comma"},{include:"#punctuation-accessor"}]},decorator:{name:"meta.decorator.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))\\@",beginCaptures:{0:{name:"punctuation.decorator.js"}},end:"(?=\\s)",patterns:[{include:"#expression"}]},"var-expr":{name:"meta.var.expr.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bexport)\\s+)?\\b(var|let|const(?!\\s+enum\\b))(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"storage.type.js"}},end:"(?=$|^|;|}|(\\s+(of|in)\\s+))",patterns:[{include:"#destructuring-variable"},{include:"#var-single-variable"},{include:"#variable-initializer"},{include:"#comment"},{begin:"(,)\\s*(?!\\S)",beginCaptures:{1:{name:"punctuation.separator.comma.js"}},end:"(?<!,)((?==|;|}|(\\s+(of|in)\\s+)|^\\s*$))|((?<=\\S)(?=\\s*$))",patterns:[{include:"#comment"},{include:"#destructuring-variable"},{include:"#var-single-variable"},{include:"#punctuation-comma"}]},{include:"#punctuation-comma"}]},"var-single-variable":{patterns:[{name:"meta.var-single-variable.expr.js",begin:"(?x)([_$[:alpha:]][_$[:alnum:]]*)(?=\\s*\n# function assignment |\n(=\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n)) |\n# typeannotation is fn type: < | () | (... | (param: | (param, | (param? | (param= | (param) =>\n(:\\s*(\n  (<) |\n  ([(]\\s*(\n    ([)]) |\n    (\\.\\.\\.) |\n    ([_$[:alnum:]]+\\s*(\n      ([:,?=])|\n      ([)]\\s*=>)\n    ))\n  ))\n)) |\n(:\\s*([\\(]\\s*([\\{\\[]\\s*)?$)) |\n(:\\s*(=>|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(<[^<>]*>)|[^<>(),=])+=\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n)))",beginCaptures:{1:{name:"meta.definition.variable.js entity.name.function.js"}},end:"(?=$|^|[;,=}]|(\\s+(of|in)\\s+))",patterns:[{include:"#var-single-variable-type-annotation"}]},{name:"meta.var-single-variable.expr.js",begin:"([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])",beginCaptures:{1:{name:"meta.definition.variable.js variable.other.constant.js"}},end:"(?=$|^|[;,=}]|(\\s+(of|in)\\s+))",patterns:[{include:"#var-single-variable-type-annotation"}]},{name:"meta.var-single-variable.expr.js",begin:"([_$[:alpha:]][_$[:alnum:]]*)",beginCaptures:{1:{name:"meta.definition.variable.js variable.other.readwrite.js"}},end:"(?=$|^|[;,=}]|(\\s+(of|in)\\s+))",patterns:[{include:"#var-single-variable-type-annotation"}]}]},"var-single-variable-type-annotation":{patterns:[{include:"#type-annotation"},{include:"#string"},{include:"#comment"}]},"destructuring-variable":{patterns:[{name:"meta.object-binding-pattern-variable.js",begin:"(?<!=|:|^of|[^\\._$[:alnum:]]of|^in|[^\\._$[:alnum:]]in)\\s*(?=\\{)",end:"(?=$|^|[;,=}]|(\\s+(of|in)\\s+))",patterns:[{include:"#object-binding-pattern"},{include:"#type-annotation"},{include:"#comment"}]},{name:"meta.array-binding-pattern-variable.js",begin:"(?<!=|:|^of|[^\\._$[:alnum:]]of|^in|[^\\._$[:alnum:]]in)\\s*(?=\\[)",end:"(?=$|^|[;,=}]|(\\s+(of|in)\\s+))",patterns:[{include:"#array-binding-pattern"},{include:"#type-annotation"},{include:"#comment"}]}]},"object-binding-element":{patterns:[{include:"#comment"},{begin:"(?x)(?=((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(:))",end:"(?=,|\\})",patterns:[{include:"#object-binding-element-propertyName"},{include:"#binding-element"}]},{include:"#object-binding-pattern"},{include:"#destructuring-variable-rest"},{include:"#variable-initializer"},{include:"#punctuation-comma"}]},"object-binding-element-propertyName":{begin:"(?x)(?=((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(:))",end:"(:)",endCaptures:{0:{name:"punctuation.destructuring.js"}},patterns:[{include:"#string"},{include:"#array-literal"},{include:"#numeric-literal"},{name:"variable.object.property.js",match:"([_$[:alpha:]][_$[:alnum:]]*)"}]},"binding-element":{patterns:[{include:"#comment"},{include:"#string"},{include:"#object-binding-pattern"},{include:"#array-binding-pattern"},{include:"#destructuring-variable-rest"},{include:"#variable-initializer"}]},"destructuring-variable-rest":{match:"(?:(\\.\\.\\.)\\s*)?([_$[:alpha:]][_$[:alnum:]]*)",captures:{1:{name:"keyword.operator.rest.js"},2:{name:"meta.definition.variable.js variable.other.readwrite.js"}}},"object-binding-pattern":{begin:"(?:(\\.\\.\\.)\\s*)?(\\{)",beginCaptures:{1:{name:"keyword.operator.rest.js"},2:{name:"punctuation.definition.binding-pattern.object.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.binding-pattern.object.js"}},patterns:[{include:"#object-binding-element"}]},"array-binding-pattern":{begin:"(?:(\\.\\.\\.)\\s*)?(\\[)",beginCaptures:{1:{name:"keyword.operator.rest.js"},2:{name:"punctuation.definition.binding-pattern.array.js"}},end:"\\]",endCaptures:{0:{name:"punctuation.definition.binding-pattern.array.js"}},patterns:[{include:"#binding-element"},{include:"#punctuation-comma"}]},"parameter-name":{patterns:[{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(public|protected|private|readonly)\\s+(?=(public|protected|private|readonly)\\s+)",captures:{1:{name:"storage.modifier.js"}}},{match:"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(public|private|protected|readonly)\\s+)?(?:(\\.\\.\\.)\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))\\s*(\\??)(?=\\s*\n# function assignment |\n(=\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n)) |\n# typeannotation is fn type: < | () | (... | (param: | (param, | (param? | (param= | (param) =>\n(:\\s*(\n  (<) |\n  ([(]\\s*(\n    ([)]) |\n    (\\.\\.\\.) |\n    ([_$[:alnum:]]+\\s*(\n      ([:,?=])|\n      ([)]\\s*=>)\n    ))\n  ))\n)) |\n(:\\s*([\\(]\\s*([\\{\\[]\\s*)?$)) |\n(:\\s*(=>|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(<[^<>]*>)|[^<>(),=])+=\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n)))",captures:{1:{name:"storage.modifier.js"},2:{name:"keyword.operator.rest.js"},3:{name:"entity.name.function.js variable.language.this.js"},4:{name:"entity.name.function.js"},5:{name:"keyword.operator.optional.js"}}},{match:"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(public|private|protected|readonly)\\s+)?(?:(\\.\\.\\.)\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))\\s*(\\??)",captures:{1:{name:"storage.modifier.js"},2:{name:"keyword.operator.rest.js"},3:{name:"variable.parameter.js variable.language.this.js"},4:{name:"variable.parameter.js"},5:{name:"keyword.operator.optional.js"}}}]},"destructuring-parameter":{patterns:[{name:"meta.parameter.object-binding-pattern.js",begin:"(?<!=|:)\\s*(\\{)",beginCaptures:{1:{name:"punctuation.definition.binding-pattern.object.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.binding-pattern.object.js"}},patterns:[{include:"#parameter-object-binding-element"}]},{name:"meta.paramter.array-binding-pattern.js",begin:"(?<!=|:)\\s*(\\[)",beginCaptures:{1:{name:"punctuation.definition.binding-pattern.array.js"}},end:"\\]",endCaptures:{0:{name:"punctuation.definition.binding-pattern.array.js"}},patterns:[{include:"#parameter-binding-element"},{include:"#punctuation-comma"}]}]},"parameter-object-binding-element":{patterns:[{include:"#comment"},{begin:"(?x)(?=((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(:))",end:"(?=,|\\})",patterns:[{include:"#object-binding-element-propertyName"},{include:"#parameter-binding-element"}]},{include:"#parameter-object-binding-pattern"},{include:"#destructuring-parameter-rest"},{include:"#variable-initializer"},{include:"#punctuation-comma"}]},"parameter-binding-element":{patterns:[{include:"#comment"},{include:"#string"},{include:"#parameter-object-binding-pattern"},{include:"#parameter-array-binding-pattern"},{include:"#destructuring-parameter-rest"},{include:"#variable-initializer"}]},"destructuring-parameter-rest":{match:"(?:(\\.\\.\\.)\\s*)?([_$[:alpha:]][_$[:alnum:]]*)",captures:{1:{name:"keyword.operator.rest.js"},2:{name:"variable.parameter.js"}}},"parameter-object-binding-pattern":{begin:"(?:(\\.\\.\\.)\\s*)?(\\{)",beginCaptures:{1:{name:"keyword.operator.rest.js"},2:{name:"punctuation.definition.binding-pattern.object.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.binding-pattern.object.js"}},patterns:[{include:"#parameter-object-binding-element"}]},"parameter-array-binding-pattern":{begin:"(?:(\\.\\.\\.)\\s*)?(\\[)",beginCaptures:{1:{name:"keyword.operator.rest.js"},2:{name:"punctuation.definition.binding-pattern.array.js"}},end:"\\]",endCaptures:{0:{name:"punctuation.definition.binding-pattern.array.js"}},patterns:[{include:"#parameter-binding-element"},{include:"#punctuation-comma"}]},"field-declaration":{name:"meta.field.declaration.js",begin:"(?x)(?<!\\()(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(readonly)\\s+)?(?=\\s*((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\?\\s*)?(=|:))",beginCaptures:{1:{name:"storage.modifier.js"}},end:"(?x)(?=\\}|;|,|$|(^(?!\\s*((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\?\\s*)?(=|:))))|(?<=\\})",patterns:[{include:"#variable-initializer"},{begin:"(?x)(?=((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\?\\s*)?(=|:))",end:"(?x)(?=[};,=]|$|(^(?!\\s*((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\?\\s*)?(=|:))))|(?<=\\})",patterns:[{include:"#type-annotation"},{include:"#string"},{include:"#array-literal"},{include:"#numeric-literal"},{include:"#comment"},{match:"(?x)([_$[:alpha:]][_$[:alnum:]]*)(\\?)?(?=(\\?\\s*)?\\s*\n# function assignment |\n(=\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n)) |\n# typeannotation is fn type: < | () | (... | (param: | (param, | (param? | (param= | (param) =>\n(:\\s*(\n  (<) |\n  ([(]\\s*(\n    ([)]) |\n    (\\.\\.\\.) |\n    ([_$[:alnum:]]+\\s*(\n      ([:,?=])|\n      ([)]\\s*=>)\n    ))\n  ))\n)) |\n(:\\s*([\\(]\\s*([\\{\\[]\\s*)?$)) |\n(:\\s*(=>|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(<[^<>]*>)|[^<>(),=])+=\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n)))",captures:{1:{name:"meta.definition.property.js entity.name.function.js"},2:{name:"keyword.operator.optional.js"}}},{name:"meta.definition.property.js variable.object.property.js",match:"[_$[:alpha:]][_$[:alnum:]]*"},{name:"keyword.operator.optional.js",match:"\\?"}]}]},"variable-initializer":{patterns:[{begin:"(?<!=|!)(=)(?!=)(?=\\s*\\S)",beginCaptures:{1:{name:"keyword.operator.assignment.js"}},end:"(?=$|^|[,);}\\]])",patterns:[{include:"#expression"}]},{begin:"(?<!=|!)(=)(?!=)",beginCaptures:{1:{name:"keyword.operator.assignment.js"}},end:"(?=[,);}\\]])|(?=^\\s*$)|(?<=\\S)(?<!=)(?=\\s*$)",patterns:[{include:"#expression"}]}]},"function-declaration":{name:"meta.function.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(export)\\s+)?(?:(async)\\s+)?(function\\b)(?:\\s*(\\*))?(?:(?:\\s+|(?<=\\*))([_$[:alpha:]][_$[:alnum:]]*))?\\s*",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"storage.modifier.async.js"},3:{name:"storage.type.function.js"},4:{name:"keyword.generator.asterisk.js"},5:{name:"meta.definition.function.js entity.name.function.js"}},end:"(?=$|^|;)|(?<=\\})",patterns:[{include:"#function-name"},{include:"#function-body"}]},"function-expression":{name:"meta.function.expression.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(async)\\s+)?(function\\b)(?:\\s*(\\*))?(?:(?:\\s+|(?<=\\*))([_$[:alpha:]][_$[:alnum:]]*))?\\s*",beginCaptures:{1:{name:"storage.modifier.async.js"},2:{name:"storage.type.function.js"},3:{name:"keyword.generator.asterisk.js"},4:{name:"meta.definition.function.js entity.name.function.js"}},end:"(?<=\\})",patterns:[{include:"#function-name"},{include:"#function-body"}]},"function-name":{name:"meta.definition.function.js entity.name.function.js",match:"[_$[:alpha:]][_$[:alnum:]]*"},"function-body":{patterns:[{include:"#comment"},{include:"#type-parameters"},{include:"#function-parameters"},{include:"#return-type"},{include:"#decl-block"},{name:"keyword.generator.asterisk.js",match:"\\*"}]},"method-declaration":{patterns:[{name:"meta.method.declaration.js",begin:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:\\b(public|private|protected)\\s+)?(?:\\b(abstract)\\s+)?(?:\\b(async)\\s+)?\\s*\\b(constructor)\\b(?!:)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{1:{name:"storage.modifier.js"},2:{name:"storage.modifier.js"},3:{name:"storage.modifier.async.js"},4:{name:"storage.type.js"}},end:"(?=\\}|;|,|$)|(?<=\\})",patterns:[{include:"#method-declaration-name"},{include:"#function-body"}]},{name:"meta.method.declaration.js",begin:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:\\b(public|private|protected)\\s+)?(?:\\b(abstract)\\s+)?(?:\\b(async)\\s+)?(?:(?:\\s*\\b(new)\\b(?!:)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.)))|(?:(\\*)\\s*)?)(?=\\s*[\\(\\<])",beginCaptures:{1:{name:"storage.modifier.js"},2:{name:"storage.modifier.js"},3:{name:"storage.modifier.async.js"},4:{name:"keyword.operator.new.js"},5:{name:"keyword.generator.asterisk.js"}},end:"(?=\\}|;|,|$)|(?<=\\})",patterns:[{include:"#method-declaration-name"},{include:"#function-body"}]},{name:"meta.method.declaration.js",begin:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:\\b(public|private|protected)\\s+)?(?:\\b(abstract)\\s+)?(?:\\b(async)\\s+)?(?:\\b(get|set)\\s+)?(?:(\\*)\\s*)?(?=\\s*(((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\??))\\s*[\\(\\<])",beginCaptures:{1:{name:"storage.modifier.js"},2:{name:"storage.modifier.js"},3:{name:"storage.modifier.async.js"},4:{name:"storage.type.property.js"},5:{name:"keyword.generator.asterisk.js"}},end:"(?=\\}|;|,|$)|(?<=\\})",patterns:[{include:"#method-declaration-name"},{include:"#function-body"}]}]},"object-literal-method-declaration":{name:"meta.method.declaration.js",begin:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:\\b(async)\\s+)?(?:\\b(get|set)\\s+)?(?:(\\*)\\s*)?(?=\\s*(((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\??))\\s*[\\(\\<])",beginCaptures:{1:{name:"storage.modifier.async.js"},2:{name:"storage.type.property.js"},3:{name:"keyword.generator.asterisk.js"}},end:"(?=\\}|;|,)|(?<=\\})",patterns:[{include:"#method-declaration-name"},{include:"#function-body"},{begin:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:\\b(async)\\s+)?(?:\\b(get|set)\\s+)?(?:(\\*)\\s*)?(?=\\s*(((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\??))\\s*[\\(\\<])",beginCaptures:{1:{name:"storage.modifier.async.js"},2:{name:"storage.type.property.js"},3:{name:"keyword.generator.asterisk.js"}},end:"(?=\\(|\\<)",patterns:[{include:"#method-declaration-name"}]}]},"method-declaration-name":{begin:"(?x)(?=((\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$))|(\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$))|(\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$))|((?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$))|([_$[:alpha:]][_$[:alnum:]]*)|(\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\]))\\s*(\\??)\\s*[\\(\\<])",end:"(?=\\(|\\<)",patterns:[{include:"#string"},{include:"#array-literal"},{include:"#numeric-literal"},{name:"meta.definition.method.js entity.name.function.js",match:"[_$[:alpha:]][_$[:alnum:]]*"},{name:"keyword.operator.optional.js",match:"\\?"}]},"arrow-function":{patterns:[{name:"meta.arrow.js",match:"(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(\\basync)\\s+)?([_$[:alpha:]][_$[:alnum:]]*)\\s*(?==>)",captures:{1:{name:"storage.modifier.async.js"},2:{name:"variable.parameter.js"}}},{name:"meta.arrow.js",begin:"(?x) (?:\n  (?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(\\basync)\n)? ((?<![})!\\]])\\s*\n  (?=\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  )\n)",beginCaptures:{1:{name:"storage.modifier.async.js"}},end:"(?==>|\\{|(^\\s*(export|function|class|interface|let|var|const|import|enum|namespace|module|type|abstract|declare)\\s+))",patterns:[{include:"#comment"},{include:"#type-parameters"},{include:"#function-parameters"},{include:"#arrow-return-type"}]},{name:"meta.arrow.js",begin:"=>",beginCaptures:{0:{name:"storage.type.function.arrow.js"}},end:"(?<=\\}|\\S)(?<!=>)|((?!\\{)(?=\\S))",patterns:[{include:"#decl-block"},{include:"#expression"}]}]},"indexer-declaration":{name:"meta.indexer.declaration.js",begin:"(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(readonly)\\s*)?\\s*(\\[)\\s*([_$[:alpha:]][_$[:alnum:]]*)\\s*(?=:)",beginCaptures:{1:{name:"storage.modifier.js"},2:{name:"meta.brace.square.js"},3:{name:"variable.parameter.js"}},end:"(\\])\\s*(\\?\\s*)?|$",endCaptures:{1:{name:"meta.brace.square.js"},2:{name:"keyword.operator.optional.js"}},patterns:[{include:"#type-annotation"}]},"indexer-mapped-type-declaration":{name:"meta.indexer.mappedtype.declaration.js",begin:"(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))([+-])?(readonly)\\s*)?\\s*(\\[)\\s*([_$[:alpha:]][_$[:alnum:]]*)\\s+(in)\\s+",beginCaptures:{1:{name:"keyword.operator.type.modifier.js"},2:{name:"storage.modifier.js"},3:{name:"meta.brace.square.js"},4:{name:"entity.name.type.js"},5:{name:"keyword.operator.expression.in.js"}},end:"(\\])([+-])?\\s*(\\?\\s*)?|$",endCaptures:{1:{name:"meta.brace.square.js"},2:{name:"keyword.operator.type.modifier.js"},3:{name:"keyword.operator.optional.js"}},patterns:[{include:"#type"}]},"function-parameters":{name:"meta.parameters.js",begin:"\\(",beginCaptures:{0:{name:"punctuation.definition.parameters.begin.js"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.parameters.end.js"}},patterns:[{include:"#function-parameters-body"}]},"function-parameters-body":{patterns:[{include:"#comment"},{include:"#decorator"},{include:"#destructuring-parameter"},{include:"#parameter-name"},{include:"#type-annotation"},{include:"#variable-initializer"},{name:"punctuation.separator.parameter.js",match:","}]},"class-declaration":{name:"meta.class.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(export)\\s+)?\\b(?:(abstract)\\s+)?\\b(class)\\b(?=\\s+|/[/*])",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"storage.modifier.js"},3:{name:"storage.type.class.js"}},end:"(?<=\\})",patterns:[{include:"#class-declaration-or-expression-patterns"}]},"class-expression":{name:"meta.class.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(class)\\b(?=\\s+|[<{]|\\/[\\/*])",beginCaptures:{1:{name:"storage.type.class.js"}},end:"(?<=\\})",patterns:[{include:"#class-declaration-or-expression-patterns"}]},"class-declaration-or-expression-patterns":{patterns:[{include:"#comment"},{include:"#class-or-interface-heritage"},{match:"[_$[:alpha:]][_$[:alnum:]]*",captures:{0:{name:"entity.name.type.class.js"}}},{include:"#type-parameters"},{include:"#class-or-interface-body"}]},"interface-declaration":{name:"meta.interface.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(export)\\s+)?\\b(?:(abstract)\\s+)?\\b(interface)\\b(?=\\s+|/[/*])",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"storage.modifier.js"},3:{name:"storage.type.interface.js"}},end:"(?<=\\})",patterns:[{include:"#comment"},{include:"#class-or-interface-heritage"},{match:"[_$[:alpha:]][_$[:alnum:]]*",captures:{0:{name:"entity.name.type.interface.js"}}},{include:"#type-parameters"},{include:"#class-or-interface-body"}]},"class-or-interface-heritage":{begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:\\b(extends|implements)\\b)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{1:{name:"storage.modifier.js"}},end:"(?=\\{)",patterns:[{include:"#comment"},{include:"#class-or-interface-heritage"},{include:"#type-parameters"},{include:"#expressionWithoutIdentifiers"},{match:"([_$[:alpha:]][_$[:alnum:]]*)\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))(?=\\s*[_$[:alpha:]][_$[:alnum:]]*(\\s*\\??\\.\\s*[_$[:alpha:]][_$[:alnum:]]*)*\\s*)",captures:{1:{name:"entity.name.type.module.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"}}},{match:"([_$[:alpha:]][_$[:alnum:]]*)",captures:{1:{name:"entity.other.inherited-class.js"}}},{include:"#expressionPunctuations"}]},"class-or-interface-body":{begin:"\\{",beginCaptures:{0:{name:"punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{include:"#comment"},{include:"#decorator"},{include:"#method-declaration"},{include:"#indexer-declaration"},{include:"#field-declaration"},{include:"#string"},{include:"#type-annotation"},{include:"#variable-initializer"},{include:"#access-modifier"},{include:"#property-accessor"},{include:"#async-modifier"},{include:"#after-operator-block-as-object-literal"},{include:"#decl-block"},{include:"#expression"},{include:"#punctuation-comma"},{include:"#punctuation-semicolon"}]},"access-modifier":{name:"storage.modifier.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(abstract|public|protected|private|readonly|static)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"property-accessor":{name:"storage.type.property.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(get|set)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"async-modifier":{name:"storage.modifier.async.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(async)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"enum-declaration":{name:"meta.enum.declaration.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bexport)\\s+)?(?:\\b(const)\\s+)?\\b(enum)\\s+([_$[:alpha:]][_$[:alnum:]]*)",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"storage.modifier.js"},3:{name:"storage.type.enum.js"},4:{name:"entity.name.type.enum.js"}},end:"(?<=\\})",patterns:[{include:"#comment"},{begin:"\\{",beginCaptures:{0:{name:"punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{include:"#comment"},{begin:"([_$[:alpha:]][_$[:alnum:]]*)",beginCaptures:{0:{name:"variable.other.enummember.js"}},end:"(?=,|\\}|$)",patterns:[{include:"#comment"},{include:"#variable-initializer"}]},{begin:"(?=((\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")|(\\[([^\\[\\]]|\\[[^\\[\\]]*\\])+\\])))",end:"(?=,|\\}|$)",patterns:[{include:"#string"},{include:"#array-literal"},{include:"#comment"},{include:"#variable-initializer"}]},{include:"#punctuation-comma"}]}]},"namespace-declaration":{name:"meta.namespace.declaration.js",begin:"(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bexport)\\s+)?\\b(namespace|module)\\s+(?=[_$[:alpha:]\"'`]))",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"storage.type.namespace.js"}},end:"(?<=\\})|(?=;|\\babstract\\b|\\basync\\b|\\bclass\\b|\\bconst\\b|\\bdeclare\\b|\\benum\\b|\\bexport\\b|\\bfunction\\b|\\bimport\\b|\\binterface\\b|\\blet\\b|\\bmodule\\b|\\bnamespace\\b|\\breturn\\b|\\btype\\b|\\bvar\\b)",patterns:[{include:"#comment"},{include:"#string"},{name:"entity.name.type.module.js",match:"([_$[:alpha:]][_$[:alnum:]]*)"},{include:"#punctuation-accessor"},{include:"#decl-block"}]},"type-alias-declaration":{name:"meta.type.declaration.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bexport)\\s+)?\\b(type)\\b\\s+([_$[:alpha:]][_$[:alnum:]]*)\\s*",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"storage.type.type.js"},3:{name:"entity.name.type.alias.js"}},end:"(?=\\}|;|\\babstract\\b|\\basync\\b|\\bclass\\b|\\bconst\\b|\\bdeclare\\b|\\benum\\b|\\bexport\\b|\\bfunction\\b|\\bimport\\b|\\binterface\\b|\\blet\\b|\\bmodule\\b|\\bnamespace\\b|\\breturn\\b|\\btype\\b|\\bvar\\b)",patterns:[{include:"#comment"},{include:"#type-parameters"},{begin:"(=)\\s*",beginCaptures:{1:{name:"keyword.operator.assignment.js"}},end:"(?=\\}|;|\\babstract\\b|\\basync\\b|\\bclass\\b|\\bconst\\b|\\bdeclare\\b|\\benum\\b|\\bexport\\b|\\bfunction\\b|\\bimport\\b|\\binterface\\b|\\blet\\b|\\bmodule\\b|\\bnamespace\\b|\\breturn\\b|\\btype\\b|\\bvar\\b)",patterns:[{include:"#type"}]}]},"import-equals-declaration":{patterns:[{name:"meta.import-equals.external.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bexport)\\s+)?\\b(import)\\s+([_$[:alpha:]][_$[:alnum:]]*)\\s*(=)\\s*(require)\\s*(\\()",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"keyword.control.import.js"},3:{name:"variable.other.readwrite.alias.js"},4:{name:"keyword.operator.assignment.js"},5:{name:"keyword.control.require.js"},6:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#comment"},{include:"#string"}]},{name:"meta.import-equals.internal.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bexport)\\s+)?\\b(import)\\s+([_$[:alpha:]][_$[:alnum:]]*)\\s*(=)\\s*(?!require\\b)",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"keyword.control.import.js"},3:{name:"variable.other.readwrite.alias.js"},4:{name:"keyword.operator.assignment.js"}},end:"(?=;|$|^)",patterns:[{include:"#comment"},{match:"([_$[:alpha:]][_$[:alnum:]]*)\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))",captures:{1:{name:"entity.name.type.module.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"}}},{name:"variable.other.readwrite.js",match:"([_$[:alpha:]][_$[:alnum:]]*)"}]}]},"import-declaration":{name:"meta.import.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bexport)\\s+)?\\b(import)(?!\\s*[:\\(])(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"keyword.control.import.js"}},end:"(?<!^import|[^\\._$[:alnum:]]import)(?=;|$|^)",patterns:[{include:"#comment"},{include:"#string"},{begin:"(?<=^import|[^\\._$[:alnum:]]import)(?!\\s*[\"'])",end:"\\bfrom\\b",endCaptures:{0:{name:"keyword.control.from.js"}},patterns:[{include:"#import-export-declaration"}]},{include:"#import-export-declaration"}]},"export-declaration":{patterns:[{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(export)\\s+(as)\\s+(namespace)\\s+([_$[:alpha:]][_$[:alnum:]]*)",captures:{1:{name:"keyword.control.export.js"},2:{name:"keyword.control.as.js"},3:{name:"storage.type.namespace.js"},4:{name:"entity.name.type.module.js"}}},{name:"meta.export.default.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(export)(?:(?:\\s*(=))|(?:\\s+(default)(?=\\s+)))",beginCaptures:{1:{name:"keyword.control.export.js"},2:{name:"keyword.operator.assignment.js"},3:{name:"keyword.control.default.js"}},end:"(?=$|;|\\babstract\\b|\\basync\\b|\\bclass\\b|\\bconst\\b|\\bdeclare\\b|\\benum\\b|\\bexport\\b|\\bfunction\\b|\\bimport\\b|\\binterface\\b|\\blet\\b|\\bmodule\\b|\\bnamespace\\b|\\breturn\\b|\\btype\\b|\\bvar\\b)",patterns:[{include:"#expression"}]},{name:"meta.export.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(export)(?!\\s*:)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{0:{name:"keyword.control.export.js"}},end:"(?=$|;|\\babstract\\b|\\basync\\b|\\bclass\\b|\\bconst\\b|\\bdeclare\\b|\\benum\\b|\\bexport\\b|\\bfunction\\b|\\bimport\\b|\\binterface\\b|\\blet\\b|\\bmodule\\b|\\bnamespace\\b|\\breturn\\b|\\btype\\b|\\bvar\\b)",patterns:[{include:"#import-export-declaration"}]}]},"import-export-declaration":{patterns:[{include:"#comment"},{include:"#string"},{include:"#import-export-block"},{name:"keyword.control.from.js",match:"\\bfrom\\b"},{include:"#import-export-clause"}]},"import-export-block":{name:"meta.block.js",begin:"\\{",beginCaptures:{0:{name:"punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{include:"#import-export-clause"}]},"import-export-clause":{patterns:[{include:"#comment"},{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(\\bdefault)|(\\*)|(\\b[_$[:alpha:]][_$[:alnum:]]*))\\s+(as)\\s+(?:(\\bdefault(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.)))|(\\b[_$[:alpha:]][_$[:alnum:]]*))",captures:{1:{name:"keyword.control.default.js"},2:{name:"constant.language.import-export-all.js"},3:{name:"variable.other.readwrite.js"},4:{name:"keyword.control.as.js"},5:{name:"keyword.control.default.js"},6:{name:"variable.other.readwrite.alias.js"}}},{include:"#punctuation-comma"},{name:"constant.language.import-export-all.js",match:"\\*"},{name:"keyword.control.default.js",match:"\\b(default)\\b"},{name:"variable.other.readwrite.alias.js",match:"([_$[:alpha:]][_$[:alnum:]]*)"}]},"switch-statement":{name:"switch-statement.expr.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?=\\bswitch\\s*\\()",end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{name:"switch-expression.expr.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(switch)\\s*(\\()",beginCaptures:{1:{name:"keyword.control.switch.js"},2:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#expression"}]},{name:"switch-block.expr.js",begin:"\\{",beginCaptures:{0:{name:"punctuation.definition.block.js"}},end:"(?=\\})",patterns:[{name:"case-clause.expr.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(case|default(?=:))(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{1:{name:"keyword.control.switch.js"}},end:"(?=:)",patterns:[{include:"#expression"}]},{begin:"(:)\\s*(\\{)",beginCaptures:{1:{name:"case-clause.expr.js punctuation.definition.section.case-statement.js"},2:{name:"meta.block.js punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"meta.block.js punctuation.definition.block.js"}},contentName:"meta.block.js",patterns:[{include:"#statements"}]},{match:"(:)",captures:{0:{name:"case-clause.expr.js punctuation.definition.section.case-statement.js"}}},{include:"#statements"}]}]},"for-loop":{begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))for(?=((\\s+|(\\s*\\/\\*([^\\*]|(\\*[^\\/]))*\\*\\/\\s*))await)?\\s*(\\/\\*([^\\*]|(\\*[^\\/]))*\\*\\/\\s*)?(\\())",beginCaptures:{0:{name:"keyword.control.loop.js"}},end:"(?<=\\))",patterns:[{include:"#comment"},{name:"keyword.control.loop.js",match:"await"},{begin:"\\(",beginCaptures:{0:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#var-expr"},{include:"#expression"},{include:"#punctuation-semicolon"}]}]},"decl-block":{name:"meta.block.js",begin:"\\{",beginCaptures:{0:{name:"punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{include:"#statements"}]},"after-operator-block-as-object-literal":{name:"meta.objectliteral.js",begin:"(?<!\\+\\+|--)(?<=[:=(,\\[?+!>]|^await|[^\\._$[:alnum:]]await|^return|[^\\._$[:alnum:]]return|^yield|[^\\._$[:alnum:]]yield|^throw|[^\\._$[:alnum:]]throw|^in|[^\\._$[:alnum:]]in|^of|[^\\._$[:alnum:]]of|^typeof|[^\\._$[:alnum:]]typeof|&&|\\|\\||\\*)\\s*(\\{)",beginCaptures:{1:{name:"punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{include:"#object-member"}]},"object-literal":{name:"meta.objectliteral.js",begin:"\\{",beginCaptures:{0:{name:"punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{include:"#object-member"}]},"object-member":{patterns:[{include:"#comment"},{include:"#object-literal-method-declaration"},{name:"meta.object.member.js meta.object-literal.key.js",begin:"(?=\\[)",end:"(?=:)|((?<=[\\]])(?=\\s*[\\(\\<]))",patterns:[{include:"#array-literal"}]},{name:"meta.object.member.js meta.object-literal.key.js",begin:"(?=[\\'\\\"])",end:"(?=:)|((?<=[\\'\\\"])(?=\\s*[\\(\\<]))",patterns:[{include:"#string"}]},{name:"meta.method.declaration.js",begin:"(?<=[\\]\\'\\\"])(?=\\s*[\\(\\<])",end:"(?=\\}|;|,)|(?<=\\})",patterns:[{include:"#function-body"}]},{name:"meta.object.member.js",match:"(?![_$[:alpha:]])([[:digit:]]+)\\s*(?=:)",captures:{0:{name:"meta.object-literal.key.js"},1:{name:"constant.numeric.decimal.js"}}},{name:"meta.object.member.js",match:"(?x)(?:([_$[:alpha:]][_$[:alnum:]]*)\\s*(?=:\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n)))",captures:{0:{name:"meta.object-literal.key.js"},1:{name:"entity.name.function.js"}}},{name:"meta.object.member.js",match:"(?:[_$[:alpha:]][_$[:alnum:]]*)\\s*(?=:)",captures:{0:{name:"meta.object-literal.key.js"}}},{name:"meta.object.member.js",begin:"\\.\\.\\.",beginCaptures:{0:{name:"keyword.operator.spread.js"}},end:"(?=,|\\})",patterns:[{include:"#expression"}]},{name:"meta.object.member.js",match:"([_$[:alpha:]][_$[:alnum:]]*)\\s*(?=,|\\}|$)",captures:{1:{name:"variable.other.readwrite.js"}}},{name:"meta.object.member.js",begin:"(?=[_$[:alpha:]][_$[:alnum:]]*\\s*=)",end:"(?=,|\\}|$)",patterns:[{include:"#expression"}]},{name:"meta.object.member.js",begin:":",beginCaptures:{0:{name:"meta.object-literal.key.js punctuation.separator.key-value.js"}},end:"(?=,|\\})",patterns:[{begin:"(?<=:)\\s*(async)?(?=\\s*(<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)\\(\\s*([\\{\\[]\\s*)?$)",beginCaptures:{1:{name:"storage.modifier.async.js"}},end:"(?<=\\))",patterns:[{include:"#type-parameters"},{begin:"\\(",beginCaptures:{0:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#expression-inside-possibly-arrow-parens"}]}]},{begin:"(?<=:)\\s*(async)?\\s*(\\()(?=\\s*([\\{\\[]\\s*)?$)",beginCaptures:{1:{name:"storage.modifier.async.js"},2:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#expression-inside-possibly-arrow-parens"}]},{include:"#expression"}]},{include:"#punctuation-comma"}]},"ternary-expression":{begin:"(?!\\?\\.\\s*[^[:digit:]])(\\?)",beginCaptures:{1:{name:"keyword.operator.ternary.js"}},end:"\\s*(:)",endCaptures:{1:{name:"keyword.operator.ternary.js"}},patterns:[{include:"#expression"}]},"function-call":{begin:"(?=(([_$[:alpha:]][_$[:alnum:]]*\\s*\\??\\.\\s*)*|(\\??\\.\\s*)?)([_$[:alpha:]][_$[:alnum:]]*)\\s*(\\?\\.\\s*)?(<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>|\\<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>)*(?!=)\\>)*(?!=)>\\s*)?\\()",end:"(?<=\\))(?!(([_$[:alpha:]][_$[:alnum:]]*\\s*\\??\\.\\s*)*|(\\??\\.\\s*)?)([_$[:alpha:]][_$[:alnum:]]*)\\s*(\\?\\.\\s*)?(<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>|\\<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>)*(?!=)\\>)*(?!=)>\\s*)?\\()",patterns:[{name:"meta.function-call.js",begin:"(?=(([_$[:alpha:]][_$[:alnum:]]*\\s*\\??\\.\\s*)*|(\\??\\.\\s*)?)([_$[:alpha:]][_$[:alnum:]]*))",end:"(?=\\s*(\\?\\.\\s*)?(<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>|\\<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>)*(?!=)\\>)*(?!=)>\\s*)?\\()",patterns:[{include:"#literal"},{include:"#support-objects"},{include:"#object-identifiers"},{include:"#punctuation-accessor"},{name:"keyword.operator.expression.import.js",match:"(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))import(?=\\s*[\\(]\\s*[\\\"\\'\\`]))"},{name:"entity.name.function.js",match:"([_$[:alpha:]][_$[:alnum:]]*)"}]},{include:"#comment"},{name:"meta.function-call.js punctuation.accessor.optional.js",match:"\\?\\."},{include:"#type-arguments"},{include:"#paren-expression"}]},"new-expr":{name:"new.expr.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(new)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{1:{name:"keyword.operator.new.js"}},end:"(?<=\\))|(?=[;),}\\]:]|\\|\\||\\&\\&|$|((?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))new(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.)))|((?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))function((\\s+[_$[:alpha:]][_$[:alnum:]]*)|(\\s*[\\(]))))",patterns:[{include:"#paren-expression"},{include:"#class-declaration"},{include:"#type"}]},"instanceof-expr":{begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(instanceof)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))",beginCaptures:{1:{name:"keyword.operator.expression.instanceof.js"}},end:"(?<=\\))|(?=[;),}\\]:?]|\\|\\||\\&\\&|$|((?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))function((\\s+[_$[:alpha:]][_$[:alnum:]]*)|(\\s*[\\(]))))",patterns:[{include:"#type"}]},"paren-expression-possibly-arrow":{patterns:[{begin:"(?<=[(=,])\\s*(async)?(?=\\s*((<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*))?\\(\\s*[\\{\\[]\\s*$)",beginCaptures:{1:{name:"storage.modifier.async.js"}},end:"(?<=\\))",patterns:[{include:"#paren-expression-possibly-arrow-with-typeparameters"}]},{begin:"(?<=[(=,]|=>)\\s*(async)?(?=\\s*((<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*))?\\(\\s*$)",beginCaptures:{1:{name:"storage.modifier.async.js"}},end:"(?<=\\))",patterns:[{include:"#paren-expression-possibly-arrow-with-typeparameters"}]},{include:"#possibly-arrow-return-type"}]},"paren-expression-possibly-arrow-with-typeparameters":{patterns:[{include:"#type-parameters"},{begin:"\\(",beginCaptures:{0:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#expression-inside-possibly-arrow-parens"}]}]},"expression-inside-possibly-arrow-parens":{patterns:[{include:"#expressionWithoutIdentifiers"},{include:"#function-parameters-body"},{include:"#identifiers"},{include:"#expressionPunctuations"}]},"paren-expression":{begin:"\\(",beginCaptures:{0:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#expression"}]},cast:{patterns:[{include:"#jsx"}]},"expression-operators":{patterns:[{name:"keyword.control.flow.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(await)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(yield)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))(?=\\s*\\/\\*([^\\*]|(\\*[^\\/]))*\\*\\/\\s*\\*)",beginCaptures:{1:{name:"keyword.control.flow.js"}},end:"\\*",endCaptures:{0:{name:"keyword.generator.asterisk.js"}},patterns:[{include:"#comment"}]},{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(yield)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))(?:\\s*(\\*))?",captures:{1:{name:"keyword.control.flow.js"},2:{name:"keyword.generator.asterisk.js"}}},{name:"keyword.operator.expression.delete.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))delete(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.operator.expression.in.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))in(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))(?!\\()"},{name:"keyword.operator.expression.of.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))of(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))(?!\\()"},{name:"keyword.operator.expression.instanceof.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))instanceof(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.operator.new.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))new(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{include:"#typeof-operator"},{name:"keyword.operator.expression.void.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))void(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(as)\\s+",beginCaptures:{1:{name:"keyword.control.as.js"}},end:"(?=$|^|[;,:})\\]]|((?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(as)\\s+))",patterns:[{include:"#type"}]},{name:"keyword.operator.spread.js",match:"\\.\\.\\."},{name:"keyword.operator.assignment.compound.js",match:"\\*=|(?<!\\()/=|%=|\\+=|\\-="},{name:"keyword.operator.assignment.compound.bitwise.js",match:"\\&=|\\^=|<<=|>>=|>>>=|\\|="},{name:"keyword.operator.bitwise.shift.js",match:"<<|>>>|>>"},{name:"keyword.operator.comparison.js",match:"===|!==|==|!="},{name:"keyword.operator.relational.js",match:"<=|>=|<>|<|>"},{name:"keyword.operator.logical.js",match:"\\!|&&|\\|\\|"},{name:"keyword.operator.bitwise.js",match:"\\&|~|\\^|\\|"},{name:"keyword.operator.assignment.js",match:"\\="},{name:"keyword.operator.decrement.js",match:"--"},{name:"keyword.operator.increment.js",match:"\\+\\+"},{name:"keyword.operator.arithmetic.js",match:"%|\\*|/|-|\\+"},{match:"(?<=[_$[:alnum:])\\]])\\s*(/)(?![/*])",captures:{1:{name:"keyword.operator.arithmetic.js"}}}]},"typeof-operator":{name:"keyword.operator.expression.typeof.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))typeof(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},literal:{patterns:[{include:"#numeric-literal"},{include:"#boolean-literal"},{include:"#null-literal"},{include:"#undefined-literal"},{include:"#numericConstant-literal"},{include:"#array-literal"},{include:"#this-literal"},{include:"#super-literal"}]},"array-literal":{name:"meta.array.literal.js",begin:"\\s*(\\[)",beginCaptures:{1:{name:"meta.brace.square.js"}},end:"\\]",endCaptures:{0:{name:"meta.brace.square.js"}},patterns:[{include:"#expression"},{include:"#punctuation-comma"}]},"numeric-literal":{patterns:[{name:"constant.numeric.hex.js",match:"\\b(?<!\\$)0(x|X)[0-9a-fA-F][0-9a-fA-F_]*\\b(?!\\$)"},{name:"constant.numeric.binary.js",match:"\\b(?<!\\$)0(b|B)[01][01_]*\\b(?!\\$)"},{name:"constant.numeric.octal.js",match:"\\b(?<!\\$)0(o|O)?[0-7][0-7_]*\\b(?!\\$)"},{match:"(?x)\n(?<!\\$)(?:\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)| # 1.1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[eE][+-]?[0-9][0-9_]*\\b)|             # 1.E+3\n  (?:\\B(\\.)[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|             # .1E+3\n  (?:\\b[0-9][0-9_]*[eE][+-]?[0-9][0-9_]*\\b)|                 # 1E+3\n  (?:\\b[0-9][0-9_]*(\\.)[0-9][0-9_]*\\b)|                      # 1.1\n  (?:\\b[0-9][0-9_]*(\\.)\\B)|                                  # 1.\n  (?:\\B(\\.)[0-9][0-9_]*\\b)|                                  # .1\n  (?:\\b[0-9][0-9_]*\\b(?!\\.))                                 # 1\n)(?!\\$)",captures:{0:{name:"constant.numeric.decimal.js"},1:{name:"meta.delimiter.decimal.period.js"},2:{name:"meta.delimiter.decimal.period.js"},3:{name:"meta.delimiter.decimal.period.js"},4:{name:"meta.delimiter.decimal.period.js"},5:{name:"meta.delimiter.decimal.period.js"},6:{name:"meta.delimiter.decimal.period.js"}}}]},"boolean-literal":{patterns:[{name:"constant.language.boolean.true.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))true(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"constant.language.boolean.false.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))false(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"}]},"null-literal":{name:"constant.language.null.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))null(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"this-literal":{name:"variable.language.this.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))this\\b(?!\\$)"},"super-literal":{name:"variable.language.super.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))super\\b(?!\\$)"},"undefined-literal":{name:"constant.language.undefined.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))undefined(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"numericConstant-literal":{patterns:[{name:"constant.language.nan.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))NaN(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"constant.language.infinity.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))Infinity(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"}]},"support-objects":{patterns:[{name:"variable.language.arguments.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(arguments)\\b(?!\\$)"},{name:"support.class.builtin.js",match:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(Array|ArrayBuffer|Atomics|Boolean|DataView|Date|Float32Array|Float64Array|Function|Generator\n  |GeneratorFunction|Int8Array|Int16Array|Int32Array|Intl|Map|Number|Object|Proxy\n  |Reflect|RegExp|Set|SharedArrayBuffer|SIMD|String|Symbol|TypedArray\n  |Uint8Array|Uint16Array|Uint32Array|Uint8ClampedArray|WeakMap|WeakSet)\\b(?!\\$)"},{name:"support.class.error.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))((Eval|Internal|Range|Reference|Syntax|Type|URI)?Error)\\b(?!\\$)"},{name:"support.class.promise.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(Promise)\\b(?!\\$)"},{name:"support.function.js",match:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(clear(Interval|Timeout)|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|\n  isFinite|isNaN|parseFloat|parseInt|require|set(Interval|Timeout)|super|unescape|uneval)(?=\\s*\\()"},{match:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(Math)(?:\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*(?:\n  (abs|acos|acosh|asin|asinh|atan|atan2|atanh|cbrt|ceil|clz32|cos|cosh|exp|\n  expm1|floor|fround|hypot|imul|log|log10|log1p|log2|max|min|pow|random|\n  round|sign|sin|sinh|sqrt|tan|tanh|trunc)\n  |\n  (E|LN10|LN2|LOG10E|LOG2E|PI|SQRT1_2|SQRT2)))?\\b(?!\\$)",captures:{1:{name:"support.constant.math.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"},4:{name:"support.function.math.js"},5:{name:"support.constant.property.math.js"}}},{match:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(console)(?:\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*(\n  assert|clear|count|debug|dir|error|group|groupCollapsed|groupEnd|info|log\n  |profile|profileEnd|table|time|timeEnd|timeStamp|trace|warn))?\\b(?!\\$)",captures:{1:{name:"support.class.console.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"},4:{name:"support.function.console.js"}}},{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(JSON)(?:\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*(parse|stringify))?\\b(?!\\$)",captures:{1:{name:"support.constant.json.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"},4:{name:"support.function.json.js"}}},{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(import)\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*(meta)\\b(?!\\$)",captures:{1:{name:"keyword.control.import.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"},4:{name:"support.variable.property.importmeta.js"}}},{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(new)\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*(target)\\b(?!\\$)",captures:{1:{name:"keyword.operator.new.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"},4:{name:"support.variable.property.target.js"}}},{match:"(?x) (?:(\\.)|(\\?\\.(?!\\s*[[:digit:]]))) \\s* (?:\n  (constructor|length|prototype|__proto__)\n  |\n  (EPSILON|MAX_SAFE_INTEGER|MAX_VALUE|MIN_SAFE_INTEGER|MIN_VALUE|NEGATIVE_INFINITY|POSITIVE_INFINITY))\\b(?!\\$)",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"},3:{name:"support.variable.property.js"},4:{name:"support.constant.js"}}},{match:"(?x) (?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.)) \\b (?:\n  (document|event|navigator|performance|screen|window)\n  |\n  (AnalyserNode|ArrayBufferView|Attr|AudioBuffer|AudioBufferSourceNode|AudioContext|AudioDestinationNode|AudioListener\n  |AudioNode|AudioParam|BatteryManager|BeforeUnloadEvent|BiquadFilterNode|Blob|BufferSource|ByteString|CSS|CSSConditionRule\n  |CSSCounterStyleRule|CSSGroupingRule|CSSMatrix|CSSMediaRule|CSSPageRule|CSSPrimitiveValue|CSSRule|CSSRuleList|CSSStyleDeclaration\n  |CSSStyleRule|CSSStyleSheet|CSSSupportsRule|CSSValue|CSSValueList|CanvasGradient|CanvasImageSource|CanvasPattern\n  |CanvasRenderingContext2D|ChannelMergerNode|ChannelSplitterNode|CharacterData|ChromeWorker|CloseEvent|Comment|CompositionEvent\n  |Console|ConvolverNode|Coordinates|Credential|CredentialsContainer|Crypto|CryptoKey|CustomEvent|DOMError|DOMException\n  |DOMHighResTimeStamp|DOMImplementation|DOMString|DOMStringList|DOMStringMap|DOMTimeStamp|DOMTokenList|DataTransfer\n  |DataTransferItem|DataTransferItemList|DedicatedWorkerGlobalScope|DelayNode|DeviceProximityEvent|DirectoryEntry\n  |DirectoryEntrySync|DirectoryReader|DirectoryReaderSync|Document|DocumentFragment|DocumentTouch|DocumentType|DragEvent\n  |DynamicsCompressorNode|Element|Entry|EntrySync|ErrorEvent|Event|EventListener|EventSource|EventTarget|FederatedCredential\n  |FetchEvent|File|FileEntry|FileEntrySync|FileException|FileList|FileReader|FileReaderSync|FileSystem|FileSystemSync\n  |FontFace|FormData|GainNode|Gamepad|GamepadButton|GamepadEvent|Geolocation|GlobalEventHandlers|HTMLAnchorElement\n  |HTMLAreaElement|HTMLAudioElement|HTMLBRElement|HTMLBaseElement|HTMLBodyElement|HTMLButtonElement|HTMLCanvasElement\n  |HTMLCollection|HTMLContentElement|HTMLDListElement|HTMLDataElement|HTMLDataListElement|HTMLDialogElement|HTMLDivElement\n  |HTMLDocument|HTMLElement|HTMLEmbedElement|HTMLFieldSetElement|HTMLFontElement|HTMLFormControlsCollection|HTMLFormElement\n  |HTMLHRElement|HTMLHeadElement|HTMLHeadingElement|HTMLHtmlElement|HTMLIFrameElement|HTMLImageElement|HTMLInputElement\n  |HTMLKeygenElement|HTMLLIElement|HTMLLabelElement|HTMLLegendElement|HTMLLinkElement|HTMLMapElement|HTMLMediaElement\n  |HTMLMetaElement|HTMLMeterElement|HTMLModElement|HTMLOListElement|HTMLObjectElement|HTMLOptGroupElement|HTMLOptionElement\n  |HTMLOptionsCollection|HTMLOutputElement|HTMLParagraphElement|HTMLParamElement|HTMLPreElement|HTMLProgressElement\n  |HTMLQuoteElement|HTMLScriptElement|HTMLSelectElement|HTMLShadowElement|HTMLSourceElement|HTMLSpanElement|HTMLStyleElement\n  |HTMLTableCaptionElement|HTMLTableCellElement|HTMLTableColElement|HTMLTableDataCellElement|HTMLTableElement|HTMLTableHeaderCellElement\n  |HTMLTableRowElement|HTMLTableSectionElement|HTMLTextAreaElement|HTMLTimeElement|HTMLTitleElement|HTMLTrackElement\n  |HTMLUListElement|HTMLUnknownElement|HTMLVideoElement|HashChangeEvent|History|IDBCursor|IDBCursorWithValue|IDBDatabase\n  |IDBEnvironment|IDBFactory|IDBIndex|IDBKeyRange|IDBMutableFile|IDBObjectStore|IDBOpenDBRequest|IDBRequest|IDBTransaction\n  |IDBVersionChangeEvent|IIRFilterNode|IdentityManager|ImageBitmap|ImageBitmapFactories|ImageData|Index|InputDeviceCapabilities\n  |InputEvent|InstallEvent|InstallTrigger|KeyboardEvent|LinkStyle|LocalFileSystem|LocalFileSystemSync|Location|MIDIAccess\n  |MIDIConnectionEvent|MIDIInput|MIDIInputMap|MIDIOutputMap|MediaElementAudioSourceNode|MediaError|MediaKeyMessageEvent\n  |MediaKeySession|MediaKeyStatusMap|MediaKeySystemAccess|MediaKeySystemConfiguration|MediaKeys|MediaRecorder|MediaStream\n  |MediaStreamAudioDestinationNode|MediaStreamAudioSourceNode|MessageChannel|MessageEvent|MessagePort|MouseEvent\n  |MutationObserver|MutationRecord|NamedNodeMap|Navigator|NavigatorConcurrentHardware|NavigatorGeolocation|NavigatorID\n  |NavigatorLanguage|NavigatorOnLine|Node|NodeFilter|NodeIterator|NodeList|NonDocumentTypeChildNode|Notification\n  |OfflineAudioCompletionEvent|OfflineAudioContext|OscillatorNode|PageTransitionEvent|PannerNode|ParentNode|PasswordCredential\n  |Path2D|PaymentAddress|PaymentRequest|PaymentResponse|Performance|PerformanceEntry|PerformanceFrameTiming|PerformanceMark\n  |PerformanceMeasure|PerformanceNavigation|PerformanceNavigationTiming|PerformanceObserver|PerformanceObserverEntryList\n  |PerformanceResourceTiming|PerformanceTiming|PeriodicSyncEvent|PeriodicWave|Plugin|Point|PointerEvent|PopStateEvent\n  |PortCollection|Position|PositionError|PositionOptions|PresentationConnectionClosedEvent|PresentationConnectionList\n  |PresentationReceiver|ProcessingInstruction|ProgressEvent|PromiseRejectionEvent|PushEvent|PushRegistrationManager\n  |RTCCertificate|RTCConfiguration|RTCPeerConnection|RTCSessionDescriptionCallback|RTCStatsReport|RadioNodeList|RandomSource\n  |Range|ReadableByteStream|RenderingContext|SVGAElement|SVGAngle|SVGAnimateColorElement|SVGAnimateElement|SVGAnimateMotionElement\n  |SVGAnimateTransformElement|SVGAnimatedAngle|SVGAnimatedBoolean|SVGAnimatedEnumeration|SVGAnimatedInteger|SVGAnimatedLength\n  |SVGAnimatedLengthList|SVGAnimatedNumber|SVGAnimatedNumberList|SVGAnimatedPoints|SVGAnimatedPreserveAspectRatio\n  |SVGAnimatedRect|SVGAnimatedString|SVGAnimatedTransformList|SVGAnimationElement|SVGCircleElement|SVGClipPathElement\n  |SVGCursorElement|SVGDefsElement|SVGDescElement|SVGElement|SVGEllipseElement|SVGEvent|SVGFilterElement|SVGFontElement\n  |SVGFontFaceElement|SVGFontFaceFormatElement|SVGFontFaceNameElement|SVGFontFaceSrcElement|SVGFontFaceUriElement\n  |SVGForeignObjectElement|SVGGElement|SVGGlyphElement|SVGGradientElement|SVGHKernElement|SVGImageElement|SVGLength\n  |SVGLengthList|SVGLineElement|SVGLinearGradientElement|SVGMPathElement|SVGMaskElement|SVGMatrix|SVGMissingGlyphElement\n  |SVGNumber|SVGNumberList|SVGPathElement|SVGPatternElement|SVGPoint|SVGPolygonElement|SVGPolylineElement|SVGPreserveAspectRatio\n  |SVGRadialGradientElement|SVGRect|SVGRectElement|SVGSVGElement|SVGScriptElement|SVGSetElement|SVGStopElement|SVGStringList\n  |SVGStylable|SVGStyleElement|SVGSwitchElement|SVGSymbolElement|SVGTRefElement|SVGTSpanElement|SVGTests|SVGTextElement\n  |SVGTextPositioningElement|SVGTitleElement|SVGTransform|SVGTransformList|SVGTransformable|SVGUseElement|SVGVKernElement\n  |SVGViewElement|ServiceWorker|ServiceWorkerContainer|ServiceWorkerGlobalScope|ServiceWorkerRegistration|ServiceWorkerState\n  |ShadowRoot|SharedWorker|SharedWorkerGlobalScope|SourceBufferList|StereoPannerNode|Storage|StorageEvent|StyleSheet\n  |StyleSheetList|SubtleCrypto|SyncEvent|Text|TextMetrics|TimeEvent|TimeRanges|Touch|TouchEvent|TouchList|Transferable\n  |TreeWalker|UIEvent|USVString|VRDisplayCapabilities|ValidityState|WaveShaperNode|WebGL|WebGLActiveInfo|WebGLBuffer\n  |WebGLContextEvent|WebGLFramebuffer|WebGLProgram|WebGLRenderbuffer|WebGLRenderingContext|WebGLShader|WebGLShaderPrecisionFormat\n  |WebGLTexture|WebGLTimerQueryEXT|WebGLTransformFeedback|WebGLUniformLocation|WebGLVertexArrayObject|WebGLVertexArrayObjectOES\n  |WebSocket|WebSockets|WebVTT|WheelEvent|Window|WindowBase64|WindowEventHandlers|WindowTimers|Worker|WorkerGlobalScope\n  |WorkerLocation|WorkerNavigator|XMLHttpRequest|XMLHttpRequestEventTarget|XMLSerializer|XPathExpression|XPathResult\n  |XSLTProcessor))\\b(?!\\$)",captures:{1:{name:"support.variable.dom.js"},2:{name:"support.class.dom.js"}}},{match:"(?x) (?:(\\.)|(\\?\\.(?!\\s*[[:digit:]]))) \\s* (?:\n  (ATTRIBUTE_NODE|CDATA_SECTION_NODE|COMMENT_NODE|DOCUMENT_FRAGMENT_NODE|DOCUMENT_NODE|DOCUMENT_TYPE_NODE\n  |DOMSTRING_SIZE_ERR|ELEMENT_NODE|ENTITY_NODE|ENTITY_REFERENCE_NODE|HIERARCHY_REQUEST_ERR|INDEX_SIZE_ERR\n  |INUSE_ATTRIBUTE_ERR|INVALID_CHARACTER_ERR|NO_DATA_ALLOWED_ERR|NO_MODIFICATION_ALLOWED_ERR|NOT_FOUND_ERR\n  |NOT_SUPPORTED_ERR|NOTATION_NODE|PROCESSING_INSTRUCTION_NODE|TEXT_NODE|WRONG_DOCUMENT_ERR)\n  |\n  (_content|[xyz]|abbr|above|accept|acceptCharset|accessKey|action|align|[av]Link(?:color)?|all|alt|anchors|appCodeName\n  |appCore|applets|appMinorVersion|appName|appVersion|archive|areas|arguments|attributes|availHeight|availLeft|availTop\n  |availWidth|axis|background|backgroundColor|backgroundImage|below|bgColor|body|border|borderBottomWidth|borderColor\n  |borderLeftWidth|borderRightWidth|borderStyle|borderTopWidth|borderWidth|bottom|bufferDepth|callee|caller|caption\n  |cellPadding|cells|cellSpacing|ch|characterSet|charset|checked|childNodes|chOff|cite|classes|className|clear\n  |clientInformation|clip|clipBoardData|closed|code|codeBase|codeType|color|colorDepth|cols|colSpan|compact|complete\n  |components|content|controllers|cookie|cookieEnabled|cords|cpuClass|crypto|current|data|dateTime|declare|defaultCharset\n  |defaultChecked|defaultSelected|defaultStatus|defaultValue|defaultView|defer|description|dialogArguments|dialogHeight\n  |dialogLeft|dialogTop|dialogWidth|dir|directories|disabled|display|docmain|doctype|documentElement|elements|embeds\n  |enabledPlugin|encoding|enctype|entities|event|expando|external|face|fgColor|filename|firstChild|fontFamily|fontSize\n  |fontWeight|form|formName|forms|frame|frameBorder|frameElement|frames|hasFocus|hash|headers|height|history|host\n  |hostname|href|hreflang|hspace|htmlFor|httpEquiv|id|ids|ignoreCase|images|implementation|index|innerHeight|innerWidth\n  |input|isMap|label|lang|language|lastChild|lastIndex|lastMatch|lastModified|lastParen|layer[sXY]|left|leftContext\n  |lineHeight|link|linkColor|links|listStyleType|localName|location|locationbar|longDesc|lowsrc|lowSrc|marginBottom\n  |marginHeight|marginLeft|marginRight|marginTop|marginWidth|maxLength|media|menubar|method|mimeTypes|multiline|multiple\n  |name|nameProp|namespaces|namespaceURI|next|nextSibling|nodeName|nodeType|nodeValue|noHref|noResize|noShade|notationName\n  |notations|noWrap|object|offscreenBuffering|onLine|onreadystatechange|opener|opsProfile|options|oscpu|outerHeight\n  |outerWidth|ownerDocument|paddingBottom|paddingLeft|paddingRight|paddingTop|page[XY]|page[XY]Offset|parent|parentLayer\n  |parentNode|parentWindow|pathname|personalbar|pixelDepth|pkcs11|platform|plugins|port|prefix|previous|previousDibling\n  |product|productSub|profile|profileend|prompt|prompter|protocol|publicId|readOnly|readyState|referrer|rel|responseText\n  |responseXML|rev|right|rightContext|rowIndex|rows|rowSpan|rules|scheme|scope|screen[XY]|screenLeft|screenTop|scripts\n  |scrollbars|scrolling|sectionRowIndex|security|securityPolicy|selected|selectedIndex|selection|self|shape|siblingAbove\n  |siblingBelow|size|source|specified|standby|start|status|statusbar|statusText|style|styleSheets|suffixes|summary\n  |systemId|systemLanguage|tagName|tags|target|tBodies|text|textAlign|textDecoration|textIndent|textTransform|tFoot|tHead\n  |title|toolbar|top|type|undefined|uniqueID|updateInterval|URL|URLUnencoded|useMap|userAgent|userLanguage|userProfile\n  |vAlign|value|valueType|vendor|vendorSub|version|visibility|vspace|whiteSpace|width|X[MS]LDocument|zIndex))\\b(?!\\$|\\s*(<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\\()",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"},3:{name:"support.constant.dom.js"},4:{name:"support.variable.property.dom.js"}}},{name:"support.class.node.js",match:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(Buffer|EventEmitter|Server|Pipe|Socket|REPLServer|ReadStream|WriteStream|Stream\n  |Inflate|Deflate|InflateRaw|DeflateRaw|GZip|GUnzip|Unzip|Zip)\\b(?!\\$)"},{match:"(?x)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(process)(?:(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))(?:\n  (arch|argv|config|connected|env|execArgv|execPath|exitCode|mainModule|pid|platform|release|stderr|stdin|stdout|title|version|versions)\n  |\n  (abort|chdir|cwd|disconnect|exit|[sg]ete?[gu]id|send|[sg]etgroups|initgroups|kill|memoryUsage|nextTick|umask|uptime|hrtime)\n))?\\b(?!\\$)",captures:{1:{name:"support.variable.object.process.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"},4:{name:"support.variable.property.process.js"},5:{name:"support.function.process.js"}}},{match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(exports)|(module)(?:(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))(exports|id|filename|loaded|parent|children))?)\\b(?!\\$)",captures:{1:{name:"support.type.object.module.js"},2:{name:"support.type.object.module.js"},3:{name:"punctuation.accessor.js"},4:{name:"punctuation.accessor.optional.js"},5:{name:"support.type.object.module.js"}}},{name:"support.variable.object.node.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(global|GLOBAL|root|__dirname|__filename)\\b(?!\\$)"},{match:"(?x) (?:(\\.)|(\\?\\.(?!\\s*[[:digit:]]))) \\s*\n(?:\n (on(?:Rowsinserted|Rowsdelete|Rowenter|Rowexit|Resize|Resizestart|Resizeend|Reset|\n   Readystatechange|Mouseout|Mouseover|Mousedown|Mouseup|Mousemove|\n   Before(?:cut|deactivate|unload|update|paste|print|editfocus|activate)|\n   Blur|Scrolltop|Submit|Select|Selectstart|Selectionchange|Hover|Help|\n   Change|Contextmenu|Controlselect|Cut|Cellchange|Clock|Close|Deactivate|\n   Datasetchanged|Datasetcomplete|Dataavailable|Drop|Drag|Dragstart|Dragover|\n   Dragdrop|Dragenter|Dragend|Dragleave|Dblclick|Unload|Paste|Propertychange|Error|\n   Errorupdate|Keydown|Keyup|Keypress|Focus|Load|Activate|Afterupdate|Afterprint|Abort)\n ) |\n (shift|showModelessDialog|showModalDialog|showHelp|scroll|scrollX|scrollByPages|\n   scrollByLines|scrollY|scrollTo|stop|strike|sizeToContent|sidebar|signText|sort|\n   sup|sub|substr|substring|splice|split|send|set(?:Milliseconds|Seconds|Minutes|Hours|\n   Month|Year|FullYear|Date|UTC(?:Milliseconds|Seconds|Minutes|Hours|Month|FullYear|Date)|\n   Time|Hotkeys|Cursor|ZOptions|Active|Resizable|RequestHeader)|search|slice|\n   savePreferences|small|home|handleEvent|navigate|char|charCodeAt|charAt|concat|\n   contextual|confirm|compile|clear|captureEvents|call|createStyleSheet|createPopup|\n   createEventObject|to(?:GMTString|UTCString|String|Source|UpperCase|LowerCase|LocaleString)|\n   test|taint|taintEnabled|indexOf|italics|disableExternalCapture|dump|detachEvent|unshift|\n   untaint|unwatch|updateCommands|join|javaEnabled|pop|push|plugins.refresh|paddings|parse|\n   print|prompt|preference|enableExternalCapture|exec|execScript|valueOf|UTC|find|file|\n   fileModifiedDate|fileSize|fileCreatedDate|fileUpdatedDate|fixed|fontsize|fontcolor|\n   forward|fromCharCode|watch|link|load|lastIndexOf|anchor|attachEvent|atob|apply|alert|\n   abort|routeEvents|resize|resizeBy|resizeTo|recalc|returnValue|replace|reverse|reload|\n   releaseCapture|releaseEvents|go|get(?:Milliseconds|Seconds|Minutes|Hours|Month|Day|Year|FullYear|\n   Time|Date|TimezoneOffset|UTC(?:Milliseconds|Seconds|Minutes|Hours|Day|Month|FullYear|Date)|\n   Attention|Selection|ResponseHeader|AllResponseHeaders)|moveBy|moveBelow|moveTo|\n   moveToAbsolute|moveAbove|mergeAttributes|match|margins|btoa|big|bold|borderWidths|blink|back\n ) |\n (acceptNode|add|addEventListener|addTextTrack|adoptNode|after|animate|append|\n   appendChild|appendData|before|blur|canPlayType|captureStream|\n   caretPositionFromPoint|caretRangeFromPoint|checkValidity|clear|click|\n   cloneContents|cloneNode|cloneRange|close|closest|collapse|\n   compareBoundaryPoints|compareDocumentPosition|comparePoint|contains|\n   convertPointFromNode|convertQuadFromNode|convertRectFromNode|createAttribute|\n   createAttributeNS|createCaption|createCDATASection|createComment|\n   createContextualFragment|createDocument|createDocumentFragment|\n   createDocumentType|createElement|createElementNS|createEntityReference|\n   createEvent|createExpression|createHTMLDocument|createNodeIterator|\n   createNSResolver|createProcessingInstruction|createRange|createShadowRoot|\n   createTBody|createTextNode|createTFoot|createTHead|createTreeWalker|delete|\n   deleteCaption|deleteCell|deleteContents|deleteData|deleteRow|deleteTFoot|\n   deleteTHead|detach|disconnect|dispatchEvent|elementFromPoint|elementsFromPoint|\n   enableStyleSheetsForSet|entries|evaluate|execCommand|exitFullscreen|\n   exitPointerLock|expand|extractContents|fastSeek|firstChild|focus|forEach|get|\n   getAll|getAnimations|getAttribute|getAttributeNames|getAttributeNode|\n   getAttributeNodeNS|getAttributeNS|getBoundingClientRect|getBoxQuads|\n   getClientRects|getContext|getDestinationInsertionPoints|getElementById|\n   getElementsByClassName|getElementsByName|getElementsByTagName|\n   getElementsByTagNameNS|getItem|getNamedItem|getSelection|getStartDate|\n   getVideoPlaybackQuality|has|hasAttribute|hasAttributeNS|hasAttributes|\n   hasChildNodes|hasFeature|hasFocus|importNode|initEvent|insertAdjacentElement|\n   insertAdjacentHTML|insertAdjacentText|insertBefore|insertCell|insertData|\n   insertNode|insertRow|intersectsNode|isDefaultNamespace|isEqualNode|\n   isPointInRange|isSameNode|item|key|keys|lastChild|load|lookupNamespaceURI|\n   lookupPrefix|matches|move|moveAttribute|moveAttributeNode|moveChild|\n   moveNamedItem|namedItem|nextNode|nextSibling|normalize|observe|open|\n   parentNode|pause|play|postMessage|prepend|preventDefault|previousNode|\n   previousSibling|probablySupportsContext|queryCommandEnabled|\n   queryCommandIndeterm|queryCommandState|queryCommandSupported|queryCommandValue|\n   querySelector|querySelectorAll|registerContentHandler|registerElement|\n   registerProtocolHandler|releaseCapture|releaseEvents|remove|removeAttribute|\n   removeAttributeNode|removeAttributeNS|removeChild|removeEventListener|\n   removeItem|replace|replaceChild|replaceData|replaceWith|reportValidity|\n   requestFullscreen|requestPointerLock|reset|scroll|scrollBy|scrollIntoView|\n   scrollTo|seekToNextFrame|select|selectNode|selectNodeContents|set|setAttribute|\n   setAttributeNode|setAttributeNodeNS|setAttributeNS|setCapture|\n   setCustomValidity|setEnd|setEndAfter|setEndBefore|setItem|setNamedItem|\n   setRangeText|setSelectionRange|setSinkId|setStart|setStartAfter|setStartBefore|\n   slice|splitText|stepDown|stepUp|stopImmediatePropagation|stopPropagation|\n   submit|substringData|supports|surroundContents|takeRecords|terminate|toBlob|\n   toDataURL|toggle|toString|values|write|writeln\n ) |\n (all|catch|finally|race|reject|resolve|then\n )\n)(?=\\s*\\()",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"},3:{name:"support.function.event-handler.js"},4:{name:"support.function.js"},5:{name:"support.function.dom.js"},6:{name:"support.function.promise.js"}}}]},identifiers:{patterns:[{include:"#object-identifiers"},{match:"(?x)(?:(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*)?([_$[:alpha:]][_$[:alnum:]]*)(?=\\s*=\\s*(\n  ((async\\s+)?(\n    (function\\s*[(<*]) |\n    (function\\s+) |\n    ([_$[:alpha:]][_$[:alnum:]]*\\s*=>)\n  )) |\n  ((async\\s*)?(\n    ([\\(]\\s*([\\{\\[]\\s*)?$) |\n    # sure shot arrow functions even if => is on new line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?\n  [(]\\s*\n  (\n    ([)]\\s*:) |                                                                                       # ():\n    ((\\.\\.\\.\\s*)?[_$[:alpha:]][_$[:alnum:]]*\\s*:)                                                                  # [(]param: | [(]...param:\n  )\n) |\n(\n  [<]\\s*[_$[:alpha:]][_$[:alnum:]]*\\s+extends\\s*[^=>]                                                              # < typeparam extends\n) |\n# arrow function possible to detect only with => on same line\n(\n  (<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<]|\\<\\s*([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\]))([^=<>]|=[^<])*\\>)*>\\s*)?                                                                                 # typeparameters\n  \\(\\s*(([_$[:alpha:]]|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\.\\.\\.\\s*[_$[:alpha:]]))([^()]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\)))*)?\\)   # parameters\n  (\\s*:\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+)?                                                                        # return type\n  \\s*=>                                                                                               # arrow operator\n)\n  ))\n))",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"},3:{name:"entity.name.function.js"}}},{match:"(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"},3:{name:"variable.other.constant.property.js"}}},{match:"(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*([_$[:alpha:]][_$[:alnum:]]*)",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"},3:{name:"variable.other.property.js"}}},{name:"variable.other.constant.js",match:"([[:upper:]][_$[:digit:][:upper:]]*)(?![_$[:alnum:]])"},{name:"variable.other.readwrite.js",match:"[_$[:alpha:]][_$[:alnum:]]*"}]},"object-identifiers":{patterns:[{name:"support.class.js",match:"([_$[:alpha:]][_$[:alnum:]]*)(?=\\s*\\??\\.\\s*prototype\\b(?!\\$))"},{match:"(?x)(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))\\s*(?:\n  ([[:upper:]][_$[:digit:][:upper:]]*) |\n  ([_$[:alpha:]][_$[:alnum:]]*)\n)(?=\\s*\\??\\.\\s*[_$[:alpha:]][_$[:alnum:]]*)",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"},3:{name:"variable.other.constant.object.property.js"},4:{name:"variable.other.object.property.js"}}},{match:"(?x)(?:\n  ([[:upper:]][_$[:digit:][:upper:]]*) |\n  ([_$[:alpha:]][_$[:alnum:]]*)\n)(?=\\s*\\??\\.\\s*[_$[:alpha:]][_$[:alnum:]]*)",captures:{1:{name:"variable.other.constant.object.js"},2:{name:"variable.other.object.js"}}}]},"type-annotation":{patterns:[{name:"meta.type.annotation.js",begin:"(:)(?=\\s*\\S)",beginCaptures:{1:{name:"keyword.operator.type.annotation.js"}},end:"(?<![:|&])((?=$|^|[,);\\}\\]]|//)|(?==[^>])|((?<=[\\}>\\]\\)]|[_$[:alpha:]])\\s*(?=\\{)))",patterns:[{include:"#type"}]},{name:"meta.type.annotation.js",begin:"(:)",beginCaptures:{1:{name:"keyword.operator.type.annotation.js"}},end:"(?<![:|&])((?=[,);\\}\\]]|//)|(?==[^>])|(?=^\\s*$)|((?<=\\S)(?=\\s*$))|((?<=[\\}>\\]\\)]|[_$[:alpha:]])\\s*(?=\\{)))",patterns:[{include:"#type"}]}]},"return-type":{patterns:[{name:"meta.return.type.js",begin:"(?<=\\))\\s*(:)(?=\\s*\\S)",beginCaptures:{1:{name:"keyword.operator.type.annotation.js"}},end:"(?<![:|&])(?=$|^|[{};,]|//)",patterns:[{include:"#return-type-core"}]},{name:"meta.return.type.js",begin:"(?<=\\))\\s*(:)",beginCaptures:{1:{name:"keyword.operator.type.annotation.js"}},end:"(?<![:|&])((?=[{};,]|//|^\\s*$)|((?<=\\S)(?=\\s*$)))",patterns:[{include:"#return-type-core"}]}]},"return-type-core":{patterns:[{include:"#comment"},{begin:"(?<=[:|&])(?=\\s*\\{)",end:"(?<=\\})",patterns:[{include:"#type-object"}]},{include:"#type-predicate-operator"},{include:"#type"}]},"arrow-return-type":{name:"meta.return.type.arrow.js",begin:"(?<=\\))\\s*(:)",beginCaptures:{1:{name:"keyword.operator.type.annotation.js"}},end:"(?==>|\\{|(^\\s*(export|function|class|interface|let|var|const|import|enum|namespace|module|type|abstract|declare)\\s+))",patterns:[{include:"#arrow-return-type-body"}]},"possibly-arrow-return-type":{begin:"(?<=\\))\\s*(:)(?=\\s*([^<>\\(\\)]|\\<[^<>]+\\>|\\([^\\(\\)]+\\))+\\s*=>)",beginCaptures:{1:{name:"meta.arrow.js meta.return.type.arrow.js keyword.operator.type.annotation.js"}},end:"(?==>|\\{|(^\\s*(export|function|class|interface|let|var|const|import|enum|namespace|module|type|abstract|declare)\\s+))",contentName:"meta.arrow.js meta.return.type.arrow.js",patterns:[{include:"#arrow-return-type-body"}]},"arrow-return-type-body":{patterns:[{begin:"(?<=[:])(?=\\s*\\{)",end:"(?<=\\})",patterns:[{include:"#type-object"}]},{include:"#type-predicate-operator"},{include:"#type"}]},"type-parameters":{name:"meta.type.parameters.js",begin:"(<)",beginCaptures:{1:{name:"punctuation.definition.typeparameters.begin.js"}},end:"(>)",endCaptures:{1:{name:"punctuation.definition.typeparameters.end.js"}},patterns:[{include:"#comment"},{name:"storage.modifier.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(extends)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{include:"#type"},{include:"#punctuation-comma"}]},"type-arguments":{name:"meta.type.parameters.js",begin:"\\<",beginCaptures:{0:{name:"punctuation.definition.typeparameters.begin.js"}},end:"\\>",endCaptures:{0:{name:"punctuation.definition.typeparameters.end.js"}},patterns:[{include:"#type"},{include:"#punctuation-comma"}]},type:{patterns:[{include:"#comment"},{include:"#string"},{include:"#numeric-literal"},{include:"#type-primitive"},{include:"#type-builtin-literals"},{include:"#type-parameters"},{include:"#type-tuple"},{include:"#type-object"},{include:"#type-conditional"},{include:"#type-operators"},{include:"#type-fn-type-parameters"},{include:"#type-paren-or-function-parameters"},{include:"#type-function-return-type"},{include:"#type-name"}]},"type-primitive":{name:"support.type.primitive.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(string|number|boolean|symbol|any|void|never)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"type-builtin-literals":{name:"support.type.builtin.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(this|true|false|undefined|null|object)(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"type-tuple":{name:"meta.type.tuple.js",begin:"\\[",beginCaptures:{0:{name:"meta.brace.square.js"}},end:"\\]",endCaptures:{0:{name:"meta.brace.square.js"}},patterns:[{include:"#type"},{include:"#punctuation-comma"}]},"type-object":{name:"meta.object.type.js",begin:"\\{",beginCaptures:{0:{name:"punctuation.definition.block.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.block.js"}},patterns:[{include:"#comment"},{include:"#method-declaration"},{include:"#indexer-declaration"},{include:"#indexer-mapped-type-declaration"},{include:"#field-declaration"},{include:"#type-annotation"},{begin:"\\.\\.\\.",beginCaptures:{0:{name:"keyword.operator.spread.js"}},end:"(?=\\}|;|,|$)|(?<=\\})",patterns:[{include:"#type"}]},{include:"#punctuation-comma"},{include:"#punctuation-semicolon"},{include:"#type"}]},"type-conditional":{patterns:[{begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(extends)\\s+",beginCaptures:{1:{name:"storage.modifier.js"}},end:"(?<=:)",patterns:[{begin:"\\?",beginCaptures:{0:{name:"keyword.operator.ternary.js"}},end:":",endCaptures:{0:{name:"keyword.operator.ternary.js"}},patterns:[{include:"#type"}]},{include:"#type"}]}]},"type-paren-or-function-parameters":{name:"meta.type.paren.cover.js",begin:"\\(",beginCaptures:{0:{name:"meta.brace.round.js"}},end:"\\)",endCaptures:{0:{name:"meta.brace.round.js"}},patterns:[{include:"#destructuring-parameter"},{match:"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(public|private|protected|readonly)\\s+)?(?:(\\.\\.\\.)\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))\\s*(\\??)(?=\\s*(:\\s*(\n  (<) |\n  ([(]\\s*(\n    ([)]) |\n    (\\.\\.\\.) |\n    ([_$[:alnum:]]+\\s*(\n      ([:,?=])|\n      ([)]\\s*=>)\n    ))\n  ))\n)) |\n(:\\s*([\\(]\\s*([\\{\\[]\\s*)?$)))",captures:{1:{name:"storage.modifier.js"},2:{name:"keyword.operator.rest.js"},3:{name:"entity.name.function.js variable.language.this.js"},4:{name:"entity.name.function.js"},5:{name:"keyword.operator.optional.js"}}},{match:"(?x)(?:(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(public|private|protected|readonly)\\s+)?(?:(\\.\\.\\.)\\s*)?(?<!=|:)(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(?:(this)|([_$[:alpha:]][_$[:alnum:]]*))\\s*(\\??)(?=:)",captures:{1:{name:"storage.modifier.js"},2:{name:"keyword.operator.rest.js"},3:{name:"variable.parameter.js variable.language.this.js"},4:{name:"variable.parameter.js"},5:{name:"keyword.operator.optional.js"}}},{include:"#type-annotation"},{name:"punctuation.separator.parameter.js",match:","},{include:"#type"}]},"type-fn-type-parameters":{patterns:[{name:"meta.type.constructor.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(new)\\b(?=\\s*\\<)",captures:{1:{name:"keyword.control.new.js"}}},{name:"meta.type.constructor.js",begin:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))(new)\\b\\s*(?=\\()",beginCaptures:{1:{name:"keyword.control.new.js"}},end:"(?<=\\))",patterns:[{include:"#function-parameters"}]},{name:"meta.type.function.js",begin:"(?x)(\n  (?=\n    [(]\\s*(\n      ([)]) |\n      (\\.\\.\\.) |\n      ([_$[:alnum:]]+\\s*(\n        ([:,?=])|\n        ([)]\\s*=>)\n      ))\n    )\n  )\n)",end:"(?<=\\))",patterns:[{include:"#function-parameters"}]}]},"type-function-return-type":{patterns:[{name:"meta.type.function.return.js",begin:"(=>)(?=\\s*\\S)",beginCaptures:{1:{name:"storage.type.function.arrow.js"}},end:"(?<!=>)(?<![|&])(?=[,\\]\\)\\{\\}=;>:\\?]|//|$)",patterns:[{include:"#type-function-return-type-core"}]},{name:"meta.type.function.return.js",begin:"=>",beginCaptures:{0:{name:"storage.type.function.arrow.js"}},end:"(?<!=>)(?<![|&])((?=[,\\]\\)\\{\\}=;:\\?>]|//|^\\s*$)|((?<=\\S)(?=\\s*$)))",patterns:[{include:"#type-function-return-type-core"}]}]},"type-function-return-type-core":{patterns:[{include:"#comment"},{begin:"(?<==>)(?=\\s*\\{)",end:"(?<=\\})",patterns:[{include:"#type-object"}]},{include:"#type-predicate-operator"},{include:"#type"}]},"type-operators":{patterns:[{include:"#typeof-operator"},{begin:"(?:([&|])|(=(?!>)))(?=\\s*\\{)",beginCaptures:{1:{name:"keyword.operator.type.js"},2:{name:"keyword.operator.assignment.js"}},end:"(?<=\\})",patterns:[{include:"#type-object"}]},{begin:"([&|])|(=(?!>))",beginCaptures:{1:{name:"keyword.operator.type.js"},2:{name:"keyword.operator.assignment.js"}},end:"(?=\\S)"},{name:"keyword.operator.expression.keyof.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))keyof(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},{name:"keyword.operator.ternary.js",match:"(\\?|\\:)"},{name:"keyword.operator.expression.infer.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))infer(?=\\s+[_$[:alpha:]])"},{name:"keyword.operator.expression.import.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))import(?=\\s*\\()"}]},"type-predicate-operator":{name:"keyword.operator.expression.is.js",match:"(?<![_$[:alnum:]])(?:(?<=\\.\\.\\.)|(?<!\\.))is(?![_$[:alnum:]])(?:(?=\\.\\.\\.)|(?!\\.))"},"type-name":{patterns:[{match:"([_$[:alpha:]][_$[:alnum:]]*)\\s*(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))",captures:{1:{name:"entity.name.type.module.js"},2:{name:"punctuation.accessor.js"},3:{name:"punctuation.accessor.optional.js"}}},{name:"entity.name.type.js",match:"[_$[:alpha:]][_$[:alnum:]]*"}]},"punctuation-comma":{name:"punctuation.separator.comma.js",match:","},"punctuation-semicolon":{name:"punctuation.terminator.statement.js",match:";"},"punctuation-accessor":{match:"(?:(\\.)|(\\?\\.(?!\\s*[[:digit:]])))",captures:{1:{name:"punctuation.accessor.js"},2:{name:"punctuation.accessor.optional.js"}}},string:{patterns:[{include:"#qstring-single"},{include:"#qstring-double"}]},"qstring-double":{name:"string.quoted.double.js",begin:'"',beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:'(")|((?:[^\\\\\\n])$)',endCaptures:{1:{name:"punctuation.definition.string.end.js"},2:{name:"invalid.illegal.newline.js"}},patterns:[{include:"#string-character-escape"}]},"qstring-single":{name:"string.quoted.single.js",begin:"'",beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:"(\\')|((?:[^\\\\\\n])$)",endCaptures:{1:{name:"punctuation.definition.string.end.js"},2:{name:"invalid.illegal.newline.js"}},patterns:[{include:"#string-character-escape"}]},"string-character-escape":{name:"constant.character.escape.js",match:"\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)"},template:{patterns:[{name:"string.template.js",begin:"([_$[:alpha:]][_$[:alnum:]]*)\\s*(?=(<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>|\\<\\s*(((keyof|infer)\\s+)|(([_$[:alpha:]][_$[:alnum:]]*|(\\{([^\\{\\}]|(\\{[^\\{\\}]*\\}))*\\})|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(\\[([^\\[\\]]|(\\[[^\\[\\]]*\\]))*\\])|(\\'[^\\']*\\')|(\\\"[^\\\"]*\\\")|(\\`[^\\`]*\\`))(?=\\s*([\\<\\>\\,\\.\\[=]|&(?!&)|\\|(?!\\|)))))([^<>\\(]|(\\(([^\\(\\)]|(\\([^\\(\\)]*\\)))*\\))|(?<==)\\>)*(?!=)\\>)*(?!=)>\\s*)`)",beginCaptures:{1:{name:"entity.name.function.tagged-template.js"}},end:"(?=`)",patterns:[{include:"#type-arguments"}]},{name:"string.template.js",begin:"([_$[:alpha:]][_$[:alnum:]]*)?(`)",beginCaptures:{1:{name:"entity.name.function.tagged-template.js"},2:{name:"punctuation.definition.string.template.begin.js"}},end:"`",endCaptures:{0:{name:"punctuation.definition.string.template.end.js"}},patterns:[{include:"#template-substitution-element"},{include:"#string-character-escape"}]}]},"template-substitution-element":{name:"meta.template.expression.js",begin:"\\$\\{",beginCaptures:{0:{name:"punctuation.definition.template-expression.begin.js"}},end:"\\}",endCaptures:{0:{name:"punctuation.definition.template-expression.end.js"}},patterns:[{include:"#expression"}],contentName:"meta.embedded.line.js"},regex:{patterns:[{name:"string.regexp.js",begin:"(?<!\\+\\+|--)(?<=[=(:,\\[?+!]|^return|[^\\._$[:alnum:]]return|^case|[^\\._$[:alnum:]]case|=>|&&|\\|\\||\\*\\/)\\s*(\\/)(?![\\/*])(?=(?:[^\\/\\\\\\[]|\\\\.|\\[([^\\]\\\\]|\\\\.)+\\])+\\/[gimsuy]*(?!\\s*[a-zA-Z0-9_$]))",beginCaptures:{1:{name:"punctuation.definition.string.begin.js"}},end:"(/)([gimsuy]*)",endCaptures:{1:{name:"punctuation.definition.string.end.js"},2:{name:"keyword.other.js"}},patterns:[{include:"#regexp"}]},{name:"string.regexp.js",begin:"(?<![_$[:alnum:])\\]]|\\+\\+|--)\\/(?![\\/*])(?=(?:[^\\/\\\\\\[]|\\\\.|\\[([^\\]\\\\]|\\\\.)+\\])+\\/[gimsuy]*(?!\\s*[a-zA-Z0-9_$]))",beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},end:"(/)([gimsuy]*)",endCaptures:{1:{name:"punctuation.definition.string.end.js"},2:{name:"keyword.other.js"}},patterns:[{include:"#regexp"}]}]},regexp:{patterns:[{name:"keyword.control.anchor.regexp",match:"\\\\[bB]|\\^|\\$"},{match:"\\\\[1-9]\\d*|\\\\k<([a-zA-Z_$][\\w$]*)>",captures:{0:{name:"keyword.other.back-reference.regexp"},1:{name:"variable.other.regexp"}}},{name:"keyword.operator.quantifier.regexp",match:"[?+*]|\\{(\\d+,\\d+|\\d+,|,\\d+|\\d+)\\}\\??"},{name:"keyword.operator.or.regexp",match:"\\|"},{name:"meta.group.assertion.regexp",begin:"(\\()((\\?=)|(\\?!)|(\\?<=)|(\\?<!))",beginCaptures:{1:{name:"punctuation.definition.group.regexp"},2:{name:"punctuation.definition.group.assertion.regexp"},3:{name:"meta.assertion.look-ahead.regexp"},4:{name:"meta.assertion.negative-look-ahead.regexp"},5:{name:"meta.assertion.look-behind.regexp"},6:{name:"meta.assertion.negative-look-behind.regexp"}},end:"(\\))",endCaptures:{1:{name:"punctuation.definition.group.regexp"}},patterns:[{include:"#regexp"}]},{name:"meta.group.regexp",begin:"\\((?:(\\?:)|(?:\\?<([a-zA-Z_$][\\w$]*)>))?",beginCaptures:{0:{name:"punctuation.definition.group.regexp"},1:{name:"punctuation.definition.group.no-capture.regexp"},2:{name:"variable.other.regexp"}},end:"\\)",endCaptures:{0:{name:"punctuation.definition.group.regexp"}},patterns:[{include:"#regexp"}]},{name:"constant.other.character-class.set.regexp",begin:"(\\[)(\\^)?",beginCaptures:{1:{name:"punctuation.definition.character-class.regexp"},2:{name:"keyword.operator.negation.regexp"}},end:"(\\])",endCaptures:{1:{name:"punctuation.definition.character-class.regexp"}},patterns:[{name:"constant.other.character-class.range.regexp",match:"(?:.|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))\\-(?:[^\\]\\\\]|(\\\\(?:[0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}))|(\\\\c[A-Z])|(\\\\.))",captures:{1:{name:"constant.character.numeric.regexp"},2:{name:"constant.character.control.regexp"},3:{name:"constant.character.escape.backslash.regexp"},4:{name:"constant.character.numeric.regexp"},5:{name:"constant.character.control.regexp"},6:{name:"constant.character.escape.backslash.regexp"}}},{include:"#regex-character-class"}]},{include:"#regex-character-class"}]},"regex-character-class":{patterns:[{name:"constant.other.character-class.regexp",match:"\\\\[wWsSdDtrnvf]|\\."},{name:"constant.character.numeric.regexp",match:"\\\\([0-7]{3}|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4})"},{name:"constant.character.control.regexp",match:"\\\\c[A-Z]"},{name:"constant.character.escape.backslash.regexp",match:"\\\\."}]},comment:{patterns:[{name:"comment.block.documentation.js",begin:"/\\*\\*(?!/)",beginCaptures:{0:{name:"punctuation.definition.comment.js"}},end:"\\*/",endCaptures:{0:{name:"punctuation.definition.comment.js"}},patterns:[{include:"#docblock"}]},{name:"comment.block.js",begin:"(/\\*)(?:\\s*((@)internal)(?=\\s|(\\*/)))?",beginCaptures:{1:{name:"punctuation.definition.comment.js"},2:{name:"storage.type.internaldeclaration.js"},3:{name:"punctuation.decorator.internaldeclaration.js"}},end:"\\*/",endCaptures:{0:{name:"punctuation.definition.comment.js"}}},{begin:"(^[ \\t]+)?((//)(?:\\s*((@)internal)(?=\\s|$))?)",beginCaptures:{1:{name:"punctuation.whitespace.comment.leading.js"},2:{name:"comment.line.double-slash.js"},3:{name:"punctuation.definition.comment.js"},4:{name:"storage.type.internaldeclaration.js"},5:{name:"punctuation.decorator.internaldeclaration.js"}},end:"(?=^)",contentName:"comment.line.double-slash.js"}]},directives:{name:"comment.line.triple-slash.directive.js",begin:"^(///)\\s*(?=<(reference|amd-dependency|amd-module)(\\s+(path|types|no-default-lib|lib|name)\\s*=\\s*((\\'([^\\'\\\\]|\\\\\\'|\\\\)*\\')|(\\\"([^\\\"\\\\]|\\\\\\\"|\\\\)*\\\")))+\\s*/>\\s*$)",beginCaptures:{1:{name:"punctuation.definition.comment.js"}},end:"(?=^)",patterns:[{name:"meta.tag.js",begin:"(<)(reference|amd-dependency|amd-module)",beginCaptures:{1:{name:"punctuation.definition.tag.directive.js"},2:{name:"entity.name.tag.directive.js"}},end:"/>",endCaptures:{0:{name:"punctuation.definition.tag.directive.js"}},patterns:[{name:"entity.other.attribute-name.directive.js",match:"path|types|no-default-lib|lib|name"},{name:"keyword.operator.assignment.js",match:"="},{include:"#string"}]}]},docblock:{patterns:[{match:"(?x)\n((@)(?:access|api))\n\\s+\n(private|protected|public)\n\\b",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"constant.language.access-type.jsdoc"}}},{match:"(?x)\n((@)author)\n\\s+\n(\n  [^@\\s<>*/]\n  (?:[^@<>*/]|\\*[^/])*\n)\n(?:\n  \\s*\n  (<)\n  ([^>\\s]+)\n  (>)\n)?",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"entity.name.type.instance.jsdoc"},4:{name:"punctuation.definition.bracket.angle.begin.jsdoc"},5:{name:"constant.other.email.link.underline.jsdoc"},6:{name:"punctuation.definition.bracket.angle.end.jsdoc"}}},{match:"(?x)\n((@)borrows) \\s+\n((?:[^@\\s*/]|\\*[^/])+)    # <that namepath>\n\\s+ (as) \\s+              # as\n((?:[^@\\s*/]|\\*[^/])+)    # <this namepath>",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"entity.name.type.instance.jsdoc"},4:{name:"keyword.operator.control.jsdoc"},5:{name:"entity.name.type.instance.jsdoc"}}},{name:"meta.example.jsdoc",begin:"((@)example)\\s+",end:"(?=@|\\*/)",beginCaptures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"}},patterns:[{match:"^\\s\\*\\s+"},{contentName:"constant.other.description.jsdoc",begin:"\\G(<)caption(>)",beginCaptures:{0:{name:"entity.name.tag.inline.jsdoc"},1:{name:"punctuation.definition.bracket.angle.begin.jsdoc"},2:{name:"punctuation.definition.bracket.angle.end.jsdoc"}},end:"(</)caption(>)|(?=\\*/)",endCaptures:{0:{name:"entity.name.tag.inline.jsdoc"},1:{name:"punctuation.definition.bracket.angle.begin.jsdoc"},2:{name:"punctuation.definition.bracket.angle.end.jsdoc"}}},{match:"[^\\s@*](?:[^*]|\\*[^/])*",captures:{0:{name:"source.embedded.js"}}}]},{match:"(?x) ((@)kind) \\s+ (class|constant|event|external|file|function|member|mixin|module|namespace|typedef) \\b",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"constant.language.symbol-type.jsdoc"}}},{match:"(?x)\n((@)see)\n\\s+\n(?:\n  # URL\n  (\n    (?=https?://)\n    (?:[^\\s*]|\\*[^/])+\n  )\n  |\n  # JSDoc namepath\n  (\n    (?!\n      # Avoid matching bare URIs (also acceptable as links)\n      https?://\n      |\n      # Avoid matching {@inline tags}; we match those below\n      (?:\\[[^\\[\\]]*\\])? # Possible description [preceding]{@tag}\n      {@(?:link|linkcode|linkplain|tutorial)\\b\n    )\n    # Matched namepath\n    (?:[^@\\s*/]|\\*[^/])+\n  )\n)",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"variable.other.link.underline.jsdoc"},4:{name:"entity.name.type.instance.jsdoc"}}},{match:"(?x)\n((@)template)\n\\s+\n# One or more valid identifiers\n(\n  [A-Za-z_$]         # First character: non-numeric word character\n  [\\w$.\\[\\]]*        # Rest of identifier\n  (?:                # Possible list of additional identifiers\n    \\s* , \\s*\n    [A-Za-z_$]\n    [\\w$.\\[\\]]*\n  )*\n)",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"variable.other.jsdoc"}}},{match:"(?x)\n(\n  (@)\n  (?:arg|argument|const|constant|member|namespace|param|var)\n)\n\\s+\n(\n  [A-Za-z_$]\n  [\\w$.\\[\\]]*\n)",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"variable.other.jsdoc"}}},{begin:"((@)typedef)\\s+(?={)",beginCaptures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"}},end:"(?=\\s|\\*/|[^{}\\[\\]A-Za-z_$])",patterns:[{include:"#jsdoctype"},{name:"entity.name.type.instance.jsdoc",match:"(?:[^@\\s*/]|\\*[^/])+"}]},{begin:"((@)(?:arg|argument|const|constant|member|namespace|param|prop|property|var))\\s+(?={)",beginCaptures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"}},end:"(?=\\s|\\*/|[^{}\\[\\]A-Za-z_$])",patterns:[{include:"#jsdoctype"},{name:"variable.other.jsdoc",match:"([A-Za-z_$][\\w$.\\[\\]]*)"},{name:"variable.other.jsdoc",match:"(?x)\n(\\[)\\s*\n[\\w$]+\n(?:\n  (?:\\[\\])?                                        # Foo[ ].bar properties within an array\n  \\.                                                # Foo.Bar namespaced parameter\n  [\\w$]+\n)*\n(?:\n  \\s*\n  (=)                                                # [foo=bar] Default parameter value\n  \\s*\n  (\n    # The inner regexes are to stop the match early at */ and to not stop at escaped quotes\n    (?>\n      \"(?:(?:\\*(?!/))|(?:\\\\(?!\"))|[^*\\\\])*?\" |                      # [foo=\"bar\"] Double-quoted\n      '(?:(?:\\*(?!/))|(?:\\\\(?!'))|[^*\\\\])*?' |                      # [foo='bar'] Single-quoted\n      \\[ (?:(?:\\*(?!/))|[^*])*? \\] |                                # [foo=[1,2]] Array literal\n      (?:(?:\\*(?!/))|\\s(?!\\s*\\])|\\[.*?(?:\\]|(?=\\*/))|[^*\\s\\[\\]])*   # Everything else\n    )*\n  )\n)?\n\\s*(?:(\\])((?:[^*\\s]|\\*[^\\s/])+)?|(?=\\*/))",captures:{1:{name:"punctuation.definition.optional-value.begin.bracket.square.jsdoc"},2:{name:"keyword.operator.assignment.jsdoc"},3:{name:"source.embedded.js"},4:{name:"punctuation.definition.optional-value.end.bracket.square.jsdoc"},5:{name:"invalid.illegal.syntax.jsdoc"}}}]},{begin:"(?x)\n(\n  (@)\n  (?:define|enum|exception|export|extends|lends|implements|modifies\n  |namespace|private|protected|returns?|suppress|this|throws|type\n  |yields?)\n)\n\\s+(?={)",beginCaptures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"}},end:"(?=\\s|\\*/|[^{}\\[\\]A-Za-z_$])",patterns:[{include:"#jsdoctype"}]},{match:"(?x)\n(\n  (@)\n  (?:alias|augments|callback|constructs|emits|event|fires|exports?\n  |extends|external|function|func|host|lends|listens|interface|memberof!?\n  |method|module|mixes|mixin|name|requires|see|this|typedef|uses)\n)\n\\s+\n(\n  (?:\n    [^{}@\\s*] | \\*[^/]\n  )+\n)",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"entity.name.type.instance.jsdoc"}}},{contentName:"variable.other.jsdoc",begin:"((@)(?:default(?:value)?|license|version))\\s+(([''\"]))",beginCaptures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"variable.other.jsdoc"},4:{name:"punctuation.definition.string.begin.jsdoc"}},end:"(\\3)|(?=$|\\*/)",endCaptures:{0:{name:"variable.other.jsdoc"},1:{name:"punctuation.definition.string.end.jsdoc"}}},{match:"((@)(?:default(?:value)?|license|tutorial|variation|version))\\s+([^\\s*]+)",captures:{1:{name:"storage.type.class.jsdoc"},2:{name:"punctuation.definition.block.tag.jsdoc"},3:{name:"variable.other.jsdoc"}}},{name:"storage.type.class.jsdoc",match:"(?x) (@) (?:abstract|access|alias|api|arg|argument|async|attribute|augments|author|beta|borrows|bubbles |callback|chainable|class|classdesc|code|config|const|constant|constructor|constructs|copyright |default|defaultvalue|define|deprecated|desc|description|dict|emits|enum|event|example|exception |exports?|extends|extension(?:_?for)?|external|externs|file|fileoverview|final|fires|for|func |function|generator|global|hideconstructor|host|ignore|implements|implicitCast|inherit[Dd]oc |inner|instance|interface|internal|kind|lends|license|listens|main|member|memberof!?|method |mixes|mixins?|modifies|module|name|namespace|noalias|nocollapse|nocompile|nosideeffects |override|overview|package|param|polymer(?:Behavior)?|preserve|private|prop|property|protected |public|read[Oo]nly|record|require[ds]|returns?|see|since|static|struct|submodule|summary |suppress|template|this|throws|todo|tutorial|type|typedef|unrestricted|uses|var|variation |version|virtual|writeOnce|yields?) \\b",captures:{1:{name:"punctuation.definition.block.tag.jsdoc"}}},{include:"#inline-tags"}]},brackets:{patterns:[{begin:"{",end:"}|(?=\\*/)",patterns:[{include:"#brackets"}]},{begin:"\\[",end:"\\]|(?=\\*/)",patterns:[{include:"#brackets"}]}]},"inline-tags":{patterns:[{name:"constant.other.description.jsdoc",match:"(\\[)[^\\]]+(\\])(?={@(?:link|linkcode|linkplain|tutorial))",captures:{1:{name:"punctuation.definition.bracket.square.begin.jsdoc"},2:{name:"punctuation.definition.bracket.square.end.jsdoc"}}},{name:"entity.name.type.instance.jsdoc",begin:"({)((@)(?:link(?:code|plain)?|tutorial))\\s*",beginCaptures:{1:{name:"punctuation.definition.bracket.curly.begin.jsdoc"},2:{name:"storage.type.class.jsdoc"},3:{name:"punctuation.definition.inline.tag.jsdoc"}},end:"}|(?=\\*/)",endCaptures:{0:{name:"punctuation.definition.bracket.curly.end.jsdoc"}},patterns:[{match:"\\G((?=https?://)(?:[^|}\\s*]|\\*[/])+)(\\|)?",captures:{1:{name:"variable.other.link.underline.jsdoc"},2:{name:"punctuation.separator.pipe.jsdoc"}}},{match:"\\G((?:[^{}@\\s|*]|\\*[^/])+)(\\|)?",captures:{1:{name:"variable.other.description.jsdoc"},2:{name:"punctuation.separator.pipe.jsdoc"}}}]}]},jsdoctype:{patterns:[{name:"invalid.illegal.type.jsdoc",match:"\\G{(?:[^}*]|\\*[^/}])+$"},{contentName:"entity.name.type.instance.jsdoc",begin:"\\G({)",beginCaptures:{0:{name:"entity.name.type.instance.jsdoc"},1:{name:"punctuation.definition.bracket.curly.begin.jsdoc"}},end:"((}))\\s*|(?=\\*/)",endCaptures:{1:{name:"entity.name.type.instance.jsdoc"},2:{name:"punctuation.definition.bracket.curly.end.jsdoc"}},patterns:[{include:"#brackets"}]}]},jsx:{patterns:[{include:"#jsx-tag-without-attributes-in-expression"},{include:"#jsx-tag-in-expression"}]},"jsx-tag-without-attributes-in-expression":{begin:"(?<!\\+\\+|--)(?<=[({\\[,?=>:*]|&&|\\|\\||\\?|^return|[^\\._$[:alnum:]]return|^default|[^\\._$[:alnum:]]default|^)\\s*(?=(<)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))?\\s*(>))",end:"(?!(<)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))?\\s*(>))",patterns:[{include:"#jsx-tag-without-attributes"}]},"jsx-tag-without-attributes":{name:"meta.tag.without-attributes.js",begin:"(<)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))?\\s*(>)",end:"(</)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))?\\s*(>)",beginCaptures:{1:{name:"punctuation.definition.tag.begin.js"},2:{name:"entity.name.tag.namespace.js"},3:{name:"punctuation.separator.namespace.js"},4:{name:"entity.name.tag.js"},5:{name:"support.class.component.js"},6:{name:"punctuation.definition.tag.end.js"}},endCaptures:{1:{name:"punctuation.definition.tag.begin.js"},2:{name:"entity.name.tag.namespace.js"},3:{name:"punctuation.separator.namespace.js"},4:{name:"entity.name.tag.js"},5:{name:"support.class.component.js"},6:{name:"punctuation.definition.tag.end.js"}},contentName:"meta.jsx.children.js",patterns:[{include:"#jsx-children"}]},"jsx-tag-in-expression":{begin:"(?x)\n  (?<!\\+\\+|--)(?<=[({\\[,?=>:*]|&&|\\|\\||\\?|^return|[^\\._$[:alnum:]]return|^default|[^\\._$[:alnum:]]default|^)\\s*\n  (?!<\\s*[_$[:alpha:]][_$[:alnum:]]*((\\s+extends\\s+[^=>])|,)) # look ahead is not type parameter of arrow\n  (?=(<)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))(?=((<\\s*)|(\\s+))(?!\\?)|\\/?>))",end:"(?!(<)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))(?=((<\\s*)|(\\s+))(?!\\?)|\\/?>))",patterns:[{include:"#jsx-tag"}]},"jsx-tag":{name:"meta.tag.js",begin:"(?=(<)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))(?=((<\\s*)|(\\s+))(?!\\?)|\\/?>))",end:"(/>)|(?:(</)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))?\\s*(>))",endCaptures:{1:{name:"punctuation.definition.tag.end.js"},2:{name:"punctuation.definition.tag.begin.js"},3:{name:"entity.name.tag.namespace.js"},4:{name:"punctuation.separator.namespace.js"},5:{name:"entity.name.tag.js"},6:{name:"support.class.component.js"},7:{name:"punctuation.definition.tag.end.js"}},patterns:[{begin:"(<)\\s*(?:([_$a-zA-Z][-$\\w.]*)(?<!\\.|-)(:))?((?:[a-z][a-z0-9]*|([_$a-zA-Z][-$\\w.]*))(?<!\\.|-))(?=((<\\s*)|(\\s+))(?!\\?)|\\/?>)",beginCaptures:{1:{name:"punctuation.definition.tag.begin.js"},2:{name:"entity.name.tag.namespace.js"},3:{name:"punctuation.separator.namespace.js"},4:{name:"entity.name.tag.js"},5:{name:"support.class.component.js"}},end:"(?=[/]?>)",patterns:[{include:"#comment"},{include:"#type-arguments"},{include:"#jsx-tag-attributes"}]},{begin:"(>)",beginCaptures:{1:{name:"punctuation.definition.tag.end.js"}},end:"(?=</)",contentName:"meta.jsx.children.js",patterns:[{include:"#jsx-children"}]}]},"jsx-children":{patterns:[{include:"#jsx-tag-without-attributes"},{include:"#jsx-tag"},{include:"#jsx-evaluated-code"},{include:"#jsx-entities"}]},"jsx-evaluated-code":{name:"meta.embedded.expression.js",begin:"\\{",end:"\\}",beginCaptures:{0:{name:"punctuation.section.embedded.begin.js"}},endCaptures:{0:{name:"punctuation.section.embedded.end.js"}},patterns:[{include:"#expression"}]},"jsx-entities":{patterns:[{name:"constant.character.entity.js",match:"(&)([a-zA-Z0-9]+|#[0-9]+|#x[0-9a-fA-F]+)(;)",captures:{1:{name:"punctuation.definition.entity.js"},3:{name:"punctuation.definition.entity.js"}}},{name:"invalid.illegal.bad-ampersand.js",match:"&"}]},"jsx-tag-attributes":{name:"meta.tag.attributes.js",begin:"\\s+",end:"(?=[/]?>)",patterns:[{include:"#comment"},{include:"#jsx-tag-attribute-name"},{include:"#jsx-tag-attribute-assignment"},{include:"#jsx-string-double-quoted"},{include:"#jsx-string-single-quoted"},{include:"#jsx-evaluated-code"},{include:"#jsx-tag-attributes-illegal"}]},"jsx-tag-attribute-name":{match:"(?x)\n  \\s*\n  (?:([_$a-zA-Z][-$\\w.]*)(:))?\n  ([_$a-zA-Z][-$\\w]*)\n  (?=\\s|=|/?>|/\\*|//)",captures:{1:{name:"entity.other.attribute-name.namespace.js"},2:{name:"punctuation.separator.namespace.js"},3:{name:"entity.other.attribute-name.js"}}},"jsx-tag-attribute-assignment":{name:"keyword.operator.assignment.js",match:"=(?=\\s*(?:'|\"|{|/\\*|//|\\n))"},"jsx-string-double-quoted":{name:"string.quoted.double.js",begin:'"',end:'"',beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},endCaptures:{0:{name:"punctuation.definition.string.end.js"}},patterns:[{include:"#jsx-entities"}]},"jsx-string-single-quoted":{name:"string.quoted.single.js",begin:"'",end:"'",beginCaptures:{0:{name:"punctuation.definition.string.begin.js"}},endCaptures:{0:{name:"punctuation.definition.string.end.js"}},patterns:[{include:"#jsx-entities"}]},"jsx-tag-attributes-illegal":{name:"invalid.illegal.attribute.js",match:"\\S+"}}}},c455:function(e,t,n){"use strict";var a=n("bc3a"),i=n.n(a);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){return l(e)||c(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done);a=!0)if(n.push(s.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{a||null==r["return"]||r["return"]()}finally{if(i)throw o}}return n}function l(e){if(Array.isArray(e))return e}var d=n("f121"),u=!1,p=i.a.create({baseURL:d.API_PATH,timeout:36e5,headers:u?{clikey:"DEcTjQRFbiYitFydhC2m5kd8JHieQrsztrbiPaz5DbHk68AWbmMBe7ShXw2ncwp5"}:{},trimNull:!1,withCredentials:!0,needLoading:!1,ignoreCode:!1});p.interceptors.request.use(function(e){if(e.needLoading&&window.EMA.fire("loading.show"),e.data=e.data||{},e.trimNull&&!(e.data instanceof window.FormData)){var t=Object.assign({},e.data);n(t),e.data=t}return e;function n(e){for(var t=0,a=Object.entries(e);t<a.length;t++){var i=s(a[t],2),r=i[0],c=i[1];if(!c&&"number"!==typeof c)return void(e[r]=null);"object"!==o(c)||c instanceof Date||n(c)}}},function(e){return Promise.reject(e)}),p.interceptors.response.use(function(e){e.config.needLoading&&window.EMA.fire("loading.hide");var t=0==e.data.result?"0":e.data.result||"";if(t&&1!=t&&!e.config.ignoreCode){switch(t){case 999:window.EMA.fire("alert.show","认证失败,重新登录",function(){window.EMA.fire("logout")});break;default:window.EMA.fire("alert.show",e.data.msg||e.data.errorMsg,function(){})}return Promise.reject(e)}return e},function(e){window.EMA.fire("loading.hide");var t=e.response&&e.response.status,n=e.message;return 200!=t&&(401==t?window.EMA.fire("alert.show","认证失败,重新登录",function(){window.EMA.fire("logout")}):403==t?((document.querySelector("body > .editorWarp")||{}).innerHTML="",window.EMA.fire("alert.show","你无权限访问该内容,请联系相关人员分配权限",function(){window.onbeforeunload=null,window.onunload=null,history.go(-1)})):window.EMA.fire("alert.show",n,function(){})),Promise.reject(e)}),t["a"]=p},c552:function(e,t,n){"use strict";var a=n("44c8"),i=n.n(a);i.a},c570:function(e,t,n){"use strict";var a=n("88e6"),i=n.n(a);i.a},c767:function(e,t,n){},c9eb:function(e,t,n){},cacd:function(e,t,n){},cae0:function(e,t,n){},ce3b:function(e,t,n){"use strict";var a=n("d836"),i=n.n(a);i.a},d157:function(e){e.exports={tokenColors:[{settings:{background:"#1c1e21",foreground:"#4a79cf",findHighlight:"#FFE792",findHighlightForeground:"#000000",selectionBorder:"#222218",activeGuide:"#9D550FB0",bracketsForeground:"#F8F8F2A5",bracketsOptions:"underline",bracketContentsForeground:"#F8F8F2A5",bracketContentsOptions:"underline",tagsOptions:"stippled_underline"}},{name:"Comment",scope:["comment","string.comment"],settings:{foreground:"#676f7d",fontStyle:"italic"}},{name:"String",scope:"string",settings:{foreground:"#e5c07b"}},{name:"js template-expression",scope:"punctuation.definition.template-expression.begin.js,punctuation.definition.template-expression.end.js,punctuation.definition.template-expression.begin.ts,punctuation.definition.template-expression.end.ts",settings:{foreground:"#c678dd"}},{name:"TemplateString",scope:"string.template.js",settings:{foreground:"#e5c07b"}},{name:"TemplateString",scope:"meta.template.expression.js",settings:{foreground:"#abb2bf"}},{name:"Number",scope:"constant.numeric",settings:{foreground:"#c678dd"}},{name:"Embeded String Begin and End",scope:["string.embedded.begin","string.embedded.end"],settings:{foreground:"#c678dd"}},{name:"Embeded String",scope:"string.embedded",settings:{foreground:"#98c379"}},{name:"Built-in constant",scope:"constant.language",settings:{foreground:"#56b6c2"}},{name:"User-defined constant",scope:["constant.character","constant.other"],settings:{foreground:"#56b6c2"}},{name:"Language Variable",scope:"variable.language",settings:{foreground:"#e06c75"}},{name:"Variable",scope:["variable.readwrite","variable.readwrite.other.block"],settings:{foreground:"#61afef"}},{name:"Keyword",scope:["keyword","keyword.operator.logical","keyword.operator.constructor"],settings:{foreground:"#e06c75"}},{name:"Keyword Operator",scope:"keyword.operator",settings:{foreground:"#e06c75"}},{name:"Storage",scope:"storage",settings:{foreground:"#e06c75"}},{name:"Storage type",scope:"storage.type",settings:{foreground:"#56b6c2"}},{name:"Class name",scope:["entity.name.class","entity.name.module","entity.name.type","storage.identifier","support.class"],settings:{foreground:"#61afef"}},{name:"Variable Object",scope:"variable.other.object",settings:{foreground:"#61afef"}},{name:"Other variable",scope:["variable.other.property","variable.other.block"],settings:{foreground:"#abb2bf"}},{name:"Inherited class",scope:"entity.other.inherited-class",settings:{foreground:"#98c379"}},{name:"Function name",scope:["entity.name.function","support.function"],settings:{foreground:"#98c379"}},{name:"Function argument",scope:"variable.parameter",settings:{fontStyle:"italic",foreground:"#d19a66"}},{name:"Function call",scope:"entity.name.function-call",settings:{foreground:"#abb2bf"}},{name:"Builtin Functions",scope:["function.support.builtin","function.support.core"],settings:{foreground:"#98c379"}},{name:"Tag name",scope:["entity.name.tag","entity.name.tag.class.js","entity.name.tag.class.jsx"],settings:{foreground:"#e06c75"}},{name:"Tag Class and ID",scope:["entity.name.tag.class","entity.name.tag.id"],settings:{foreground:"#56b6c2"}},{name:"Tag attribute",scope:"entity.other.attribute-name",settings:{foreground:"#98c379"}},{name:"Library constant",scope:"support.constant",settings:{foreground:"#56b6c2"}},{name:"Library class/type",scope:["support.type","support.variable"],settings:{foreground:"#56b6c2"}},{name:"Json Property",scope:"support.dictionary.json",settings:{foreground:"#56b6c2"}},{name:"StyleSheet Property name",scope:["support.type.property-name.css","support.type.property-name.scss","support.type.property-name.less","support.type.property-name.sass"],settings:{foreground:"#abb2bf"}},{name:"StyleSheet Property value",scope:["support.constant.css","support.constant.scss","support.constant.less","support.constant.sass"],settings:{foreground:"#98c379"}},{name:"StyleSheet Variable",scope:["variable.css","variable.scss","variable.less","variable.sass"],settings:{foreground:"#56b6c2"}},{name:"StyleSheet Variable String",scope:["variable.css.string","variable.scss.string","variable.less.string","variable.sass.string"],settings:{foreground:"#e5c07b"}},{name:"StyleSheet Unit",scope:["unit.css","unit.scss","unit.less","unit.sass"],settings:{foreground:"#c678dd"}},{name:"StyleSheet Function",scope:["function.css","function.scss","function.less","function.sass"],settings:{foreground:"#56b6c2"}},{name:"Library variable",scope:"support.other.variable",settings:{fontStyle:""}},{name:"Invalid",scope:"invalid",settings:{background:"#c678dd",foreground:"#F8F8F0"}},{name:"Invalid deprecated",scope:"invalid.deprecated",settings:{background:"#56b6c2",foreground:"#F8F8F0"}},{name:"JSON String",scope:"structure.dictionary.property-name.json",settings:{foreground:"#56b6c2"}},{name:"Link",scope:"string.detected-link",settings:{foreground:"#61afef"}},{name:"diff.header",scope:["meta.diff","meta.diff.header"],settings:{foreground:"#75715E"}},{name:"diff.deleted",scope:"markup.deleted",settings:{foreground:"#c678dd"}},{name:"diff.inserted",scope:"markup.inserted",settings:{foreground:"#e5c07b"}},{name:"diff.changed",scope:"markup.changed",settings:{foreground:"#e5c07b"}},{scope:"constant.numeric.line-number.find-in-files - match",settings:{foreground:"#56b6c2A0"}},{scope:"entity.name.filename.find-in-files",settings:{foreground:"#e5c07b"}},{name:"Markup: Emphasis",scope:"markup.italic, markup.italic.markdown",settings:{fontStyle:"italic"}},{name:"Markup: Emphasis Punctuation",scope:"punctuation.definition.italic.markdown",settings:{fontStyle:"none",foreground:"#696969"}},{name:"Markdown: Link",scope:"markup.underline.link.markdown",settings:{foreground:"#61afef"}},{name:"Markdown: Bold",scope:"markup.bold.markdown",settings:{fontStyle:"bold"}},{name:"Markdown: Bold Punctuation",scope:"punctuation.definition.bold.markdown",settings:{fontStyle:"none",foreground:"#696969"}},{name:"Markdown: Heading",scope:"markup.heading.markdown",settings:{fontStyle:"bold",foreground:"#e06c75"}},{name:"Markdown: Heading",scope:"punctuation.definition.heading.markdown",settings:{fontStyle:"none",foreground:"#696969"}},{name:"Markdown: Quote",scope:"markup.quote.markdown",settings:{foreground:"#98c379"}},{name:"Markdown: Separator",scope:"meta.separator.markdown",settings:{foreground:"#c678dd",fontStyle:"bold"}},{name:"Markdown: Raw",scope:"markup.raw.inline.markdown, markup.raw.block.markdown",settings:{foreground:"#56b6c2"}},{name:"Markdown: List Punctuation",scope:"punctuation.definition.list_item.markdown",settings:{fontStyle:"bold",foreground:"#ffffff"}}],colors:{"activityBar.background":"#2F333D","activityBar.foreground":"#D7DAE0","activityBarBadge.background":"#528bff","activityBarBadge.foreground":"#F8FAFD","button.background":"#528bff","dropdown.background":"#1d1f23","diffEditor.insertedTextBackground":"#00809B33","dropdown.border":"#181A1F","editor.background":"#1c1e21","editorError.foreground":"#c24038","editorRuler.foreground":"#484848","editor.lineHighlightBackground":"#383E4A","editor.selectionBackground":"#3E4451","editorCursor.foreground":"#f8f8f0","editor.editor.findMatchBackground":"#42557B","editor.findMatchHighlightBackground":"#314365","editorGroup.background":"#181A1F","editorGroup.border":"#181A1F","editorGroupHeader.tabsBackground":"#21252B","editorIndentGuide.background":"#3B4048","editorLineNumber.foreground":"#495162","editorWhitespace.foreground":"#484a50","editorHoverWidget.background":"#21252B","editorHoverWidget.border":"#181A1F","editorSuggestWidget.background":"#21252B","editorSuggestWidget.border":"#181A1F","editorSuggestWidget.selectedBackground":"#2c313a","editorWidget.background":"#21252B","input.background":"#1d1f23","list.activeSelectionBackground":"#2c313a","list.activeSelectionForeground":"#d7dae0","list.focusBackground":"#383E4A","list.hoverBackground":"#292d35","list.highlightForeground":"#C5C5C5","list.inactiveSelectionBackground":"#2c313a","list.inactiveSelectionForeground":"#d7dae0","notification.background":"#21252b","scrollbarSlider.background":"#4E566680","scrollbarSlider.activeBackground":"#747D9180","scrollbarSlider.hoverBackground":"#5A637580","sideBar.background":"#21252b","sideBarSectionHeader.background":"#1c1e21","statusBar.background":"#21252B","statusBar.foreground":"#9da5b4","statusBarItem.hoverBackground":"#2c313a","statusBar.noFolderBackground":"#21252B","statusBar.debuggingBackground":"#21252B","tab.activeBackground":"#383E4A","tab.border":"#181A1F","tab.inactiveBackground":"#21252B","titleBar.activeBackground":"#1c1e21","titleBar.activeForeground":"#9da5b4","titleBar.inactiveBackground":"#1c1e21","titleBar.inactiveForeground":"#6B717D"},name:"One Monokai"}},d19a:function(e,t,n){"use strict";var a=n("82b5"),i=n.n(a);i.a},d1bf:function(e,t,n){},d3d6:function(e,t,n){"use strict";var a=n("f65f"),i=n.n(a);i.a},d42c:function(e,t,n){"use strict";var a=n("42a9"),i=n.n(a);i.a},d4a8:function(e,t,n){"use strict";var a=n("d7e5"),i=n.n(a);i.a},d518:function(e,t,n){},d7b5:function(e,t,n){},d7e5:function(e,t,n){},d836:function(e,t,n){},db69:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],attrs:{size:e.size,id:"virtualUpload",type:"primary"}},[e._v("上传\n  "),n("i",{staticClass:"el-icon-upload el-icon--right"})])},i=[],o=n("e97e"),s=n("46ee"),r=n.n(s),c=n("c455"),l=function(e){Object(c["a"])({url:"upload/getTocken",method:"get",needLoading:!1,data:{}}).then(function(t){var n=t.data.data;e(n)})},d=function(e){var t=e.id,n=(e.fileName,e.filters),a=e.isAddUploadFile,i=e.callback;this.imgSrc="";var s=!1,c=this,l={image:{title:"资源选择",extensions:"jpg,gif,png,jpeg"},video:{title:"资源选择",extensions:"mp4"},audio:{title:"资源选择",extensions:"mp3"},file:{title:"资源选择",extensions:"csv,json,txt"}};window.mOxie&&(window.mOxie.Mime.mimes.csv=".csv"),this.uploader=new r.a.Uploader({runtimes:"html5",browse_button:t,url:"https://oss.aliyuncs.com",filters:[l[n]],prevent_duplicates:!0,max_file_size:"100mb",init:{PostInit:function(){},FilesAdded:function(e,t){if(s)return!1;s=!0;var n=this,i=t[0].name;if(a){var r=i.lastIndexOf(".");-1!==r&&(i="ymm_"+(new Date).getTime()+i.substring(r)),Object(o["e"])(t[0].getNative(),function(e){var a=new window.File([Object(o["c"])(e,t[0].type)],i,{type:t[0].type});n.addFile(a),n.removeFile(t[0]),c.send(i)})}},BeforeUpload:function(e,t){},UploadProgress:function(e,t){},FileUploaded:function(e,t,n){200===n.status&&(c.imgSrc=c.imgSrc.replace("ymm.oss-cn-hangzhou.aliyuncs.com","imagecdn.ymm56.com"),i(c.imgSrc)),s=!1},Error:function(e,t){}}}),this.uploader.init()};d.prototype.send=function(e){var t=this,n=e||"ymm"+(new Date).getTime()+".png";l(function(e){e.key=e.dir+"resource/"+n,t.imgSrc=e.host+"/"+e.key;var a={key:e.key,policy:e.policy,OSSAccessKeyId:e.accessid,success_action_status:"200",signature:e.signature};t.uploader.setOption({url:e.host,multipart_params:a}),t.uploader.start()})};var u=d,p=n("ed03"),m={mixins:[p["a"]],name:"UploadImage",components:{},props:{h2c:{required:!1,type:Object,default:function(){return{}}},templateElement:{type:String},size:{type:String,default:"medium"},accept:{type:String,default:"image"},auto:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!1}},data:function(){return{uploadObject:null,options:null,onUploaded:null,templateData:{name:"",desc:""}}},watch:{accept:function(e){var t=this;this.uploadObject=new u({id:this.$el,isAddUploadFile:this.auto,filters:this.accept,callback:function(e){t.$emit("uploadSuccess",e),"function"===typeof t.onUploaded&&t.onUploaded(e)}})}},beforeDestroy:function(){},mounted:function(){var e=this;this.uploadObject=new u({id:this.$el,isAddUploadFile:this.auto,filters:this.accept,callback:function(t){e.$emit("uploadSuccess",t),"function"===typeof e.onUploaded&&e.onUploaded(t)}}),this.ema.bind("saveTemplate",function(){e.options=null,e.onUploaded=null,e.getImageDataByDom(document.querySelector(e.templateElement),function(t){e.uploadImg(t)})})},methods:{upload:function(e,t,n){var a=this;this.options=t||null,this.onUploaded=n||null;var i=this.options["fileName"];e=e||document.querySelector(this.templateElement),this.getImageDataByDom(e,function(e){a.uploadImg(e,i)})},uploadImg:function(e,t){var n=t||"ymm"+(new Date).getTime()+".png",a=this,i=new window.File([o["a"].getBlobBydataURI(e,"image/png")],n,{type:"image/png"});a.uploadObject.uploader.addFile(i),a.uploadObject.send(n)},getImageDataByDom:function(e,t){this.h2c.ignoreElements=function(e){return!!e.hasAttribute("ignorehtml2canvas")},o["a"].html2canvas(e,this.h2c).then(function(e){var n=e.toDataURL();t&&t(n)})}}},f=m,h=n("2877"),g=Object(h["a"])(f,a,i,!1,null,"88c34bf6",null);t["a"]=g.exports},dda0:function(e,t,n){"use strict";var a=n("c9eb"),i=n.n(a);i.a},df59:function(e,t,n){"use strict";var a=n("cae0"),i=n.n(a);i.a},dfe6:function(e,t,n){"use strict";var a=n("c767"),i=n.n(a);i.a},e88d:function(e,t,n){},e97e:function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return h});var a=n("a7fe"),i=n("c455"),o=n("f230"),s=n.n(o),r=n("f121");function c(e,t){return t=Object.assign({proxy:"".concat(r.API_PATH,"cors-proxy")},t),s()(e,t)}function l(e){function t(e){for(var n in e)e.hasOwnProperty(n)&&(/^__/g.test(n)&&delete e[n],e.child&&e.child.forEach(function(e){t(e)}))}t(e)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return d.cache||(d.cache={}),d.cache[e]?Promise.resolve():new Promise(function(n,a){t(e,function(){d.cache[e]="cached",n()},function(){console.error("".concat(e," 加载失败")),a(new Error("".concat(e," 加载失败")))})});function t(e,t,n){var a=document.createElement("script");a.src=e,a.async=!0,a.onload=t,a.onerror=n,(document.body||document.head).appendChild(a)}}function u(e){if(e.id){var t={id:e.name,type:e.name,label:e.label,version:e.version,url:e.path,visible:!0,style:{},animate:[],props:{},path:e.path,script:""};e.style&&(t.style=Object.assign({position:"absolute",width:"80px",height:"80px",left:"0px",top:"0px"},e.style));var n=Object.keys(window.$_nodecomponents||{}).concat([e.name]);return t=Object(a["f"])(t,n),t.label&&(t.label=t.id.replace(e.id,t.label)),t}}function p(e){Object(i["a"])({url:"component/useone",method:"post",needLoading:!1,data:{id:e}}).then(function(){return!0}).catch()}function m(e){e=e||"0";var t=e.match(/^[-0-9.]+/);return t?t[0]-0:0}function f(e,t){for(var n=window.atob(e.split(",")[1]),a=[],i=0,o=n.length;i<o;i++)a.push(n.charCodeAt(i));var s=new window.Blob([new Uint8Array(a)],{type:t});return s}function h(e,t){var n=new window.FileReader;n.readAsDataURL(e),n.onload=function(e){t&&t(this.result)}}var g="https://cdn.staticfile.org/fingerprintjs2/1.8.0/fingerprint2.min.js",b="YMMFP";function v(){return v.promise||(v.promise=new Promise(function(e){var t=localStorage.getItem(b);if(t)return e(t);d(g).then(function(){window.Fingerprint2||e("unknown"),window.Fingerprint2&&(new window.Fingerprint2).get(function(t){localStorage.setItem(b,t),e(t)})})})),v.promise}t["a"]={html2canvas:c,removeAttr:l,loadJs:d,getBaseNode:u,useComponent:p,getNumber:m,getBlobBydataURI:f,readAsDataURL:h,getFingerPrint:v}},ed03:function(e,t,n){"use strict";var a=n("f7ab"),i=n.n(a),o=n("5880");t["a"]={props:[],data:function(){return{}},created:function(){this.ema=i.a.getProxy()},computed:Object(o["mapState"])({Config:function(e){return e.Config},Setting:function(e){return e.setting},RootNodeInfo:function(e){return e.RootNodeInfo},Metadata:function(e){return e.Metadata},App:function(e){return e.app},demoMode:function(e){return e.setting.demoMode}}),mounted:function(){},destroyed:function(){this.ema&&this.ema.dispose()},methods:{bindEvent:function(e,t){this.$options.name||console.warn("绑定事件的组件不存在组件名称",e),this.ema.bind("".concat(this.$options.name,".").concat(e),t)},openDialog:function(e){this.ema.fire("Dialogs.push",e)}}}},ed6a:function(e){e.exports={layout:{children:[{children:[{children:[{name:"组件树",component:"widgetComponentTree",close:!0,pop:!0}],type:"panel",flex:.5371845949535192},{children:[{children:[{name:"脚本",component:"widgetScriptEditor",style:{width:"300px",height:"400px",left:"300px",top:"300px"},close:!1,pop:!0},{name:"组件列表",component:"widgetComponent",close:!0,pop:!0},{name:"组合组件",component:"widgetCombinedComponents",close:!0,pop:!0,style:{width:"472.75px",height:"378.5px",left:"377px",top:"472px"}}],type:"panel",flex:1}],type:"column",flex:.4628154050464807}],type:"column",flex:.2351640648382981},{children:[{children:[{name:"脚本编辑",component:"widgetCodePanel",close:!1,pop:!1},{name:"场景",component:"widgetScene",close:!1,pop:!1}],type:"panel",flex:1}],type:"column",flex:.5016249900988153},{children:[{children:[{name:"属性",component:"widgetAttribute",close:!1,pop:!0},{name:"样式",component:"widgetStyleEditor",close:!1,pop:!0},{name:"动画",component:"widgetAnimate",close:!0,pop:!0},{name:"页面设置",component:"widgetPageInfo",close:!0,pop:!0}],type:"panel",flex:1}],type:"column",flex:.2632109450628866}],type:"row"},dialogs:[],version:1.2,name:"develop"}},ed84:function(e,t,n){"use strict";var a=n("59e1"),i=n.n(a);i.a},ee1f:function(e,t,n){"use strict";var a=n("d1bf"),i=n.n(a);i.a},eef8:function(e,t){e.exports={API_PATH:"/interface/game",VIEW_PATH:"/g"}},f0d9f:function(e,t,n){"use strict";var a=n("97ba"),i=n.n(a);i.a},f121:function(e,t,n){var a=n("79b9"),i=Object.assign(a,n("eef8"));["VIEW_PATH","ADMIN_PATH","EDITOR_PATH","API_PATH"].map(function(e){"/"!==i[e]&&(/^(https?:)?\/\//.test(i[e])?i[e]=i[e].replace(/\/*$/,"/"):i[e]=i[e].replace(/^\/*|\/*$/g,"/"))}),i.VIEW_NAME=(i.VIEW_PATH.match(/([^\/]+)\/?$/)||["","view"])[1],i.EDITOR_NAME=(i.EDITOR_PATH.match(/([^\/]+)\/?$/)||["","editor"])[1],e.exports=i},f230:function(e,t){e.exports=html2canvas},f2d4:function(e,t,n){"use strict";var a=n("ff12"),i=n.n(a);i.a},f413:function(e,t,n){},f65f:function(e,t,n){},f7ab:function(e,t){var n=function(){var e={bind:function(e,t){if(e&&"string"===typeof e&&t&&t.constructor&&"function"===typeof t){var n=this.events[e];n||(n=this.events[e]=[]);var a=n.length;while(a--)if(n[a]==t)return!1;return n.push(t),!0}return!1},unbind:function(e,t){if(e&&e.constructor&&e.constructor==String){if(!t)return delete this.events[e],!0;if(t&&"function"===typeof t){var n=this.events[e];if(n&&n.length){var a=n.length;while(a--)if(n[a]==t){n.splice(a,1);break}return!0}return!1}}return!1},clear:function(){this.events=[]},fire:function(e){var t;if(e&&"string"===typeof e&&(t=this.events[e])&&t.length){var n,a=Array.prototype.slice.call(arguments,1),i=0;while(n=t[i++])n.apply(window,a);return!0}return!1},count:function(e){var t=this.events[e];return t?t.length:0},getProxy:function(){return new a(this)},events:[]};return e};function a(e){this.msgslot=e,this.msgs=[];var t=e.fire,n=e.async;this.fire=function(){t.apply(e,arguments)},this.async=function(){n.apply(e,arguments)}}a.prototype={bind:function(e,t){var n=this.msgslot.bind(e,t);return n&&this.msgs.push([e,t]),n},unbind:function(e,t){var n=this.msgslot,a=this.msgs;if(t&&"function"===typeof t){var i=n.unbind(e,t),o=a.length;while(--o>=0)a[o][0]==e&&a[o][1]==t&&a.splice(o,1);return i}o=this.msgs.length;while(o--)a[o][0]==e&&(n.unbind(e,a[o][1]),a.splice(o,1));return!0},dispose:function(){if(null!=this.msgs){var e=this.msgs,t=this.msgslot,n=e.length;while(n--)t.unbind(e[n][0],e[n][1]);this.msgslot=null,this.msgs=null}}},e.exports=n()},f86a:function(e,t,n){},f8bd:function(e,t,n){},f8dd:function(e,t,n){"use strict";var a=n("7d4d"),i=n.n(a);i.a},fb4d:function(e,t,n){var a={"./default.json":"8d29","./develop.json":"ed6a","./flutter.json":"a81d"};function i(e){return o(e).then(function(e){return n.t(e,3)})}function o(e){return Promise.resolve().then(function(){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t})}i.keys=function(){return Object.keys(a)},i.resolve=o,i.id="fb4d",e.exports=i},fb4e:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"codeviewer"},[n("div",{ref:"editor",staticClass:"editor"})])},i=[],o=n("a34a"),s=n.n(o),r=n("ed03"),c=n("c2c6"),l=n("3f10");function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e){return g(e)||h(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function g(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}var w=function(){function e(){b(this,e),this.themes={}}return y(e,[{key:"getTheme",value:function(e){return this.themes[e]}},{key:"register",value:function(e,t,n,a){var i,o=n||e.name,s={name:o,base:a||"vs",inherit:!0,colors:{},rules:[],settings:[]};if(this.themes[o])return this.themes[o];if(this.themes[o]=s,"undefined"!==typeof e.include)if(t&&t[e.include]){var r,d,u=this.register(t[e.include],t);Object.assign(s.colors,u.colors),(r=s.rules).push.apply(r,m(u.rules)),(d=s.settings).push.apply(d,m(u.settings))}else console.error("Couldn't resolve includes theme ".concat(e.include,"."));e.tokenColors&&(i=s.settings).push.apply(i,m(e.tokenColors));if(e.colors&&(Object.assign(s.colors,e.colors),s.encodedTokensColors=Object.keys(s.colors).map(function(e){return s.colors[e]})),a&&n){var p=!0,f=!1,h=void 0;try{for(var g,b=s.settings[Symbol.iterator]();!(p=(g=b.next()).done);p=!0){var v=g.value;this.transform(v,function(e){return s.rules.push(e)})}}catch(w){f=!0,h=w}finally{try{p||null==b.return||b.return()}finally{if(f)throw h}}var y=new l["Registry"];y.setTheme(s),s.encodedTokensColors=y.getColorMap(),s.encodedTokensColors[0]=null,s.colors&&s.colors["editor.foreground"]&&(s.encodedTokensColors[1]=s.colors["editor.foreground"]),s.colors&&s.colors["editor.background"]&&(s.encodedTokensColors[2]=s.colors["editor.background"]),c["editor"].defineTheme(n,s)}return s}},{key:"transform",value:function(e,t){"undefined"===typeof e.scope?e.scope=[""]:"string"===typeof e.scope&&(e.scope=[e.scope]);var n=!0,a=!1,i=void 0;try{for(var o,s=e.scope[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var r=o.value,c=Object.keys(e.settings).reduce(function(t,n){var a=e.settings[n];return p(a)===p("")&&(a=a.replace(/^\#/,"").slice(0,6)),t[n]=a,t},{});t(d({},c,{token:r}))}}catch(l){a=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}}]),e}(),x=new w,k=(x.register(n("5522"),{"./dark_defaults.json":n("70a6"),"./dark_vs.json":n("8ce7")},"dark-plus","vs-dark").name,x.register(n("b328"),{"./light_defaults.json":n("75fb"),"./light_vs.json":n("51b4")},"light-plus","vs").name,x.register(n("d157"),{},"onemonokai","vs-dark").name,x.register(n("7f61"),{},"sublime","vs-dark").name,n("2d53"));function _(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function C(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){_(o,a,i,s,r,"next",e)}function r(e){_(o,a,i,s,r,"throw",e)}s(void 0)})}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}var E="undefined"!==typeof window.WebAssembly;function I(){return new Promise(function(e,t){var n=new window.XMLHttpRequest;n.onreadystatechange=function(){this.readyState===window.XMLHttpRequest.DONE&&(200===this.status?e(this.response):t(new Error("Could not fetch onigasm")))};var a="/assets/game/onigasm.wasm";n.open("GET",a,!0),n.responseType="arraybuffer",n.send()})}var T=function(){function e(){$(this,e)}return j(e,[{key:"createOnigScanner",value:function(e){return new k["OnigScanner"](e)}},{key:"createOnigString",value:function(e){return new k["OnigString"](e)}}]),e}(),A=E?I().then(function(){var e=C(s.a.mark(function e(t){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(k["loadWASM"])(t);case 2:return e.abrupt("return",new T);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()):Promise.reject(new Error("wasm not supported")),N=A;function O(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){O(o,a,i,s,r,"next",e)}function r(e){O(o,a,i,s,r,"throw",e)}s(void 0)})}}var D="",M=n("c247"),L=function(){function e(e){this.ruleStack=e}return e.prototype.clone=function(){return new e(this.ruleStack)},e.prototype.equals=function(t){return t instanceof e&&(t===this||t.ruleStack===this.ruleStack)},e}(),F={"source.js":"grammar.json"};function B(e,t){return{getInitialState:function(){return new L(l["INITIAL"])},tokenizeEncoded:function(n,a){var i=n;void 0!==t.lineLimit&&n.length>t.lineLimit&&(i=n.substr(0,t.lineLimit));var o=e.tokenizeLine2(i,a.ruleStack);return{endState:new L(o.ruleStack),tokens:o.tokens}}}}function R(e){return z.apply(this,arguments)}function z(){return z=P(s.a.mark(function e(t){var n,a;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t!==D){e.next=2;break}return e.abrupt("return");case 2:return D=t,n=new l["Registry"]({theme:x.getTheme(t),getOnigLib:function(){return N},loadGrammar:function(e){var t=F[e];return t?new Promise(function(e,n){var a=Object(l["parseRawGrammar"])(JSON.stringify(M),t);e(a)}):null}}),e.next=6,n.loadGrammarWithConfiguration("source.js",42,{});case 6:a=e.sent,c["languages"].setTokensProvider("javascript",B(a,{})),c["editor"].setTheme(t);case 9:case"end":return e.stop()}},e)})),z.apply(this,arguments)}var H={init:R};function G(e,t,n,a,i,o,s){try{var r=e[o](s),c=r.value}catch(l){return void n(l)}r.done?t(c):Promise.resolve(c).then(a,i)}function U(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){G(o,a,i,s,r,"next",e)}function r(e){G(o,a,i,s,r,"throw",e)}s(void 0)})}}window.textmate=H;var V=n("b047c"),W={mixins:[r["a"]],name:"CodeViewer",props:{ctype:{type:String,default:"javascript"},highlight:Object,contents:{type:String,default:""},options:{type:Object,default:function(){return{}}},onChange:{type:Function,default:function(){}},dirty:{default:!1,type:[Boolean,Number]},ctrls:Boolean},editor:null,data:function(){return{themes:["dark-plus","light-plus","onemonokai","sublime"],theme:window.localStorage.getItem("monacotheme")||"dark-plus",savedContent:"",mEditor:null,codeChangeEmitter:null}},watch:{theme:{handler:function(e){window.localStorage.setItem("monacotheme",e),H.init(e)}},contents:function(e){this.mEditor&&e!=this.mEditor.getValue()&&this.mEditor.setValue(e||"")},ctype:function(e,t){e!=t&&this.initEditor()},highlight:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.line,n=e.start,a=e.end,i=this;if(t&&n&&a){if(!this.mEditor)return setTimeout(o.bind(this),100);o()}function o(){var e=i.mEditor;e.focus(),e.revealLineInCenter(t),e.setSelection({selectionStartLineNumber:t,positionLineNumber:t,selectionStartColumn:n,positionColumn:a})}},immediate:!0}},mounted:function(){this.$nextTick(this.initEditor)},beforDestroy:function(){this.mEditor&&this.mEditor.container.remove()},methods:{initEditor:function(){var e=U(s.a.mark(function e(){var t,n,a=this;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=function(){var e=t.ctype||"javascript";return Object.assign({},{language:e,theme:t.theme,lineNumbers:"javascript"===e?"on":"off",lineNumbersMinChars:3,scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:5,horizontalScrollbarSize:5}},t.options||{})},t=this,this.mEditor=c["editor"].create(this.$refs.editor,n()),this.mEditor.onDidChangeModelContent(function(e){t.editorChange(e)}),this.mEditor.getModel().updateOptions({tabSize:2}),this.addAction(this.mEditor),this.ctrls&&this.mEditor.addCommand(c["KeyMod"].CtrlCmd|c["KeyCode"].KEY_S,function(){var e=a.mEditor.getValue();a.$emit("ctrls",e),t.$emit("update:dirty",0),t.savedContent=e}),setTimeout(function(e){H.init(a.theme)},500),this.changeContent(),this.savedContent=this.contents;case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addAction:function(e){var t=this;e.addAction({id:"nextchangeTheme",label:"下一个主题",keybindings:[c["KeyCode"].F4,c["KeyMod"].chord(c["KeyCode"].F4)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){return t.nextTheme(1),null}}),e.addAction({id:"prevchangeTheme",label:"上一个主题",keybindings:[c["KeyCode"].F3,c["KeyMod"].chord(c["KeyCode"].F3)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){return t.nextTheme(-1),null}})},editorChange:function(e){var t=this,n=this;n.codeChangeEmitter?this.codeChangeEmitter(e):this.codeChangeEmitter=V(function(e){var a=t.mEditor.getValue();n.$emit("update:contents",a),n.$emit("update:dirty",a!==t.savedContent),n.onChange(a)},500)},nextTheme:function(e){var t=this.themes.indexOf(this.theme);e<0?(t-=1,t<0&&(t=this.themes.length-1)):(t+=1,t==this.themes.length&&(t=0)),this.theme=this.themes[t]},changeContent:function(){this.mEditor.setValue(this.contents||"")}}},q=W,K=(n("33dd"),n("2877")),X=Object(K["a"])(q,a,i,!1,null,"e2c1da56",null);t["a"]=X.exports},fca1:function(e,t,n){"use strict";var a=n("25f4"),i=n.n(a);i.a},fe0f:function(e,t,n){},ff12:function(e,t,n){},ff75:function(e,t,n){"use strict";var a=n("2baa"),i=n.n(a);i.a}});