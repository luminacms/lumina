"use strict";layui.define(["table","admin","laytpl"],function(e){function t(e){var t=this;t.selected=[],t.config=$.extend({},t.config,r.config,e),t.render(),t.events()}var a=layui.table,i=window.layer,l=layui.laytpl,n="MallProductAttrPicker",r={config:{},set:function(e){var t=this;return t.config=$.extend({},t.config,e),t},on:function(e,t){return layui.onevent.call(n,"user("+name+")",t)}};t.prototype.config={},t.prototype.event=function(e,t){return layui.event.call(this,n,"submit("+e+")",t)},t.prototype.on=function(e,t){return layui.onevent.call(this,n,"submit("+e+")",t)},t.prototype.render=function(){i.open({type:1,btn:["选择","取消"],area:["800px","500px"],content:'<div class="layui-row" id="product_attr_layer"><div class="layui-col-sm5"><div class="layui-card"><div class="layui-card-body"><table id="picker_user_table" lay-filter="picker_user_table"></table></div></div></div><div class="layui-col-sm2" style="text-align: center; padding-top: 166px;"><div id="moveRight" style="margin-bottom: 10px;"><button data-type="0" data-index="1" class="layui-btn  layui-btn-disabled btn"> <i class="fa"></i></button></div></div><div class="layui-col-sm5"><div class="layui-card"><div class="layui-card-body" style="border: 1px solid #e6e6e6;margin: 15px 15px;height: 360px;overflow-y: scroll;"><form class="layui-form layui-form-pane" id="product_attr_form"></form></div></div></div></div>',yes:function(){},no:function(){i.close(picker_modal)},success:function(){a.render({elem:"#picker_user_table",url:"/interface/mall/product-attrs",size:"sm",width:"500px",height:"360px",page:!1,toolbar:!0,defaultToolbar:[],autoSort:!1,cellMinWidth:80,cols:[[{type:"checkbox",fixed:"left"},{field:"name",width:80,title:"名称"},{field:"description",title:"备注"}]]})}})},t.prototype.updateIptRender=function(){var e=$("#product_attr_layer").find("#product_attr_form"),i="";$.each(this.selected,function(e,t){i+=l('<div class="layui-form-item"><label for="" class="layui-form-label">{{ d.name }}：</label><div class="layui-input-block"><input type="text" class="layui-input" name="{{ d.id }}"></div></div>').render({id:t.id,name:t.name})}),e.html(i)},t.prototype.events=function(e){var i=this;i.config;a.on("checkbox(picker_user_table)",function(e){var t=a.checkStatus("picker_user_table");i.selected=t.data,i.selected.length,i.updateIptRender()})},r.render=function(e){return new t(e)},e(n,r)});