"use strict";layui.define("jquery",function(e){function l(e){var a=this;a.index=++t.index,a.config=r.extend({},a.config,t.config,e),a.render()}var r=layui.jquery,t={config:{},index:layui.rate?layui.rate.index+1e4:0,set:function(e){var a=this;return a.config=r.extend({},a.config,e),a},on:function(e,a){return layui.onevent.call(this,n,e,a)}},n="rate",f="fa-star-o",u="fa-star",s="fa-star-half",o="fa-rate-solid fa-rate-half",c="fa-rate fa-rate-half";l.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},l.prototype.render=function(){var e=this,a=e.config,l=a.theme?'style="color: '+a.theme+';"':"";a.elem=r(a.elem),parseInt(a.value)!==a.value&&(a.half||(a.value=Math.ceil(a.value)-a.value<.5?Math.ceil(a.value):Math.floor(a.value)));for(var t='<ul class="layui-rate" '+(a.readonly?"readonly":"")+">",n=1;n<=a.length;n++){var i='<li class="layui-inline"><i class="fa '+(n>Math.floor(a.value)?f:u)+'" '+l+"></i></li>";a.half&&parseInt(a.value)!==a.value&&n==Math.ceil(a.value)?t=t+'<li><i class="fa fa-rate-half" '+l+"></i></li>":t+=i}t+="</ul>"+(a.text?'<span class="layui-inline">'+a.value+"星":"")+"</span>";var s=a.elem,o=s.next(".layui-rate");o[0]&&o.remove(),e.elemTemp=r(t),a.span=e.elemTemp.next("span"),a.setText&&a.setText(a.value),s.html(e.elemTemp),s.addClass("layui-inline"),a.readonly||e.action()},l.prototype.setvalue=function(e){this.config.value=e,this.render()},l.prototype.action=function(){var t=this.config,n=this.elemTemp,i=n.find("i").width();n.children("li").each(function(e){var a=e+1,l=r(this);l.on("click",function(e){t.value=a,!t.half||e.pageX-r(this).offset().left<=i/2&&(t.value=t.value-.5);t.text&&n.next("span").text(t.value+"星"),t.choose&&t.choose(t.value),t.setText&&t.setText(t.value)}),l.on("mousemove",function(e){n.find("i").each(function(){r(this).addClass(f).removeClass(o)}),n.find("i:lt("+a+")").each(function(){r(this).addClass(u).removeClass(c).removeClass(f)}),!t.half||e.pageX-r(this).offset().left<=i/2&&l.children("i").addClass(s).removeClass(u)}),l.on("mouseleave",function(){n.find("i").each(function(){r(this).addClass(f).removeClass(o)}),n.find("i:lt("+Math.floor(t.value)+")").each(function(){r(this).addClass(u).removeClass(c).removeClass(f)}),t.half&&parseInt(t.value)!==t.value&&n.children("li:eq("+Math.floor(t.value)+")").children("i").addClass(s).removeClass("fa-rate-solid fa-rate")})})},l.prototype.events=function(){this.config},t.render=function(e){var a=new l(e);return function(){var a=this;return{setvalue:function(e){a.setvalue.call(a,e)},config:a.config}}.call(a)},e(n,t)});